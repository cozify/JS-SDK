!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios")):"function"==typeof define&&define.amd?define(["exports","axios"],t):t((e=e||self).CozifySDK={},e.axios)}(this,(function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[U]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[F]||!!e.constructor[F]||l(e)||f(e))}function a(e,t){0===s(e)?V(e).forEach((function(n){return t(n,e[n],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[U];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:l(e)?2:f(e)?3:0}function c(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function l(e){return x&&e instanceof Map}function f(e){return j&&e instanceof Set}function p(e){return e.o||e.t}function d(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return a(e,(function(i){if(i!==U){var o=Object.getOwnPropertyDescriptor(e,i),a=o.value;o.get&&(t||r(1),a=o.get.call(e)),o.enumerable?n[i]=a:Object.defineProperty(n,i,{value:a,writable:!0,configurable:!0})}})),n}function h(e,t){i(e)||Object.isFrozen(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&a(e,(function(e,t){return h(t,!0)})))}function v(){r(2)}function y(e){var t=Q[e];return t||r(19,e),t}function m(){return C}function b(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function g(e){E(e),e.p.forEach(T),e.p=null}function E(e){e===C&&(C=e.l)}function O(e){return C={p:[],l:C,h:e,m:!0,_:0}}function T(e){var t=e[U];0===t.i||1===t.i?t.j():t.O=!0}function _(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||y("ES5").S(t,e,i),i?(n[U].P&&(g(t),r(4)),o(e)&&(e=I(t,e),t.l||S(t,e)),t.u&&y("Patches").M(n[U],e,t.u,t.s)):e=I(t,n,[]),g(t),t.u&&t.v(t.u,t.s),e!==M?e:void 0}function I(e,t,n){if(Object.isFrozen(t))return t;var r=t[U];if(!r)return a(t,(function(i,o){return N(e,r,t,i,o,n)})),t;if(r.A!==e)return t;if(!r.P)return S(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=d(r.k,!0):r.o;a(i,(function(t,o){return N(e,r,i,t,o,n)})),S(e,i,!1),n&&e.u&&y("Patches").R(r,n,e.u,e.s)}return r.o}function N(e,t,n,r,a,l){if(i(a)){var f=I(e,a,l&&t&&3!==t.i&&!c(t.D,r)?l.concat(r):void 0);if(d=r,h=f,2===(v=s(p=n))?p.set(d,h):3===v?(p.delete(d),p.add(h)):p[d]=h,!i(f))return;e.m=!1}var p,d,h,v;if((!t||!u(a,function(e,t){return 2===s(e)?e.get(t):e[t]}(t.t,r)))&&o(a)){if(!e.h.N&&e._<1)return;I(e,a),t&&t.A.l||S(e,a)}}function S(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&h(t,n)}function w(e,t){var n=e[U],r=Reflect.getOwnPropertyDescriptor(n?p(n):e,t);return r&&r.value}function D(e){if(!e.P){if(e.P=!0,0===e.i||1===e.i){var t=e.o=d(e.t);a(e.p,(function(e,n){t[e]=n})),e.p=void 0}e.l&&D(e.l)}}function A(e){e.o||(e.o=d(e.t))}function R(e,t,n){var r=l(t)?y("MapSet").T(t,n):f(t)?y("MapSet").F(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:m(),P:!1,I:!1,D:{},l:t,t:e,k:null,p:{},o:null,j:null,C:!1},i=r,o=q;n&&(i=[r],o=K);var a=Proxy.revocable(i,o),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(t,n):y("ES5").J(t,n);return(n?n.A:m()).p.push(r),r}var P,C,k="undefined"!=typeof Symbol,x="undefined"!=typeof Map,j="undefined"!=typeof Set,L="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,M=k?Symbol("immer-nothing"):((P={})["immer-nothing"]=!0,P),F=k?Symbol("immer-draftable"):"__$immer_draftable",U=k?Symbol("immer-state"):"__$immer_state",V="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Q={},q={get:function(e,t){if(t===U)return e;var n=e.p;if(!e.P&&c(n,t))return n[t];var r=p(e)[t];if(e.I||!o(r))return r;if(e.P){if(r!==w(e.t,t))return r;n=e.o}return n[t]=R(e.A.h,r,e)},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){if(!e.P){var r=w(e.t,t);if(n?u(r,n)||n===e.p[t]:u(r,n)&&t in e.t)return!0;A(e),D(e)}return e.D[t]=!0,e.o[t]=n,!0},deleteProperty:function(e,t){return void 0!==w(e.t,t)||t in e.t?(e.D[t]=!1,A(e),D(e)):e.D[t]&&delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&(r.writable=!0,r.configurable=1!==e.i||"length"!==t),r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},K={};a(q,(function(e,t){K[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),K.deleteProperty=function(e,t){return q.deleteProperty.call(this,e[0],t)},K.set=function(e,t,n){return q.set.call(this,e[0],t,n,e[0])};var B=new(function(){function e(e){this.g=L,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var n=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(o))}))}}var s;if("function"!=typeof t&&r(6),void 0!==n&&"function"!=typeof n&&r(7),o(e)){var c=O(this),u=R(this,e,void 0),l=!0;try{s=t(u),l=!1}finally{l?g(c):E(c)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return b(c,n),_(e,c)}),(function(e){throw g(c),e})):(b(c,n),_(s,c))}if((s=t(e))!==M)return void 0===s&&(s=e),this.N&&h(s,!0),s},t.produceWithPatches=function(e,t){var n,r,i=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){o(e)||r(8);var t=O(this),n=R(this,e,void 0);return n[U].C=!0,E(t),n},t.finishDraft=function(e,t){var n=(e&&e[U]).A;return b(n,t),_(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){L||r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=y("Patches").U;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),G=B.produce;B.produceWithPatches.bind(B),B.setAutoFreeze.bind(B),B.setUseProxies.bind(B),B.applyPatches.bind(B),B.createDraft.bind(B),B.finishDraft.bind(B);var $=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),H=function(){return Math.random().toString(36).substring(7).split("").join(".")},Y={INIT:"@@redux/INIT"+H(),REPLACE:"@@redux/REPLACE"+H(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+H()}};function z(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(z)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=i(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:Y.INIT}),(r={dispatch:p,subscribe:f,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,p({type:Y.REPLACE})}})[$]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[$]=function(){return this},e},r}function J(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function W(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:Y.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:Y.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+Y.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=e[c],f=u(l,t);if(void 0===f){var p=J(c,t);throw new Error(p)}i[c]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return ee({},n,{dispatch:r=te.apply(void 0,o)(n.dispatch)})}}}function re(e,t){return e===t}function ie(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function oe(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var ae=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,a=r.pop(),s=oe(r),c=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=a,u.dependencies=s,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re,n=null,r=null;return function(){return ie(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));function se(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var ce=se();function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}ce.withExtraArgument=se;var le="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?te:te.apply(null,arguments)};function fe(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var pe=!0;function de(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return ue({type:e,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function he(e){return["type","payload","error","meta"].indexOf(e)>-1}function ve(e){var t={},n={addCase:function(e,r){var i="string"==typeof e?e:e.type;if(i in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[i]=r,n}};return e(n),t}function ye(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},i=void 0===e.extraReducers?{}:"function"==typeof e.extraReducers?ve(e.extraReducers):e.extraReducers,o=Object.keys(r),a={},s={},c={};o.forEach((function(e){var n,i,o=r[e],u=t+"/"+e;"reducer"in o?(n=o.reducer,i=o.prepare):n=o,a[e]=n,s[u]=n,c[e]=i?de(u,i):de(u)}));var u=function(e,t){var n="function"==typeof t?ve(t):t;return function(t,r){return void 0===t&&(t=e),G(t,(function(e){var t=n[r.type];return t?t(e,r):void 0}))}}(n,ue({},i,{},s));return{name:t,reducer:u,actions:c,caseReducers:a}}function me(e){return function(t,n){function r(e){return fe(t=e)&&"string"==typeof t.type&&Object.keys(t).every(he);var t}var o=function(t){r(n)?e(n.payload,t):e(n,t)};return i(t)?(o(t),t):G(t,o)}}function be(e,t){return t(e)}function ge(e){function t(t,n){var r=be(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){Array.isArray(e)||(e=Object.values(e));var r=e,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}t(a,n)}}function r(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function i(t,n){var r={},i={};(t.forEach((function(e){e.id in n.entities&&(i[e.id]=ue({},i[e.id],{},e))})),(t=Object.values(i)).length>0)&&(t.filter((function(t){return function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=be(o,e),s=a!==n.id;return s&&(t[n.id]=a,delete r.entities[n.id]),r.entities[a]=o,s}(r,t,n)})).length>0&&(n.ids=n.ids.map((function(e){return r[e]||e}))))}function o(t,r){Array.isArray(t)||(t=Object.values(t));var o=[],a=[],s=t,c=Array.isArray(s),u=0;for(s=c?s:s[Symbol.iterator]();;){var l;if(c){if(u>=s.length)break;l=s[u++]}else{if((u=s.next()).done)break;l=u.value}var f=l,p=be(f,e);p in r.entities?a.push({id:p,changes:f}):o.push(f)}i(a,r),n(o,r)}return{removeAll:function(e){return Object.assign({},e,{ids:[],entities:{}})},addOne:me(t),addMany:me(n),setAll:me((function(e,t){Array.isArray(e)||(e=Object.values(e)),t.ids=[],t.entities={},n(e,t)})),updateOne:me((function(e,t){return i([e],t)})),updateMany:me(i),upsertOne:me((function(e,t){return o([e],t)})),upsertMany:me(o),removeOne:me((function(e,t){return r([e],t)})),removeMany:me(r)}}function Ee(e,t){var n=ge(e);function r(t,n){Array.isArray(t)||(t=Object.values(t));var r=t.filter((function(t){return!(be(t,e)in n.entities)}));0!==r.length&&a(r,n)}function i(t,n){var r=[];t.forEach((function(t){return function(t,n,r){if(!(n.id in r.entities))return!1;var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=be(o,e);return delete r.entities[n.id],t.push(o),a!==n.id}(r,t,n)})),0!==r.length&&a(r,n)}function o(t,n){Array.isArray(t)||(t=Object.values(t));var o=[],a=[],s=t,c=Array.isArray(s),u=0;for(s=c?s:s[Symbol.iterator]();;){var l;if(c){if(u>=s.length)break;l=s[u++]}else{if((u=s.next()).done)break;l=u.value}var f=l,p=be(f,e);p in n.entities?a.push({id:p,changes:f}):o.push(f)}i(a,n),r(o,n)}function a(n,r){n.sort(t),n.forEach((function(t){r.entities[e(t)]=t}));var i=Object.values(r.entities);i.sort(t);var o=i.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(r.ids,o)||(r.ids=o)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:me((function(e,t){return r([e],t)})),updateOne:me((function(e,t){return i([e],t)})),upsertOne:me((function(e,t){return o([e],t)})),setAll:me((function(e,t){Array.isArray(e)||(e=Object.values(e)),t.entities={},t.ids=[],r(e,t)})),addMany:me(r),updateMany:me(i),upsertMany:me(o)}}function Oe(e){void 0===e&&(e={});var t=ue({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer;return ue({selectId:n,sortComparer:r},{getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},{},{getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=ae(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},o=function(e,t){return e[t]},a=ae(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:a,selectById:ae(n,i,o)};var s=ae(e,n);return{selectIds:ae(e,t),selectEntities:s,selectAll:ae(e,r),selectTotal:ae(e,a),selectById:ae(s,i,o)}}},{},r?Ee(n,r):ge(n))}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));for(var Te="-_",_e=36;_e--;)Te+=_e.toString(36);for(_e=36;_e---10;)Te+=_e.toString(36).toUpperCase();var Ie=["name","message","stack","code"],Ne=function(e){this.value=e},Se=function(e){if("object"==typeof e&&null!==e){var t={},n=Ie,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;"string"==typeof e[a]&&(t[a]=e[a])}return t}return{message:String(e)}};function we(e,t){var n=de(e+"/fulfilled",(function(e,t,n){return{payload:e,meta:{arg:n,requestId:t}}})),r=de(e+"/pending",(function(e,t){return{payload:void 0,meta:{arg:t,requestId:e}}})),i=de(e+"/rejected",(function(e,t,n,r){var i=!!e&&"AbortError"===e.name;return{payload:r,error:Se(e||"Rejected"),meta:{arg:n,requestId:t,aborted:i}}})),o="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(a,s,c){var u,l=function(e){void 0===e&&(e=21);for(var t="";e--;)t+=Te[64*Math.random()|0];return t}(),f=new o,p=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))}));var d=function(){try{var o,u=function(){return a(o),o},d=function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return a(r(l,e)),Promise.resolve(Promise.race([p,Promise.resolve(t(e,{dispatch:a,getState:s,extra:c,requestId:l,signal:f.signal,rejectWithValue:function(e){return new Ne(e)}})).then((function(t){return t instanceof Ne?i(null,l,e,t.value):n(t,l,e)}))])).then((function(e){o=e}))}),(function(t){o=i(t,l,e)}));return Promise.resolve(d&&d.then?d.then(u):u())}catch(e){return Promise.reject(e)}}();return Object.assign(d,{abort:function(e){u=e,f.abort()}})}}),{pending:r,rejected:i,fulfilled:n})}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(){function e(e,t){var n=e[U];if(n&&!n.$){n.$=!0;var r=e[t];return n.$=!1,r}return e[t]}function t(e){e.P||(e.P=!0,e.l&&t(e.l))}function n(e){e.o||(e.o=s(e.t))}function s(e){var t=e&&e[U];if(t){t.$=!0;var n=d(t.k,!0);return t.$=!1,n}return d(e)}function l(e){for(var n=e.length-1;n>=0;n--){var r=e[n][U];if(!r.P)switch(r.i){case 5:h(r)&&t(r);break;case 4:f(r)&&t(r)}}}function f(e){for(var t=e.t,n=e.k,r=Object.keys(n),i=r.length-1;i>=0;i--){var o=r[i],a=t[o];if(void 0===a&&!c(t,o))return!0;var s=n[o],l=s&&s[U];if(l?l.t!==a:!u(s,a))return!0}return r.length!==Object.keys(t).length}function h(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}function v(e){e.O&&r(3,JSON.stringify(p(e)))}var y={};!function(e,t){Q[e]=t}("ES5",{J:function(r,i){var c=Array.isArray(r),l=s(r);a(l,(function(i){!function(r,i,a){var s=y[i];s?s.enumerable=a:y[i]=s={enumerable:a,get:function(){return function(t,r){v(t);var i=e(p(t),r);return t.$?i:i===e(t.t,r)&&o(i)?(n(t),t.o[r]=R(t.A.h,i,t)):i}(this[U],i)},set:function(r){!function(r,i,o){if(v(r),r.D[i]=!0,!r.P){if(u(o,e(p(r),i)))return;t(r),n(r)}r.o[i]=o}(this[U],i,r)}},Object.defineProperty(r,i,s)}(l,i,c||function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(!n||!n.enumerable)}(r,i))}));var f={i:c?5:4,A:i?i.A:m(),P:!1,$:!1,I:!1,D:{},l:i,t:r,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,U,{value:f,writable:!0}),l},K:t,S:function(e,n,r){e.p.forEach((function(e){e[U].$=!0})),r?i(n)&&n[U].A===e&&l(e.p):(e.u&&function e(n){if(n&&"object"==typeof n){var r=n[U];if(r){var i=r.t,o=r.k,s=r.D,u=r.i;if(4===u)a(o,(function(n){n!==U&&(void 0!==i[n]||c(i,n)?s[n]||e(o[n]):(s[n]=!0,t(r)))})),a(i,(function(e){void 0!==o[e]||c(o,e)||(s[e]=!1,t(r))}));else if(5===u){if(h(r)&&(t(r),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var f=i.length;f<o.length;f++)s[f]=!0;for(var p=Math.min(o.length,i.length),d=0;d<p;d++)void 0===s[d]&&e(o[d])}}}}(e.p[0]),l(e.p))}})}();const Re=ye({name:"alarms",initialState:{},reducers:{setAlarms(e,t){const n=e,{hubId:r}=t.payload,{alarms:i}=t.payload,o={};Object.entries(i).forEach(e=>{const[t,n]=e;o[t]=Ae({},n)}),n[r]=Ae({},o)},setAlarm(e,t){const n=e,{hubId:r}=t.payload,{alarm:i}=t.payload;r&&n[r]&&(n[r][i.id]=Ae({},i))},removeAlarm(e,t){const n=e,{hubId:r}=t.payload,{alarmId:i}=t.payload;r&&i&&n[r]&&n[r][i]&&delete n[r][i]}}}),Pe=Oe(),{selectById:Ce,selectIds:ke,selectEntities:xe,selectAll:je,selectTotal:Le}=Pe.getSelectors(e=>e.alarms);Re.selectors=Pe.getSelectors(e=>e.alarms),Re.selectors.getAlarms=ae([e=>e.alarms],e=>e);const{actions:Me,reducer:Fe}=Re;let Ue=!1;"object"==typeof process&&"object"==typeof process.versions&&(void 0!==process.versions.node?(Ue=!0,console.log("Running in node.js")):console.log("Running in browser"));const Ve=Ue;let Qe=e=>(console.error("Invalid atob for string ",e),"invalid atob");if(Ue){Qe=e=>{return Buffer.from(e,"base64").toString("binary")}}else Qe=window.atob;function qe(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");let n=t;switch(n.length%4){case 0:case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("Illegal base64url string!")}let r="",i=e=>(console.error("Invalid atob for string ",e),"invalid atob");if(Ue){i=e=>{return Buffer.from(e,"base64").toString("binary")}}else i=window.atob;try{r=i(t)}catch(e){try{r=i(n)}catch(e){console.error("urlBase64Decode: trying atob failed")}}return r}const Ke=["91 30 CF 20 17 F7 D7 EC F7 BA 43 30 8E 19 83 B4 CF DE 5A CC","26 B0 20 FA AB E8 A3 81 63 37 C6 B7 EF 94 4D 40 3D 1B 85 10"],Be="https://testapi.cozify.fi",Ge="ui/0.2/";let $e="https://api.cozify.fi";function He(){return`${$e}/${Ge}`}const Ye="1.13",ze=Object.freeze({USER_LOGIN:{method:"POST",url:"user/login",params:["password","email"],config:{responseType:Ve?"blob":"stream",timeout:15e3}},HUB_KEYS:{method:"GET",url:"user/hubkeys",timeout:15e3},HUB_LOCK_BACKUP:{method:"POST",url:"hub/remote/cc/$API_VER/hub/lockconfig"},REFRESH_AUTHKEY:{method:"GET",url:"user/refreshsession"},CLOUD_IP:{method:"GET",url:"hub/lan_ip"},CLOUD_META:{method:"GET",url:"hub/remote/hub"},POLL:{method:"GET",url:"hub/remote/cc/$API_VER/hub/poll",urlParams:["ts"]},PAIR_START:{method:"GET",url:"hub/remote/cc/$API_VER/hub/scan",urlParams:["ts"]},PAIR_IGNORE:{method:"PUT",url:"hub/remote/cc/$API_VER/hub/scan",type:"SET_SCAN_RESULT",params:["id","ignored"]},PAIR_STOP:{method:"GET",url:"hub/remote/cc/$API_VER/hub/stopscan"},CMD_DEVICE_STATE:{method:"PUT",url:"hub/remote/cc/$API_VER/devices/command",type:"CMD_DEVICE",params:["id","state"]},CMD_DEVICE_IGNORE:{method:"PUT",url:"hub/remote/cc/$API_VER/devices/command",type:"CMD_IGNORE_DEVICE",params:["id"]},CMD_DEVICE_IDENTIFY:{method:"PUT",url:"hub/remote/cc/$API_VER/devices/command",type:"CMD_IDENTIFY",params:["id"]},CMD_DEVICE_META:{method:"PUT",url:"hub/remote/cc/$API_VER/devices/command",type:"CMD_DEVICE_META",params:["id","name","room"]},CMD_GET_ROOMS:{method:"GET",url:"hub/remote/cc/$API_VER/rooms"},CMD_SET_ROOM:{method:"PUT",url:"hub/remote/cc/$API_VER/rooms",type:"CMD_ROOM",params:["id","name","order"]},CMD_REMOVE_ROOM:{method:"DELETE",url:"hub/remote/cc/$API_VER/rooms",urlParams:["roomId"]},CMD_GET_ALARMS:{method:"GET",url:"hub/remote/cc/$API_VER/alarms"},CMD_CLOSE_ALARM:{method:"PUT",url:"hub/remote/cc/$API_VER/alarms/close",urlParams:["alarmId"]},CMD_REMOVE_ALARM:{method:"DELETE",url:"hub/remote/cc/$API_VER/alarms",urlParams:["roomId"]},GET_MODBUS_DEVICE_PAIRINGS:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"GET_MODBUS_PAIRINGS"},SET_MODBUS_DEVICE_PAIRINGS:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"PAIR_MODBUS"},ZWAVE_START_INCLUSION:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"ZWAVE_START_INCLUSION"},ZWAVE_STOP_INCLUSION:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"ZWAVE_CANCEL_INCLUSION"},ZWAVE_START_EXCLUSION:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"ZWAVE_START_EXCLUSION"},ZWAVE_STOP_EXCLUSION:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"ZWAVE_CANCEL_EXCLUSION"},ZWAVE_INCLUSION_STATUS:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"GET_ZWAVE_INCLUSION_STATUS"},ZWAVE_EXCLUSION_STATUS:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"GET_ZWAVE_EXCLUSION_STATUS"},ZWAVE_HEAL:{method:"POST",url:"hub/remote/cc/$API_VER/hub/protocolconfig",type:"ZWAVE_HEAL"},CMD_LIST_PLANS:{method:"GET",url:"plans"},CMD_GET_PLAN:{method:"GET",url:"plans"},CMD_SAVE_PLAN:{method:"POST",url:"plans",params:["templates","installations","locations"]}}),Je=Object.freeze({UNCONNECTED:"no connection",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",OBSOLETE_API_VERSION:"obsolete api version",LATE_PAYMENT:"late payment",CONNECTED:"connected"}),We=Object.freeze({UNCONNECTED:"no connection",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",OBSOLETE_API_VERSION:"obsolete api version",REMOTE:"remote",LOCAL:"local"}),Ze=ye({name:"connections",initialState:{cloudState:Je.UNCONNECTED},reducers:{setCloudConnectionState(e,t){const n=e,r=t.payload,i=e.cloudState;Object.values(Je).indexOf(r)>-1&&i!==r&&(console.log(`CLOUD connection state ${i} -> ${r}`),n.cloudState=r)}}}),Xe=Oe(),{selectById:et,selectIds:tt,selectEntities:nt,selectAll:rt,selectTotal:it}=Xe.getSelectors(e=>e.hubs);Ze.selectors=Xe.getSelectors(e=>e.connections),Ze.selectors.getConnections=ae([e=>e.connections],e=>e);const{actions:ot,reducer:at}=Ze;function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ut=ye({name:"pairings",initialState:{},reducers:{setPairingDevices(e,t){const n=e,{hubId:r}=t.payload,{devices:i}=t.payload,o={};Object.entries(i).forEach(e=>{const[t,n]=e;o[t]=ct({},n)}),n[r]=ct({},o)},setPairingDevice(e,t){const n=e,{hubId:r}=t.payload,{device:i}=t.payload;n[r]&&(n[r][i.id]=ct({},i))},deletePairingDevice(e,t){const n=e,{hubId:r}=t.payload,{deviceId:i}=t.payload;r&&i&&n[r]&&n[r][i]&&delete n[r][i]}}}),lt=Oe(),{selectById:ft,selectIds:pt,selectEntities:dt,selectAll:ht,selectTotal:vt}=lt.getSelectors(e=>e.hubs);ut.selectors=lt.getSelectors(e=>e.pairings),ut.selectors.getPairings=ae([e=>e.pairings],e=>e);const{actions:yt,reducer:mt}=ut;function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Et=ye({name:"devices",initialState:{},reducers:{setDevices(e,t){const n=e,{hubId:r}=t.payload,{devices:i}=t.payload,o={};Object.entries(i).forEach(e=>{const[t,n]=e;o[t]=gt({},n)}),n[r]=gt({},o)},setDevice(e,t){const n=e,{hubId:r}=t.payload,{device:i}=t.payload;n[r]&&(n[r][i.id]=gt({},i))},deleteDevice(e,t){const n=e,{hubId:r}=t.payload,{deviceId:i}=t.payload;r&&i&&n[r]&&n[r][i]&&delete n[r][i]}}}),Ot=Oe(),{selectById:Tt,selectIds:_t,selectEntities:It,selectAll:Nt,selectTotal:St}=Ot.getSelectors(e=>e.devices);Et.selectors=Ot.getSelectors(e=>e.devices),Et.selectors.getDevices=ae([e=>e.devices],e=>e);const{actions:wt,reducer:Dt}=Et,{setDevices:At,deleteDevice:Rt}=wt;function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Ct=ye({name:"hubs",initialState:{},reducers:{updateHubs(e,t){const r=e,i=t.payload;console.log("updateHubs",i),Object.entries(i).forEach(t=>{const[i,o]=t;r[i]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e[i],{},o)})},selectHub(e,t){const n=e,{hubId:r}=t.payload;console.log("selectHub",r),e[r]&&(n[r].selected=!0,console.log("selectHub",e[r]))},unSelectHub(e,t){const n=e,{hubId:r}=t.payload;e[r]&&(n[r].selected=!1)},setHubConnectionState(e,t){const{hubId:n}=t.payload,r=e,i=t.payload.state,o=e[n]?e[n].connectionState:void 0;Object.values(We).indexOf(i)>-1&&o&&o!==i&&(r[n].connectionState=i)}}}),kt=Oe(),{selectById:xt,selectIds:jt,selectEntities:Lt,selectAll:Mt,selectTotal:Ft}=kt.getSelectors(e=>e.hubs);Ct.selectors=kt.getSelectors(e=>e.hubs),Ct.selectors.getHubs=ae([e=>e.hubs],e=>e);const{actions:Ut,reducer:Vt}=Ct,{updateHubs:Qt,selectHub:qt,unSelectHub:Kt,setHubConnectionState:Bt}=Ut;var Gt=Object.prototype;var $t=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Gt)};var Ht=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Yt=Object.prototype.hasOwnProperty;var zt=function(e){if(!$t(e))return Ht(e);var t=[];for(var n in Object(e))Yt.call(e,n)&&"constructor"!=n&&t.push(n);return t},Jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Wt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zt(e,t){return e(t={exports:{}},t.exports),t.exports}function Xt(e){return e&&e.default||e}var en="object"==typeof Jt&&Jt&&Jt.Object===Object&&Jt,tn="object"==typeof self&&self&&self.Object===Object&&self,nn=en||tn||Function("return this")(),rn=nn.Symbol,on=Object.prototype,an=on.hasOwnProperty,sn=on.toString,cn=rn?rn.toStringTag:void 0;var un=function(e){var t=an.call(e,cn),n=e[cn];try{e[cn]=void 0;var r=!0}catch(e){}var i=sn.call(e);return r&&(t?e[cn]=n:delete e[cn]),i},ln=Object.prototype.toString;var fn=function(e){return ln.call(e)},pn="[object Null]",dn="[object Undefined]",hn=rn?rn.toStringTag:void 0;var vn=function(e){return null==e?void 0===e?dn:pn:hn&&hn in Object(e)?un(e):fn(e)};var yn=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},mn="[object AsyncFunction]",bn="[object Function]",gn="[object GeneratorFunction]",En="[object Proxy]";var On,Tn=function(e){if(!yn(e))return!1;var t=vn(e);return t==bn||t==gn||t==mn||t==En},_n=nn["__core-js_shared__"],In=(On=/[^.]+$/.exec(_n&&_n.keys&&_n.keys.IE_PROTO||""))?"Symbol(src)_1."+On:"";var Nn=function(e){return!!In&&In in e},Sn=Function.prototype.toString;var wn=function(e){if(null!=e){try{return Sn.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Dn=/^\[object .+?Constructor\]$/,An=Function.prototype,Rn=Object.prototype,Pn=An.toString,Cn=Rn.hasOwnProperty,kn=RegExp("^"+Pn.call(Cn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var xn=function(e){return!(!yn(e)||Nn(e))&&(Tn(e)?kn:Dn).test(wn(e))};var jn=function(e,t){return null==e?void 0:e[t]};var Ln=function(e,t){var n=jn(e,t);return xn(n)?n:void 0},Mn=Ln(nn,"DataView"),Fn=Ln(nn,"Map"),Un=Ln(nn,"Promise"),Vn=Ln(nn,"Set"),Qn=Ln(nn,"WeakMap"),qn=wn(Mn),Kn=wn(Fn),Bn=wn(Un),Gn=wn(Vn),$n=wn(Qn),Hn=vn;(Mn&&"[object DataView]"!=Hn(new Mn(new ArrayBuffer(1)))||Fn&&"[object Map]"!=Hn(new Fn)||Un&&"[object Promise]"!=Hn(Un.resolve())||Vn&&"[object Set]"!=Hn(new Vn)||Qn&&"[object WeakMap]"!=Hn(new Qn))&&(Hn=function(e){var t=vn(e),n="[object Object]"==t?e.constructor:void 0,r=n?wn(n):"";if(r)switch(r){case qn:return"[object DataView]";case Kn:return"[object Map]";case Bn:return"[object Promise]";case Gn:return"[object Set]";case $n:return"[object WeakMap]"}return t});var Yn=Hn;var zn=function(e){return null!=e&&"object"==typeof e},Jn="[object Arguments]";var Wn=function(e){return zn(e)&&vn(e)==Jn},Zn=Object.prototype,Xn=Zn.hasOwnProperty,er=Zn.propertyIsEnumerable,tr=Wn(function(){return arguments}())?Wn:function(e){return zn(e)&&Xn.call(e,"callee")&&!er.call(e,"callee")},nr=Array.isArray,rr=9007199254740991;var ir=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=rr};var or=function(e){return null!=e&&ir(e.length)&&!Tn(e)};var ar=function(){return!1},sr=Zt((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?nn.Buffer:void 0,o=(i?i.isBuffer:void 0)||ar;e.exports=o})),cr={};cr["[object Float32Array]"]=cr["[object Float64Array]"]=cr["[object Int8Array]"]=cr["[object Int16Array]"]=cr["[object Int32Array]"]=cr["[object Uint8Array]"]=cr["[object Uint8ClampedArray]"]=cr["[object Uint16Array]"]=cr["[object Uint32Array]"]=!0,cr["[object Arguments]"]=cr["[object Array]"]=cr["[object ArrayBuffer]"]=cr["[object Boolean]"]=cr["[object DataView]"]=cr["[object Date]"]=cr["[object Error]"]=cr["[object Function]"]=cr["[object Map]"]=cr["[object Number]"]=cr["[object Object]"]=cr["[object RegExp]"]=cr["[object Set]"]=cr["[object String]"]=cr["[object WeakMap]"]=!1;var ur=function(e){return zn(e)&&ir(e.length)&&!!cr[vn(e)]};var lr=function(e){return function(t){return e(t)}},fr=Zt((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&en.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),pr=fr&&fr.isTypedArray,dr=pr?lr(pr):ur,hr="[object Map]",vr="[object Set]",yr=Object.prototype.hasOwnProperty;var mr=function(e){if(null==e)return!0;if(or(e)&&(nr(e)||"string"==typeof e||"function"==typeof e.splice||sr(e)||dr(e)||tr(e)))return!e.length;var t=Yn(e);if(t==hr||t==vr)return!e.size;if($t(e))return!zt(e).length;for(var n in e)if(yr.call(e,n))return!1;return!0};const br=Object.freeze({NONE:"none",EN_EN:"en",EN_UK:"en-UK",FI_FI:"fi-FI",FI:"fi",EN:"en"}),gr=Object.freeze({WAITING_LANGUAGE:"wait language",LANGUAGE_SET:"language set",WAITING_LOGIN:"wait login",LOGIN_DONE:"login done",WAITING_EULA:"wait eula",EULA_ACCEPTED:"eula accepted",AUTHENTICATED:"logged in",KEYED:"key entered",LOGGED_OUT:"logged out"}),Er=Object.freeze({ADMIN:32,USER:8,GUEST:2,ANONYMOUS:1}),Or=ye({name:"user",initialState:{firstName:"",lastName:"",email:"",language:br.NONE,authKey:"",role:Er.ANONYMOUS,eulaAccepted:!1,state:gr.WAITING_LANGUAGE},reducers:{changeState(e,t){const n=e,r=t.payload,i=e.state;switch(console.log(`User state ${i} -> ${r}`),i){case gr.WAITING_LANGUAGE:r===gr.LANGUAGE_SET&&(mr(e.language)||(n.state=gr.WAITING_LOGIN));break;case gr.WAITING_LOGIN:r===gr.LOGIN_DONE&&(mr(e.authKey)||(mr(e.eulaAcceted)?n.state=gr.WAITING_EULA:n.state=gr.AUTHENTICATED));break;case gr.WAITING_EULA:r===gr.EULA_ACCEPTED&&(n.state=gr.AUTHENTICATED);break;case gr.AUTHENTICATED:r===gr.LOGGED_OUT&&(n.state=gr.WAITING_LOGIN)}},setEula(e,t){e.eulaAccepted=t.payload},setLanguage(e,t){e.language=t.payload},setAuthKey(e,t){e.authKey=t.payload},setAuthenticated(e,t){const n=e;n.authKey=t.payload,n.state=gr.KEYED}}}),Tr=Oe();Or.selectors=Tr.getSelectors(e=>e.user),Or.selectors.getUser=ae([e=>e.user],e=>e);const{actions:_r,reducer:Ir}=Or;function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const wr=ye({name:"rooms",initialState:{},reducers:{setRooms(e,t){const n=e,{hubId:r}=t.payload,{rooms:i}=t.payload,o={};Object.entries(i).forEach(e=>{const[t,n]=e;o[t]=Sr({},n)}),n[r]=Sr({},o)},setRoom(e,t){const n=e,{hubId:r}=t.payload,{room:i}=t.payload;r&&n[r]&&(n[r][i.id]=Sr({},i))},removeRoom(e,t){const n=e,{hubId:r}=t.payload,{roomId:i}=t.payload;r&&i&&n[r]&&n[r][i]&&delete n[r][i]}}}),Dr=Oe(),{selectById:Ar,selectIds:Rr,selectEntities:Pr,selectAll:Cr,selectTotal:kr}=Dr.getSelectors(e=>e.rooms);wr.selectors=Dr.getSelectors(e=>e.rooms),wr.selectors.getRooms=ae([e=>e.rooms],e=>e);const{actions:xr,reducer:jr}=wr;var Lr=Zt((function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var o=function(){return"function"==typeof Symbol},a=function(e){return o()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var c=s("iterator"),u=s("observable"),l=s("species");function f(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:T}function d(e){return e instanceof T}function h(e){h.log?h.log(e):setTimeout((function(){throw e}))}function v(e){Promise.resolve().then((function(){try{e()}catch(e){h(e)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(e){h(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function b(e,t,n){e._state="running";var r=e._observer;try{var i=f(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(m(e),!i)throw n;i.call(r,n);break;case"complete":m(e),i&&i.call(r)}}catch(e){h(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function g(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(b(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void b(e,t,n);e._queue.push({type:t,value:n})}}var E=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new O(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),O=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){g(this._subscription,"next",e)}},{key:"error",value:function(e){g(this._subscription,"error",e)}},{key:"complete",value:function(){g(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),T=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new E(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=p(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:u,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,u);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return d(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a("iterator")&&(r=f(t,c)))return new n((function(e){v((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(e.next(c),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=T,o()&&Object.defineProperty(T,Symbol("extensions"),{value:{symbol:u,hostReportError:h},configurable:!0})}));Wt(Lr);Lr.Observable;var Mr=Lr.Observable,Fr=function(e,t){return(Fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Ur(e,t){function n(){this.constructor=e}Fr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Vr=function(){return(Vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Qr(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function qr(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Kr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Br="Invariant Violation",Gr=Object.setPrototypeOf,$r=void 0===Gr?function(e,t){return e.__proto__=t,e}:Gr,Hr=function(e){function t(n){void 0===n&&(n=Br);var r=e.call(this,"number"==typeof n?Br+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Br,$r(r,t.prototype),r}return Ur(t,e),t}(Error);function Yr(e,t){if(!e)throw new Hr(t)}function zr(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=zr("warn"),e.error=zr("error")}(Yr||(Yr={}));var Jr={env:{}};if("object"==typeof process)Jr=process;else try{Function("stub","process = stub")(Jr)}catch(e){}var Wr=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},o={key:r,value:t[r]};return e(i,o)}}}(t.cmp),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var o,a;if(Array.isArray(t)){for(a="[",o=0;o<t.length;o++)o&&(a+=","),a+=e(t[o])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,c=Object.keys(t).sort(r&&r(t));for(a="",o=0;o<c.length;o++){var u=c[o],l=e(t[u]);l&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l)}return i.splice(s,1),"{"+a+"}"}}(e)};function Zr(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new Hr(43);"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(Yr(1===r.length,44),n=r[0].name.value),Vr(Vr({},e),{definitions:Kr([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function Xr(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function ei(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return Yr(n,45),n;default:return null}}function ti(e){return{__ref:String(e)}}function ni(e){return e&&"object"==typeof e&&"string"==typeof e.__ref}function ri(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return ri(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return ri(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new Hr(34);e[t.value]=null}}function ii(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return ri(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return ri(r,n,i,t)}))),function(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i=t,o={};return r.forEach((function(e){o[e]=i[e]})),n.connection.key+"("+JSON.stringify(o)+")"}return n.connection.key}var a=e;if(t){var s=Wr(t);a+="("+s+")"}n&&Object.keys(n).forEach((function(e){-1===oi.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)}));return a}(e.name.value,r,n)}var oi=["connection","include","skip","client","rest","export"];function ai(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return ri(n,r,i,t)})),n}return null}function si(e){return e.alias?e.alias.value:e.name.value}function ci(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var o=i[r];if(ui(o)){if("__typename"===o.name.value)return e[si(o)]}else{var a=ci(e,ei(o,n).selectionSet,n);if("string"==typeof a)return a}}}function ui(e){return"Field"===e.kind}function li(e){return"InlineFragment"===e.kind}function fi(e){return Yr(e&&"Document"===e.kind,25),Yr(e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new Hr(26);return e})).length<=1,27),e}function pi(e){return fi(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function di(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function hi(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function vi(e){var t;fi(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw new Hr(32)}function yi(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&ri(t,e.variable.name,e.defaultValue)})),t}function mi(e,t){return t?t(e):Mr.of()}function bi(e){return"function"==typeof e?new Ei(e):e}function gi(e){return e.request.length<=1}!function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}Ur(t,e)}(Error);var Ei=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return Mr.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(bi).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=bi(n),o=bi(r||new e(mi));return gi(i)&&gi(o)?new e((function(e){return t(e)?i.request(e)||Mr.of():o.request(e)||Mr.of()})):new e((function(e,n){return t(e)?i.request(e,n)||Mr.of():o.request(e,n)||Mr.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=Vr({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=Vr(Vr({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Vr({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?di(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw new Hr(33)}return e}(t))))||Mr.of()},e.concat=function(t,n){var r=bi(t);if(gi(r))return r;var i=bi(n);return gi(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||Mr.of()}))||Mr.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||Mr.of()}))||Mr.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(mi)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw new Hr(11)},e.prototype.onError=function(e){throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),Oi=Ei.execute;function Ti(e){return Array.isArray(e)&&e.length>0}var _i,Ii,Ni=function(e){var t="";return Ti(e.graphQLErrors)&&e.graphQLErrors.forEach((function(e){var n=e?e.message:"Error message not found.";t+="GraphQL error: "+n+"\n"})),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},Si=function(e){function t(n){var r=n.graphQLErrors,i=n.networkError,o=n.errorMessage,a=n.extraInfo,s=e.call(this,o)||this;return s.graphQLErrors=r||[],s.networkError=i||null,s.message=o||Ni(s),s.extraInfo=a,s.__proto__=t.prototype,s}return Ur(t,e),t}(Error);function wi(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(_i||(_i={})),function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(Ii||(Ii={}));var Di=Object.prototype,Ai=Di.toString,Ri=Di.hasOwnProperty,Pi=new Map;function Ci(e,t){try{return function e(t,n){if(t===n)return!0;var r=Ai.call(t);var i=Ai.call(n);if(r!==i)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(ki(t,n))return!0;var o=Object.keys(t),a=Object.keys(n),s=o.length;if(s!==a.length)return!1;for(var c=0;c<s;++c)if(!Ri.call(n,o[c]))return!1;for(c=0;c<s;++c){var u=o[c];if(!e(t[u],n[u]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(ki(t,n))return!0;for(var l=t.entries(),f="[object Map]"===r;;){var p=l.next();if(p.done)break;var d=p.value,h=d[0],v=d[1];if(!n.has(h))return!1;if(f&&!e(v,n.get(h)))return!1}return!0}return!1}(e,t)}finally{Pi.clear()}}function ki(e,t){var n=Pi.get(e);if(n){if(n.has(t))return!0}else Pi.set(e,n=new Set);return n.add(t),!1}function xi(e){try{return e()}catch(e){console.error&&console.error(e)}}function ji(e){return e.errors&&e.errors.length>0||!1}var Li=Object.prototype.toString;function Mi(e){return function e(t,n){switch(Li.call(t)){case"[object Array]":if((n=n||new Map).has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach((function(t,i){r[i]=e(t,n)})),r;case"[object Object]":if((n=n||new Map).has(t))return n.get(t);var i=Object.create(Object.getPrototypeOf(t));return n.set(t,i),Object.keys(t).forEach((function(r){i[r]=e(t[r],n)})),i;default:return t}}(e)}var Fi=function(e){function t(t){var n=t.queryManager,r=t.options,i=t.shouldSubscribe,o=void 0===i||i,a=e.call(this,(function(e){return a.onSubscribe(e)}))||this;a.observers=new Set,a.subscriptions=new Set,a.observer={next:function(e){if(a.lastError||a.isDifferentFromLastResult(e)){var t=a.queryManager,n=a.options,r=n.query,i=n.variables,o=n.fetchPolicy,s=t.transform(r).hasClientExports,c=a.updateLastResult(e);s?t.getLocalState().addExportedVariables(r,i).then((function(t){var n=a.variables;e.loading||!c||"cache-only"===o||Ci(n,t)?(a.options.variables=t,Vi(a.observers,"next",e)):a.setVariables(t).then((function(e){Vi(a.observers,"next",e)}))})):Vi(a.observers,"next",e)}},error:function(e){a.updateLastResult(Vr(Vr({},a.lastResult),{errors:e.graphQLErrors,networkStatus:_i.error,loading:!1})),Vi(a.observers,"error",a.lastError=e)}},a.isTornDown=!1,a.options=r,a.queryId=n.generateQueryId(),a.watching=o;var s=pi(r.query);return a.queryName=s&&s.name&&s.name.value,a.queryManager=n,a}return Ur(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!0,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(){var e=this.lastResult,t=this.lastError,n=this.options.fetchPolicy,r="network-only"===n||"no-cache"===n,i=t?_i.error:e?e.networkStatus:r?_i.loading:_i.ready,o={data:!t&&e&&e.data||void 0,error:t,loading:wi(i),networkStatus:i};if(this.isTornDown)return o;var a=this.queryManager.getCurrentQueryResult(this),s=a.data,c=a.partial;Object.assign(o,{data:s,partial:c});var u,l,f=this.queryManager.getQueryStoreValue(this.queryId);if(f){var p=f.networkStatus;if(u=f,void 0===(l=this.options.errorPolicy)&&(l="none"),u&&(u.networkError||"none"===l&&Ti(u.graphQLErrors)))return Object.assign(o,{data:void 0,networkStatus:p,error:new Si({graphQLErrors:f.graphQLErrors,networkError:f.networkError})});f.variables&&(this.options.variables=Vr(Vr({},this.options.variables),f.variables)),Object.assign(o,{loading:wi(p),networkStatus:p}),f.graphQLErrors&&"all"===this.options.errorPolicy&&(o.errors=f.graphQLErrors)}return c||this.updateLastResult(o),o},t.prototype.isDifferentFromLastResult=function(e){return!Ci(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.getQueryStoreValue(this.queryId);e&&(e.networkError=void 0,e.graphQLErrors=[])},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;return"cache-only"===t?Promise.reject(new Hr(1)):("no-cache"!==t&&"cache-and-network"!==t&&(t="network-only"),e&&!Ci(this.options.variables,e)&&(this.options.variables=Vr(Vr({},this.options.variables),e)),this.queryManager.fetchQuery(this.queryId,Vr(Vr({},this.options),{fetchPolicy:t}),Ii.refetch))},t.prototype.fetchMore=function(e){var t=this,n=Vr(Vr({},e.query?e:Vr(Vr(Vr({},this.options),e),{variables:Vr(Vr({},this.options.variables),e.variables)})),{fetchPolicy:"network-only"}),r=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(r,n,Ii.normal,this.queryId).then((function(i){return t.updateQuery((function(t){var r=i.data,o=e.updateQuery;return o?o(t,{fetchMoreResult:r,variables:n.variables}):r})),t.queryManager.stopQuery(r),i}),(function(e){throw t.queryManager.stopQuery(r),e}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){var t=this.options,n=t.fetchPolicy,r=t.variables;this.options=Vr(Vr({},this.options),e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var i=n!==e.fetchPolicy&&("cache-only"===n||"standby"===n||"network-only"===e.fetchPolicy);return this.setVariables(this.options.variables,i||!Ci(this.variables,r))},t.prototype.setVariables=function(e,t){return void 0===t&&(t=!Ci(this.variables,e)),this.isTornDown=!1,t?(this.options.variables=e,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve()):this.observers.size?this.result():Promise.resolve()},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.getQueryWithPreviousResult(this.queryId),r=n.previousResult,i=n.variables,o=n.document,a=xi((function(){return e(r,{variables:i})}));a&&(t.cache.write({query:o,result:a,dataId:"ROOT_QUERY",variables:i}),t.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:Mi(e),Ti(e.errors)||delete this.lastError,t},t.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var n=e._subscription._observer;n&&!n.error&&(n.error=Ui)}catch(e){}var r=!this.observers.size;return this.observers.add(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),r&&this.queryManager.observeQuery(this,this.observer).catch(this.observer.error),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=!0,e.stopPollingQuery(this.queryId),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),e.stopQuery(this.queryId),this.observers.clear()},t}(Mr);function Ui(e){}function Vi(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}var Qi=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=new Hr(12);throw r.parseError=e,r}return n},qi=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},Ki=Object.prototype.hasOwnProperty;var Bi="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $i=10,Hi=2;function Yi(e){return zi(e,[])}function zi(e,t){switch(Gi(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(Bi)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:zi(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Hi)return"[Array]";for(var n=Math.min($i,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(zi(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>Hi)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+zi(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}var Ji={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Wi=Object.freeze({});function Zi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ji,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],c=void 0,u=void 0,l=void 0,f=[],p=[],d=e;do{var h=++a===o.length,v=h&&0!==s.length;if(h){if(u=0===p.length?void 0:f[f.length-1],c=l,l=p.pop(),v){if(i)c=c.slice();else{for(var y={},m=0,b=Object.keys(c);m<b.length;m++){var g=b[m];y[g]=c[g]}c=y}for(var E=0,O=0;O<s.length;O++){var T=s[O][0],_=s[O][1];i&&(T-=E),i&&null===_?(c.splice(T,1),E++):c[T]=_}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(u=l?i?a:o[a]:void 0,null==(c=l?l[u]:d))continue;l&&f.push(u)}var I=void 0;if(!Array.isArray(c)){if(!Xi(c))throw new Error("Invalid AST Node: "+Yi(c));var N=eo(t,c.kind,h);if(N){if((I=N.call(t,c,u,l,f,p))===Wi)break;if(!1===I){if(!h){f.pop();continue}}else if(void 0!==I&&(s.push([u,I]),!h)){if(!Xi(I)){f.pop();continue}c=I}}}void 0===I&&v&&s.push([u,c]),h?f.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(c))?c:n[c.kind]||[],a=-1,s=[],l&&p.push(l),l=c)}while(void 0!==r);return 0!==s.length&&(d=s[s.length-1][1]),d}function Xi(e){return Boolean(e&&"string"==typeof e.kind)}function eo(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}function to(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],i=no(r);if(i!==r.length&&((null===t||i<t)&&0===(t=i)))break}return null===t?0:t}(t);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&ro(t[0]);)t.shift();for(;t.length>0&&ro(t[t.length-1]);)t.pop();return t.join("\n")}function no(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function ro(e){return no(e)===e.length}function io(e){return Zi(e,{leave:oo})}var oo={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return so(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=uo("(",so(e.variableDefinitions,", "),")"),i=so(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?so([t,so([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+uo(" = ",r)+uo(" ",so(i," "))},SelectionSet:function(e){return co(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return so([uo("",t,": ")+n+uo("(",so(r,", "),")"),so(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+uo(" ",so(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return so(["...",uo("on ",t),so(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return("fragment ".concat(t).concat(uo("(",so(r,", "),")")," ")+"on ".concat(n," ").concat(uo("",so(i," ")," "))+o)},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a=!r||o||n,s="";return!a||r&&i||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,a&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+so(e.values,", ")+"]"},ObjectValue:function(e){return"{"+so(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+uo("(",so(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return so(["schema",so(t," "),co(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:ao((function(e){return so(["scalar",e.name,so(e.directives," ")]," ")})),ObjectTypeDefinition:ao((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return so(["type",t,uo("implements ",so(n," & ")),so(r," "),co(i)]," ")})),FieldDefinition:ao((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(po(n)?uo("(\n",lo(so(n,"\n")),"\n)"):uo("(",so(n,", "),")"))+": "+r+uo(" ",so(i," "))})),InputValueDefinition:ao((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return so([t+": "+n,uo("= ",r),so(i," ")]," ")})),InterfaceTypeDefinition:ao((function(e){var t=e.name,n=e.directives,r=e.fields;return so(["interface",t,so(n," "),co(r)]," ")})),UnionTypeDefinition:ao((function(e){var t=e.name,n=e.directives,r=e.types;return so(["union",t,so(n," "),r&&0!==r.length?"= "+so(r," | "):""]," ")})),EnumTypeDefinition:ao((function(e){var t=e.name,n=e.directives,r=e.values;return so(["enum",t,so(n," "),co(r)]," ")})),EnumValueDefinition:ao((function(e){return so([e.name,so(e.directives," ")]," ")})),InputObjectTypeDefinition:ao((function(e){var t=e.name,n=e.directives,r=e.fields;return so(["input",t,so(n," "),co(r)]," ")})),DirectiveDefinition:ao((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(po(n)?uo("(\n",lo(so(n,"\n")),"\n)"):uo("(",so(n,", "),")"))+(r?" repeatable":"")+" on "+so(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return so(["extend schema",so(t," "),co(n)]," ")},ScalarTypeExtension:function(e){return so(["extend scalar",e.name,so(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return so(["extend type",t,uo("implements ",so(n," & ")),so(r," "),co(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return so(["extend interface",t,so(n," "),co(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return so(["extend union",t,so(n," "),r&&0!==r.length?"= "+so(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return so(["extend enum",t,so(n," "),co(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return so(["extend input",t,so(n," "),co(r)]," ")}};function ao(e){return function(t){return so([t.description,e(t)],"\n")}}function so(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function co(e){return e&&0!==e.length?"{\n"+lo(so(e,"\n"))+"\n}":""}function uo(e,t,n){return t?e+t+(n||""):""}function lo(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function fo(e){return-1!==e.indexOf("\n")}function po(e){return e&&e.some(fo)}var ho=Object.freeze({__proto__:null,print:io}),vo={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}};function yo(e){return new Mr((function(t){t.error(e)}))}var mo=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.includeExtensions,o=e.useGETForQueries,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new Hr(13)}(r),r||(r=fetch);var s={http:{includeExtensions:i},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new Ei((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),a={};if(i.clientAwareness){var c=i.clientAwareness,u=c.name,l=c.version;u&&(a["apollographql-client-name"]=u),l&&(a["apollographql-client-version"]=l)}var f,p=Vr(Vr({},a),i.headers),d={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p},h=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Vr(Vr({},t.options),{headers:t.headers,credentials:t.credentials}),o=t.http||{};n.forEach((function(e){i=Vr(Vr(Vr({},i),e.options),{headers:Vr(Vr({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),o=Vr(Vr({},o),e.http)}));var a=e.operationName,s=e.extensions,c=e.variables,u=e.query,l={operationName:a,variables:c};return o.includeExtensions&&(l.extensions=s),o.includeQuery&&(l.query=io(u)),{options:i,body:l}}(e,vo,s,d),v=h.options,y=h.body;if(!v.signal){var m=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),b=m.controller,g=m.signal;(f=b)&&(v.signal=g)}if(o&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(v.method="GET"),"GET"===v.method){var E=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=Qi(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=Qi(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var a="",s=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),s=e.substr(0,c));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+n.join("&")+a}}(t,y),O=E.newURI,T=E.parseError;if(T)return yo(T);t=O}else try{v.body=Qi(y,"Payload")}catch(T){return yo(T)}return new Mr((function(n){var i;return r(t,v).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&qi(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||Ki.call(t,"data")||Ki.call(t,"errors")||qi(e,t,"Server response was missing for query '"+(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){f&&f.abort()}}))}))},bo=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,mo(t).request)||this;return n.options=t,n}return Ur(t,e),t}(Ei);function go(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments;e.name.value;Yr(n&&1===n.length,40);var r=n[0];Yr(r.name&&"if"===r.name.value,41);var i=r.value;Yr(i&&("Variable"===i.kind||"BooleanValue"===i.kind),42),t.push({directive:e,ifArgument:r})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?Yr(void 0!==(i=t&&t[r.value.name.value]),39):i=r.value.value,"skip"===n.name.value?!i:i}))}function Eo(e,t){return function(e){var t=[];return Zi(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function Oo(e){return e&&Eo(["client"],e)&&Eo(["export"],e)}function To(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var _o={kind:"Field",name:{kind:"Name",value:"__typename"}};function Io(e){return function e(t,n){return t.selectionSet.selections.every((function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)}))}(pi(e)||function(e){Yr("Document"===e.kind,29),Yr(e.definitions.length<=1,30);var t=e.definitions[0];return Yr("FragmentDefinition"===t.kind,31),t}(e),Xr(hi(e)))?null:e}function No(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function So(e,t){var n=Object.create(null),r=[],i=Object.create(null),o=[],a=Io(Zi(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(No(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&function e(t){var n=[];t.selections.forEach((function(t){(ui(t)||li(t))&&t.selectionSet?e(t.selectionSet).forEach((function(e){return n.push(e)})):"FragmentSpread"===t.kind&&n.push(t)}));return n}(t.selectionSet).forEach((function(e){o.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(No(e)(t))return null}}}));return a&&To(r,(function(e){return!!e.name&&!n[e.name]})).length&&(a=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return Io(Zi(t,{OperationDefinition:{enter:function(t){return Vr(Vr({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&To(o,(function(e){return!!e.name&&!i[e.name]})).length&&(a=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return Io(Zi(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,a)),a}function wo(e){return Zi(fi(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return ui(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(ui(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return Vr(Vr({},e),{selections:Kr(r,[_o])})}}}}})}wo.added=function(e){return e===_o};var Do={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some((function(e){return"key"===e.name.value}))),t}};function Ao(e){return"query"===vi(e).operation?e:Zi(e,{OperationDefinition:{enter:function(e){return Vr(Vr({},e),{operation:"query"})}}})}var Ro=Object.prototype.hasOwnProperty;function Po(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Co(e)}function Co(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new jo,i=1;i<n;++i)t=r.merge(t,e[i]);return t}function ko(e){return null!==e&&"object"==typeof e}var xo=function(e,t,n){return this.merge(e[n],t[n])},jo=function(){function e(e){void 0===e&&(e=xo),this.reconciler=e,this.isObject=ko,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return ko(t)&&ko(e)?(Object.keys(t).forEach((function(i){if(Ro.call(e,i)){var o=e[i];if(t[i]!==o){var a=n.reconciler.apply(n,Kr([e,t,i],r));a!==o&&((e=n.shallowCopyForMerge(e))[i]=a)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return ko(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):Vr({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}(),Lo=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Po(t.resolvers,e)})):this.resolvers=Po(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return Qr(this,void 0,void 0,(function(){return qr(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,a).then((function(e){return Vr(Vr({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Eo(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){fi(e);var t=So([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=Zi(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return ui(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return Vr(Vr({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Qr(this,void 0,void 0,(function(){return qr(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Vr(Vr({},t),e.exportedVariables)}))]:[2,Vr({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Zi(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Wi}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Ao(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),Qr(this,void 0,void 0,(function(){var a,s,c,u,l,f,p,d,h;return qr(this,(function(v){return a=vi(e),s=hi(e),c=Xr(s),u=a.operation,l=u?u.charAt(0).toUpperCase()+u.slice(1):"Query",p=(f=this).cache,d=f.client,h={fragmentMap:c,context:Vr(Vr({},n),{cache:p,client:d}),variables:r,fragmentMatcher:i,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(a.selectionSet,t,h).then((function(e){return{result:e,exportedVariables:h.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return Qr(this,void 0,void 0,(function(){var r,i,o,a,s,c=this;return qr(this,(function(u){return r=n.fragmentMap,i=n.context,o=n.variables,a=[t],s=function(e){return Qr(c,void 0,void 0,(function(){var s,c;return qr(this,(function(u){return go(e,o)?ui(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&a.push(((n={})[si(e)]=t,n))}))]:(li(e)?s=e:Yr(s=r[e.name.value],24),s&&s.typeCondition&&(c=s.typeCondition.name.value,n.fragmentMatcher(t,c,i))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(s)).then((function(){return Co(a)}))]}))}))},e.prototype.resolveField=function(e,t,n){return Qr(this,void 0,void 0,(function(){var r,i,o,a,s,c,u,l,f,p=this;return qr(this,(function(d){return r=n.variables,i=e.name.value,o=si(e),a=i!==o,s=t[o]||t[i],c=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[u])&&(f=l[a?i:o])&&(c=Promise.resolve(f(t,ai(e,r),n.context,{field:e,fragmentMap:n.fragmentMap})))),[2,c.then((function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?p.resolveSubSelectedArray(e,t,n):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),Mo="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),Fo=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}();function Uo(e){var t=new Set,n=null;return new Mr((function(r){return t.add(r),n=n||e.subscribe({next:function(e){t.forEach((function(t){return t.next&&t.next(e)}))},error:function(e){t.forEach((function(t){return t.error&&t.error(e)}))},complete:function(){t.forEach((function(e){return e.complete&&e.complete()}))}}),function(){t.delete(r)&&!t.size&&n&&(n.unsubscribe(),n=null)}}))}var Vo=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.observableQuery=null,this.subscriptions=new Set,this.dirty=!1,this.diff=null}return e.prototype.init=function(e){var t;return t=this.variables&&this.networkStatus!==_i.loading&&!Ci(this.variables,e.variables)?_i.setVariables:e.isPoll?_i.poll:e.isRefetch?_i.refetch:_i.loading,Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this&&this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&(this.observableQuery=e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.setDirty=function(){var e=this;return this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return e.notify()}),0))),this},e.prototype.setDiff=function(e){var t,n,r=this.diff;this.diff=e,this.dirty||(null===(t=e)||void 0===t?void 0:t.result)===(null===(n=r)||void 0===n?void 0:n.result)||this.setDirty()},e.prototype.getDiff=function(){if(!this.diff){var e=this.observableQuery,t=e&&e.getLastResult(),n=e&&e.getLastError(),r=e&&e.options.fetchPolicy||"cache-first",i="none"!==this.getErrorPolicy()&&(n&&n.graphQLErrors)!==this.graphQLErrors;t&&t.data&&!i?this.diff={result:t.data,complete:!0}:"no-cache"!==r&&"network-only"!==r&&(this.diff=this.cache.diff({query:this.document,variables:this.variables,returnPartialData:!0,optimistic:!0}))}return this.diff},e.prototype.getErrorPolicy=function(){var e=this.observableQuery;return e&&e.options.errorPolicy||"none"},e.prototype.notify=function(){var e=this;this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.shouldNotify()&&this.getDiff()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(!this.observableQuery)return!0;var e=this.observableQuery.options,t=e.fetchPolicy,n=e.returnPartialData,r=e.notifyOnNetworkStatusChange;if("standby"===t)return!1;if(wi(this.networkStatus)){var i=this.observableQuery.getLastResult(),o=!(!i||i.networkStatus===this.networkStatus);if(!(n||this.networkStatus===_i.setVariables||o&&r||"cache-only"===t||"cache-and-network"===t))return!1}return!0},e.prototype.stop=function(){this.cancel(),delete this.cancel,this.variables=this.networkStatus=this.networkError=this.graphQLErrors=void 0},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;this.cancel();return this.cancel=this.cache.watch({query:this.document,variables:e.variables,optimistic:!0,previousResult:function(){var e=null,n=t.observableQuery;if(n){var r=n.getLastResult();r&&(e=r.data)}return e},callback:function(e){t.setDiff(e)}}),this},e.prototype.markResult=function(e,t,n,r){var i=t.fetchPolicy,o=t.variables,a=t.errorPolicy;if("no-cache"===i)this.setDiff({result:e.data,complete:!0});else if(n){var s="ignore"===a||"all"===a,c=!ji(e);!c&&s&&e.data&&(c=!0),c&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:this.document,variables:o})}r&&(this.networkError=null,this.graphQLErrors=Ti(e.errors)?e.errors:[],this.networkStatus=_i.ready)},e.prototype.markError=function(e){this.networkError=e,this.networkStatus=_i.error},e}(),Qo=Object.prototype.hasOwnProperty,qo=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,i=void 0!==r&&r,o=e.onBroadcast,a=void 0===o?function(){}:o,s=e.ssrMode,c=void 0!==s&&s,u=e.clientAwareness,l=void 0===u?{}:u,f=e.localState,p=e.assumeImmutableResults;this.mutationStore=new Fo,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Mo?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.onBroadcast=a,this.clientAwareness=l,this.localState=f||new Lo({cache:t}),this.ssrMode=c,this.assumeImmutableResults=!!p}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.fetchQueryRejectFns.forEach((function(e){e(new Hr(14))}))},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,i=e.updateQueries,o=e.refetchQueries,a=void 0===o?[]:o,s=e.awaitRefetchQueries,c=void 0!==s&&s,u=e.update,l=e.errorPolicy,f=void 0===l?"none":l,p=e.fetchPolicy,d=e.context,h=void 0===d?{}:d;return Qr(this,void 0,void 0,(function(){var e,o,s,l,d=this;return qr(this,(function(v){switch(v.label){case 0:return Yr(t,15),Yr(!p||"no-cache"===p,16),e=this.generateQueryId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,h)]:[3,2];case 1:n=v.sent(),v.label=2;case 2:return o=function(){var e={};return i&&d.queries.forEach((function(t,n){var r=t.observableQuery;if(r&&r.watching){var o=r.queryName;o&&Qo.call(i,o)&&(e[n]={updater:i[o],queryInfo:d.queries.get(n)})}})),e},this.mutationStore.initMutation(e,t,n),r&&(s="function"==typeof r?r(n):r,this.cache.recordOptimisticTransaction((function(r){Ko({mutationId:e,result:{data:s},document:t,variables:n,queryUpdatersById:o(),update:u},r)}),e)),this.broadcastQueries(),l=this,[2,new Promise((function(i,s){var d,v;l.getObservableFromLink(t,Vr(Vr({},h),{optimisticResponse:r}),n,!1).subscribe({next:function(r){if(ji(r)&&"none"===f)v=new Si({graphQLErrors:r.errors});else{if(l.mutationStore.markMutationResult(e),"no-cache"!==p)try{Ko({mutationId:e,result:r,document:t,variables:n,queryUpdatersById:o(),update:u},l.cache)}catch(e){return void(v=new Si({networkError:e}))}d=r}},error:function(t){l.mutationStore.markMutationError(e,t),r&&l.cache.removeOptimistic(e),l.broadcastQueries(),s(new Si({networkError:t}))},complete:function(){if(v&&l.mutationStore.markMutationError(e,v),r&&l.cache.removeOptimistic(e),l.broadcastQueries(),v)s(v);else{"function"==typeof a&&(a=a(d));var t=[];Ti(a)&&a.forEach((function(e){if("string"==typeof e)l.queries.forEach((function(n){var r=n.observableQuery;r&&r.watching&&r.queryName===e&&t.push(r.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(l.query(n))}})),Promise.all(c?t:[]).then((function(){"ignore"===f&&d&&ji(d)&&delete d.errors,i(d)}))}}})}))]}}))}))},e.prototype.fetchQuery=function(e,t,n,r){return Qr(this,void 0,void 0,(function(){var i,o,a,s,c,u,l,f,p,d,h,v,y,m,b,g,E=this;return qr(this,(function(O){switch(O.label){case 0:return i=t.fetchPolicy,o=void 0===i?"cache-first":i,a=t.context,s=void 0===a?{}:a,c=this.transform(t.query).document,u=this.getVariables(c,t.variables),this.transform(c).hasClientExports?[4,this.localState.addExportedVariables(c,u,s)]:[3,2];case 1:u=O.sent(),O.label=2;case 2:if(t=Vr(Vr({},t),{variables:u}),p=f="network-only"===o||"no-cache"===o,f||(d=this.cache.diff({query:c,variables:u,returnPartialData:!0,optimistic:!1}),h=d.complete,v=d.result,p=!h||"cache-and-network"===o,l=v),y=p&&"cache-only"!==o&&"standby"!==o,Eo(["live"],c)&&(y=!0),m=this.idCounter++,b=this.getQuery(e).init({document:c,variables:u,isPoll:n===Ii.poll,isRefetch:n===Ii.refetch,lastRequestId:m}).updateWatch(t),this.dirty(e),this.dirty(r),this.setNetStatus(r,_i.fetchMore),y){if(this.broadcastQueries(),g=this.fetchRequest({requestId:m,queryId:e,document:c,options:t,fetchMoreForQueryId:r}).catch((function(t){throw t.hasOwnProperty("graphQLErrors")?t:(m>=E.getQuery(e).lastRequestId&&(b.markError(t),E.setNetStatus(r,_i.ready),E.dirty(e),E.dirty(r),E.broadcastQueries()),new Si({networkError:t}))})),"cache-and-network"!==o)return[2,g];g.catch((function(){}))}return this.setNetStatus(e,y?b.networkStatus:_i.ready),this.dirty(e),this.dirty(r),this.transform(c).hasForcedResolvers?[2,this.localState.runResolvers({document:c,remoteResult:{data:l},context:s,variables:u,onlyRunForcedResolvers:!0}).then((function(e){return b.markResult(e,t,!r,!1),E.broadcastQueries(),e}))]:(this.broadcastQueries(),[2,{data:l}])}}))}))},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.getQueryStoreValue=function(e){return e?this.queries.get(e):void 0},e.prototype.setNetStatus=function(e,t){var n=e&&this.getQuery(e);n&&(n.networkStatus=t,t===_i.ready&&(n.networkError=null))},e.prototype.queryListenerForObserver=function(e,t){return function(e){var n=e.observableQuery,r=e.networkStatus,i=e.networkError,o=e.graphQLErrors,a=n.options,s=a.fetchPolicy,c=a.errorPolicy,u=void 0===c?"none":c,l=a.returnPartialData,f=a.partialRefetch,p=Ti(o);if("none"===u&&p||i)t.error&&t.error(new Si({graphQLErrors:o,networkError:i}));else{var d=e.getDiff();if(d.complete||l||f||p||"cache-only"===s){var h={data:d.result,loading:wi(r),networkStatus:r};"all"===u&&p&&(h.errors=o),t.next&&t.next(h)}}}},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=(t=this.cache.transformForLink(r),So([Do],fi(t))),o=this.localState.clientQuery(r),a=i&&this.localState.serverQuery(i),s={document:r,hasClientExports:Oo(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:a,defaultVars:yi(pi(r))},c=function(e){e&&!n.has(e)&&n.set(e,s)};c(e),c(r),c(o),c(a)}return n.get(e)},e.prototype.getVariables=function(e,t){return Vr(Vr({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),void 0===(e=Vr(Vr({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=new Fi({queryManager:this,options:e,shouldSubscribe:t});return this.getQuery(n.queryId).init({document:e.query,observableQuery:n,variables:e.variables,isPoll:!1,isRefetch:!1}),n},e.prototype.query=function(e){var t=this;return Yr(e.query,17),Yr("Document"===e.query.kind,18),Yr(!e.returnPartialData,19),Yr(!e.pollInterval,20),new Promise((function(n,r){var i=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+i.queryId,r),i.result().then(n,r).then((function(){return t.fetchQueryRejectFns.delete("query:"+i.queryId)}))}))},e.prototype.generateQueryId=function(){return String(this.idCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop(),this.stopPollingQuery(e)},e.prototype.addQueryListener=function(e,t){this.getQuery(e).listeners.add(t)},e.prototype.clearStore=function(){return this.fetchQueryRejectFns.forEach((function(e){e(new Hr(21))})),this.queries.forEach((function(e,t){e.observableQuery&&e.observableQuery.watching?e.networkStatus=_i.loading:e.stop()})),this.mutationStore.reset(),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(r,i){var o=r.observableQuery;if(o&&o.watching){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(o.refetch()),t.getQuery(i).setDiff(null)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.observeQuery=function(e,t){var n=e.queryId,r=e.options;return this.getQuery(n).observableQuery=e,r.pollInterval&&this.startPollingQuery(r,n),this.addQueryListener(n,this.queryListenerForObserver(n,t)),this.fetchQuery(n,r)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.variables;n=this.transform(n).document,i=this.getVariables(n,i);var o=function(e){return t.getObservableFromLink(n,{},e,!1).map((function(i){if(r&&"no-cache"===r||(ji(i)||t.cache.write({query:n,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),ji(i))throw new Si({graphQLErrors:i.errors});return i}))};if(this.transform(n).hasClientExports){var a=this.localState.addExportedVariables(n,i).then(o);return new Mr((function(e){var t=null;return a.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return o(i)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach((function(e){return e.unsubscribe()})),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){var n;void 0===t&&(t=!0);var r=e.options,i=r.variables,o=r.query,a=r.fetchPolicy,s=r.returnPartialData,c=e.getLastResult();if("no-cache"===a||"network-only"===a)return{data:null===(n=this.getQuery(e.queryId).getDiff())||void 0===n?void 0:n.result,partial:!1};var u=this.cache.diff({query:o,variables:i,previousResult:c?c.data:void 0,returnPartialData:!0,optimistic:t}),l=u.result,f=u.complete;return{data:f||s?l:void 0,partial:!f}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;Yr(n,22),t=n}else t=e;var r=t.options,i=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:i,document:o}},e.prototype.broadcastQueries=function(){this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,o=this;void 0===r&&(r=this.queryDeduplication);var a=this.transform(e).serverQuery;if(a){var s=this.inFlightLinkObservables,c=this.link,u={query:a,variables:n,operationName:di(a)||void 0,context:this.prepareContext(Vr(Vr({},t),{forceFetch:!r}))};if(t=u.context,r){var l=s.get(a)||new Map;s.set(a,l);var f=JSON.stringify(n);if(!(i=l.get(f))){l.set(f,i=Uo(Oi(c,u)));var p=function(){l.delete(f),l.size||s.delete(a),d.unsubscribe()},d=i.subscribe({next:p,error:p,complete:p})}}else i=Uo(Oi(c,u))}else i=Mr.of({data:{}}),t=this.prepareContext(t);var h=this.transform(e).clientQuery;return h&&(i=function(e,t){return new Mr((function(n){var r=n.next,i=n.error,o=n.complete,a=0,s=!1,c={next:function(e){++a,new Promise((function(n){n(t(e))})).then((function(e){--a,r&&r.call(n,e),s&&c.complete()}),(function(e){--a,i&&i.call(n,e)}))},error:function(e){i&&i.call(n,e)},complete:function(){s=!0,a||o&&o.call(n)}},u=e.subscribe(c);return function(){return u.unsubscribe()}}))}(i,(function(e){return o.localState.runResolvers({document:h,remoteResult:e,context:t,variables:n})}))),i},e.prototype.fetchRequest=function(e){var t,n,r=this,i=e.requestId,o=e.queryId,a=e.document,s=e.options,c=e.fetchMoreForQueryId,u=s.variables,l=s.errorPolicy,f=void 0===l?"none":l,p=s.fetchPolicy;return new Promise((function(e,l){var d=r.getObservableFromLink(a,s.context,u),h=r.getQuery(o).subscriptions,v="fetchRequest:"+o;r.fetchQueryRejectFns.set(v,l);var y=function(){r.fetchQueryRejectFns.delete(v),h.delete(m)},m=d.map((function(e){var d=r.getQuery(o);if(i>=d.lastRequestId&&(d.markResult(e,s,!c,!0),r.setNetStatus(c,_i.ready),r.dirty(o),r.dirty(c),r.broadcastQueries()),"none"===f&&Ti(e.errors))return l(new Si({graphQLErrors:e.errors}));if("all"===f&&(n=e.errors),c||"no-cache"===p)t=e.data;else{var h=r.cache.diff({variables:u,query:a,optimistic:!1,returnPartialData:!0}),v=h.result;(h.complete||s.returnPartialData)&&(t=v)}})).subscribe({error:function(e){y(),l(e)},complete:function(){y(),e({data:t,errors:n,loading:!1,networkStatus:_i.ready})}});h.add(m)}))},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Vo(this.cache)),this.queries.get(e)},e.prototype.dirty=function(e){e&&this.getQuery(e).setDirty()},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Vr(Vr({},t),{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.getQueryStoreValue(e);return!!t&&!!t.networkStatus&&t.networkStatus!==_i.ready&&t.networkStatus!==_i.error},e.prototype.startPollingQuery=function(e,t){var n=this,r=e.pollInterval;if(Yr(r,23),!this.ssrMode){var i=this.pollingInfoByQueryId.get(t);i||this.pollingInfoByQueryId.set(t,i={}),i.interval=r,i.options=Vr(Vr({},e),{fetchPolicy:"network-only"});var o=function(){var e=n.pollingInfoByQueryId.get(t);e&&(n.checkInFlight(t)?a():n.fetchQuery(t,e.options,Ii.poll).then(a,a))},a=function(){var e=n.pollingInfoByQueryId.get(t);e&&(clearTimeout(e.timeout),e.timeout=setTimeout(o,e.interval))};a()}return t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e}();function Ko(e,t){if(!ji(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.queryUpdatersById;r&&Object.keys(r).forEach((function(i){var o=r[i],a=o.updater,s=o.queryInfo,c=s.document,u=s.variables,l=t.diff({query:c,variables:u,returnPartialData:!0,optimistic:!1}),f=l.result;if(l.complete){var p=xi((function(){return a(f,{mutationResult:e.result,queryName:di(c)||void 0,queryVariables:u})}));p&&n.push({result:p,dataId:"ROOT_QUERY",query:c,variables:u})}})),t.performTransaction((function(t){n.forEach((function(e){return t.write(e)}));var r=e.update;r&&xi((function(){return r(t,e.result)}))}))}}var Bo="local",Go=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,o=e.cache,a=e.ssrMode,s=void 0!==a&&a,c=e.ssrForceFetchDelay,u=void 0===c?0:c,l=e.connectToDevTools,f=e.queryDeduplication,p=void 0===f||f,d=e.defaultOptions,h=e.assumeImmutableResults,v=void 0!==h&&h,y=e.resolvers,m=e.typeDefs,b=e.fragmentMatcher,g=e.name,E=e.version,O=e.link;if(O||(O=n?new bo({uri:n,credentials:r,headers:i}):Ei.empty()),!o)throw new Hr(2);this.link=O,this.cache=o,this.disableNetworkFetches=s||u>0,this.queryDeduplication=p,this.defaultOptions=d||{},this.typeDefs=m,u&&setTimeout((function(){return t.disableNetworkFetches=!1}),u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);void 0!==l&&(l&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),this.version=Bo,this.localState=new Lo({cache:o,client:this,resolvers:y,fragmentMatcher:b}),this.queryManager=new qo({cache:this.cache,link:this.link,queryDeduplication:p,ssrMode:s,clientAwareness:{name:g,version:E},localState:this.localState,assumeImmutableResults:v,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Vr(Vr({},this.defaultOptions.watchQuery),e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Vr(Vr({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Vr(Vr({},this.defaultOptions.query),e)),Yr("cache-and-network"!==e.fetchPolicy,3),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Vr(Vr({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Vr(Vr({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Oi(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e}(),$o=null,Ho={},Yo=1,zo=Array,Jo=zo["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",Yo++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=$o;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Ho)break;return e!==$o&&($o.slots[this.id]=t),!0}return $o&&($o.slots[this.id]=Ho),!1},e.prototype.getValue=function(){if(this.hasValue())return $o.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),a=$o;$o={parent:a,slots:o};try{return t.apply(r,n)}finally{$o=a}},e.bind=function(e){var t=$o;return function(){var n=$o;try{return $o=t,e.apply(this,arguments)}finally{$o=n}}},e.noContext=function(e,t,n){if(!$o)return e.apply(n,t);var r=$o;try{return $o=null,e.apply(n,t)}finally{$o=r}},e}();try{Object.defineProperty(zo,"@wry/context:Slot",{value:zo["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();Jo.bind,Jo.noContext;function Wo(){}var Zo=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=Wo),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Xo=new Jo;function ea(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var ta=[],na=100;function ra(e,t){if(!e)throw new Error(t||"assertion failure")}function ia(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var oa=function(){function e(t,n){this.fn=t,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.recompute=function(){return ra(!this.recomputing,"already recomputing"),function(e){var t=Xo.getValue();if(t)e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),sa(e)?la(t,e):fa(t,e)}(this),sa(this)?function(e){da(e),Xo.withValue(e,aa,[e]),function(e){if("function"==typeof e.subscribe)try{ea(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,sa(e))return;ua(e)}(e);return ia(e.value)}(this):ia(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ca(this),da(this),ea(this))},e.prototype.dispose=function(){var e=this;da(this),ea(this),this.parents.forEach((function(t){t.setDirty(),ha(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=ta.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),ta.push(this.deps),this.deps=null)},e.count=0,e}();function aa(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function sa(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function ca(e){e.parents.forEach((function(t){return la(t,e)}))}function ua(e){e.parents.forEach((function(t){return fa(t,e)}))}function la(e,t){if(ra(e.childValues.has(t)),ra(sa(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=ta.pop()||new Set;e.dirtyChildren.add(t),ca(e)}function fa(e,t){ra(e.childValues.has(t)),ra(!sa(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return(n>0&&n===t.length&&e[n-1]===t[n-1])}(n,t.value)||e.setDirty(),pa(e,t),sa(e)||ua(e)}function pa(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(ta.length<na&&ta.push(n),e.dirtyChildren=null))}function da(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){ha(e,n)})),e.forgetDeps(),ra(null===e.dirtyChildren)}function ha(e,t){t.parents.delete(e),e.childValues.delete(t),pa(e,t)}var va=function(){return Object.create(null)},ya=function(){function e(e,t){void 0===t&&(t=va),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach((function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(e.slice(0)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}();function ma(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=Xo.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(ea(i),i.unsubscribe=n(e))}}return r.dirty=function(e){var n=t.get(e);n&&(n.forEach((function(e){return e.setDirty()})),t.delete(e),ea(n))},r}var ba=new ya("function"==typeof WeakMap);function ga(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ba.lookupArray(e)}var Ea=new Set;function Oa(e,t){void 0===t&&(t=Object.create(null));var n=new Zo(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.makeCacheKey||ga;function i(){var i=r.apply(null,arguments);if(void 0===i)return e.apply(null,arguments);var o=Array.prototype.slice.call(arguments),a=n.get(i);a?a.args=o:(a=new oa(e,o),n.set(i,a),a.subscribe=t.subscribe);var s=a.recompute();return n.set(i,a),Ea.add(n),Xo.hasValue()||(Ea.forEach((function(e){return e.clean()})),Ea.clear()),s}return i.dirty=function(){var e=r.apply(null,arguments),t=void 0!==e&&n.get(e);t&&t.setDirty()},i}var Ta=function(){function e(){this.getFragmentDoc=Oa(Zr)}return e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.modify=function(e,t,n){return!1},e.prototype.gc=function(){return[]},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName)})},e}(),_a=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r},Ia=/^[_A-Za-z0-9]+/;function Na(e){var t=e.match(Ia);return t?t[0]:e}function Sa(e){var t=e&&e.__field;return t&&ui(t)}var wa=function(e,t,n){var r=e[n],i=t[n];return Sa(r)?(r.__value=this.merge(r.__value,Sa(i)?i.__value:i),r):Sa(i)?(i.__value=this.merge(r,i.__value),i):this.merge(r,i)},Da=Object.prototype.hasOwnProperty;function Aa(e){var t=e.__typename,n=e.id,r=e._id;if("string"==typeof t){if(void 0!==n)return t+":"+n;if(void 0!==r)return t+":"+r}}var Ra=function(){},Pa=function(e,t){return t.fieldName},Ca=function(){function e(e){void 0===e&&(e={}),this.config=e,this.typePolicies=Object.create(null),this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.storageTrie=new ya(!0),this.config=Vr({dataIdFromObject:Aa},e),this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,n){for(var r,i=t&&n?ci(e,t,n):e.__typename,o={typename:i,selectionSet:t,fragmentMap:n,policies:this},a=this.getTypePolicy(i,!1),s=a&&a.keyFn||this.config.dataIdFromObject;s;){var c=s(e,o);if(!Array.isArray(c)){r=c;break}s=La(c)}return r=r&&String(r),o.keyObject?[r,o.keyObject]:[r]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=t.getTypePolicy(n,!0),i=e[n],o=i.keyFields,a=i.fields;i.queryType&&t.setRootTypename("Query",n),i.mutationType&&t.setRootTypename("Mutation",n),i.subscriptionType&&t.setRootTypename("Subscription",n),r.keyFn=!1===o?Ra:Array.isArray(o)?La(o):"function"==typeof o?o:void 0,a&&Object.keys(a).forEach((function(e){var r=t.getFieldPolicy(n,e,!0),i=a[e];if("function"==typeof i)r.read=i;else{var o=i.keyArgs,s=i.read,c=i.merge;r.keyFn=!1===o?Pa:Array.isArray(o)?ja(o):"function"==typeof o?o:r.keyFn,"function"==typeof s&&(r.read=s),"function"==typeof c&&(r.merge=c)}r.read&&r.merge&&(r.keyFn=r.keyFn||Pa)}))}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(Yr(!r||r===e,35),this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){var r=t.getSubtypeSet(n,!0);e[n].forEach(r.add,r)}))},e.prototype.getTypePolicy=function(e,t){if(e)return this.typePolicies[e]||t&&(this.typePolicies[e]=Object.create(null))},e.prototype.getSubtypeSet=function(e,t){var n=this.getTypePolicy(e,t);if(n)return n.subtypes||(t?n.subtypes=new Set:void 0)},e.prototype.getFieldPolicy=function(e,t,n){var r=this.getTypePolicy(e,n);if(r){var i=r.fields||n&&(r.fields=Object.create(null));if(i)return i[t]||n&&(i[t]=Object.create(null))}},e.prototype.fragmentMatches=function(e,t){var n=this;if(!e.typeCondition)return!0;if(!t)return!1;var r=e.typeCondition.name.value;if(t===r)return!0;if(this.usingPossibleTypes)for(var i=[this.getSubtypeSet(r,!1)],o=0;o<i.length;++o){var a=i[o];if(a){if(a.has(t))return!0;a.forEach((function(e){var t=n.getSubtypeSet(e,!1);t&&i.indexOf(t)<0&&i.push(t)}))}}return!1},e.prototype.getStoreFieldName=function(e,t,n){var r,i=t.name.value,o=this.getFieldPolicy(e,i,!1),a=o&&o.keyFn;if(a&&e)for(var s=ai(t,n),c={typename:e,fieldName:i,field:t,variables:n,policies:this};a;){var u=a(s,c);if(!Array.isArray(u)){r=u||i;break}a=ja(u)}return void 0===r&&(r=ii(t,n)),i===Na(r)?r:i+":"+r},e.prototype.readField=function(e,t,n,r){void 0===r&&(r=n.getFieldValue(e,"__typename")),Yr(e,36);var i="string"==typeof t?t:this.getStoreFieldName(r,t,n.variables),o=Na(i),a=n.getFieldValue(e,i),s=this.getFieldPolicy(r,o,!1),c=s&&s.read;return c?c(a,ka(this,r,e,t,this.storageTrie.lookup(ni(e)?e.__ref:e,i),n)):a},e.prototype.hasMergeFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.merge)},e.prototype.applyMerges=function(e,t,n,r){var i=this;if(Sa(t)){var o=t.__field,a=o.name.value,s=i.getFieldPolicy(t.__typename,a,!1).merge,c=r?i.storageTrie.lookupArray(r):null;t=s(e,t.__value,ka(i,t.__typename,null,o,c,n))}if(t&&"object"==typeof t){if(ni(t))return t;if(Array.isArray(t))return t.map((function(e){return i.applyMerges(void 0,e,n)}));var u=e,l=t,f=ni(u)?u.__ref:"object"==typeof u&&u;Object.keys(l).forEach((function(e){l[e]=i.applyMerges(n.getFieldValue(u,e),l[e],n,f?[f,e]:void 0)}))}return t},e}();function ka(e,t,n,r,i,o){var a=o.toReference,s=o.getFieldValue,c=o.variables,u="string"==typeof r?r:e.getStoreFieldName(t,r,c),l=Na(u);return{args:"string"==typeof r?null:ai(r,c),field:"string"==typeof r?null:r,fieldName:l,storeFieldName:u,variables:c,policies:e,isReference:ni,toReference:a,storage:i,readField:function(t,r){return e.readField(r||n,t,o)},mergeObjects:function(t,n){if(Array.isArray(t)||Array.isArray(n))throw new Hr(37);if(t&&"object"==typeof t&&n&&"object"==typeof n){var r=s(t,"__typename"),i=s(n,"__typename"),a=r&&i&&r!==i,c=e.applyMerges(a?void 0:t,n,o);return!a&&xa(t)&&xa(c)?Vr(Vr({},t),c):c}return n}}}function xa(e){return!(!e||"object"!=typeof e||ni(e)||Array.isArray(e))}function ja(e){return function(t,n){var r=n.field.name.value;return t?r+":"+JSON.stringify(Ma(t,e)):r}}function La(e){var t=new ya(Mo);return function(n,r){var i;if(r.selectionSet&&r.fragmentMap){var o=t.lookupArray([r.selectionSet,r.fragmentMap]);i=o.aliasMap||(o.aliasMap=function e(t,n){var r=Object.create(null);var i=new Set([t]);i.forEach((function(t){t.selections.forEach((function(t){if(ui(t)){if(t.alias){var o=t.alias.value,a=t.name.value;if(a!==o)(r.aliases||(r.aliases=Object.create(null)))[a]=o}if(t.selectionSet)(r.subsets||(r.subsets=Object.create(null)))[t.name.value]=e(t.selectionSet,n)}else{var s=ei(t,n);s&&i.add(s.selectionSet)}}))}));return r}(r.selectionSet,r.fragmentMap))}var a=r.keyObject=Ma(n,e,i);return r.typename+":"+JSON.stringify(a)}}function Ma(e,t,n){var r,i=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof r){var o=n&&n.subsets,a=o&&o[r];i[r]=Ma(e[r],t,a)}}else{var s=n&&n.aliases,c=s&&s[t]||t;Yr(Da.call(e,c),38),i[r=t]=e[c]}})),i}function Fa(e){return e}var Ua=Object.prototype.hasOwnProperty,Va=Object.create(null),Qa=function(){return Va},qa=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return Fa(ni(e)?n.get(e.__ref,t):e&&e[t])},this.toReference=function(e,t){var r=n.policies.identify(e)[0],i=r&&ti(r);return i&&t&&n.merge(r,e),i}}return e.prototype.toObject=function(){return Vr({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),Ua.call(this.data,e)){var n=this.data[e];if(n&&Ua.call(n,t))return n[t]}return"__typename"===t&&Ua.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Ga?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Ua.call(this.data,e)?this.data[e]:this instanceof Ga?this.parent.lookup(e,t):void 0},e.prototype.merge=function(e,t){var n=this,r=this.lookup(e),i=new jo($a).merge(r,t);if(this.data[e]=i,i!==r&&(delete this.refs[e],this.group.caching)){var o=Object.create(null);r||(o.__exists=1),Object.keys(t).forEach((function(e){r&&r[e]===i[e]||(o[Na(e)]=1,void 0!==i[e]||n instanceof Ga||delete i[e])})),Object.keys(o).forEach((function(t){return n.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),o=!1,a=!0,s=function(t,r){return n.getFieldValue(r||ti(e),t)};if(Object.keys(r).forEach((function(e){var c=Na(e),u=r[e];if(void 0!==u){var l="function"==typeof t?t:t[c];if(l){var f=l===Qa?Va:l(Fa(u),{DELETE:Va,fieldName:c,storeFieldName:e,isReference:ni,toReference:n.toReference,readField:s});f===Va&&(f=void 0),f!==u&&(i[e]=f,o=!0,u=f)}void 0!==u&&(a=!1)}})),o)return this.merge(e,i),a&&(this instanceof Ga?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t){var n;return this.modify(e,t?((n={})[t]=Qa,n):Qa)},e.prototype.evict=function(e,t){var n=!1;return Ua.call(this.data,e)&&(n=this.delete(e,t)),this instanceof Ga&&(n=this.parent.evict(e,t)||n),this.group.dirty(e,t||"__exists"),n},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;Object.keys(this.data).forEach((function(n){e&&Ua.call(e,n)||t.delete(n)})),e&&Object.keys(e).forEach((function(n){t.merge(n,e[n])}))},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Ga&&this.parent.getRootIdSet(e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){Ua.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof Ga;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!Ua.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=new Set([this.data[e]]),r=function(e){return null!==e&&"object"==typeof e};n.forEach((function(e){ni(e)?t[e.__ref]=!0:r(e)&&Object.values(e).filter(r).forEach(n.add,n)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),Ka=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new ya(Mo),this.d=e?ma():null}return e.prototype.depend=function(e,t){this.d&&this.d(Ba(e,t))},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(Ba(e,t))},e}();function Ba(e,t){return Na(t)+"#"+e}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,a=e.call(this,n,new Ka(i))||this;return a.sharedLayerGroup=new Ka(i),o&&a.replace(o),a}return Ur(t,e),t.prototype.addLayer=function(e,t){return new Ga(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(e){return this},t}(e);e.Root=t}(qa||(qa={}));var Ga=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return Ur(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==n.lookup(e)&&t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return Vr(Vr({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return Ua.call(this.data,t)?Vr(Vr({},n),e.prototype.findChildRefIds.call(this,t)):n},t}(qa);function $a(e,t,n){var r=e[n],i=t[n];return Ci(r,i)?r:i}function Ha(e){return!!(e instanceof qa&&e.group.caching)}function Ya(e,t){return new _a(e.message,t.path.slice(),t.query,t.variables)}var za=function(){function e(e){var t=this;this.config=e,this.config=Vr({addTypename:!0},e);var n=this.executeSelectionSet,r=this.executeSubSelectedArray;this.executeSelectionSet=Oa((function(e){return n.call(t,e)}),{makeCacheKey:function(e){var t=e.selectionSet,n=e.objectOrReference,r=e.context;if(Ha(r.store))return r.store.makeCacheKey(t,r.varString,ni(n)?n.__ref:n)}}),this.executeSubSelectedArray=Oa((function(e){return r.call(t,e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(Ha(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Vr(Vr({},e),{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t,n=e.store,r=e.query,i=e.rootId,o=void 0===i?"ROOT_QUERY":i,a=e.variables,s=e.returnPartialData,c=void 0===s||s,u=this.config.policies;a=Vr(Vr({},yi((Yr((t=pi(r))&&"query"===t.operation,28),t))),a);var l=this.executeSelectionSet({selectionSet:vi(r).selectionSet,objectOrReference:ti(o),context:{store:n,query:r,policies:u,variables:a,varString:JSON.stringify(a),fragmentMap:Xr(hi(r)),toReference:n.toReference,getFieldValue:n.getFieldValue,path:[]}}),f=l.missing&&l.missing.length>0;if(f&&!c)throw l.missing[0];return{result:l.result,missing:l.missing,complete:!f}},e.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.context;if(ni(r)&&!i.policies.rootTypenamesById[r.__ref]&&!i.store.has(r.__ref))return{result:{},missing:[Ya(new Hr(48),i)]};var o=i.fragmentMap,a=i.variables,s=i.policies,c=i.store,u=[],l={result:null},f=c.getFieldValue(r,"__typename");function p(){return l.missing||(l.missing=[])}function d(e){var t;return e.missing&&(t=p()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof f&&!s.rootIdsByTypename[f]&&u.push({__typename:f});var h=new Set(n.selections);return h.forEach((function(e){var n;if(go(e,a))if(ui(e)){var c=s.readField(r,e,i),l=si(e);i.path.push(l),void 0===c?wo.added(e)||p().push(Ya(new Hr(49),i)):Array.isArray(c)?c=d(t.executeSubSelectedArray({field:e,array:c,context:i})):e.selectionSet&&null!=c&&(c=d(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,context:i}))),void 0!==c&&u.push(((n={})[l]=c,n)),Yr(i.path.pop()===l)}else{var v=void 0;li(e)?v=e:Yr(v=o[e.name.value],50),s.fragmentMatches(v,f)&&v.selectionSet.selections.forEach(h.add,h)}})),l.result=Co(u),l},e.prototype.executeSubSelectedArray=function(e){var t,n=this,r=e.field,i=e.array,o=e.context;function a(e,n){return e.missing&&(t=t||[]).push.apply(t,e.missing),Yr(o.path.pop()===n),e.result}return{result:i=i.map((function(e,t){return null===e?null:(o.path.push(t),Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,context:o}),t):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,context:o}),t):(Yr(o.path.pop()===t),e))})),missing:t}},e}(),Ja=function(){function e(e){this.policies=e.policies}return e.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.dataId,i=void 0===r?"ROOT_QUERY":r,o=e.store,a=void 0===o?new qa.Root({policies:this.policies}):o,s=e.variables,c=pi(t);a.retain(i);var u=new jo(wa);return this.processSelectionSet({result:n||Object.create(null),dataId:i,selectionSet:c.selectionSet,typename:this.policies.rootTypenamesById[i],context:{store:a,written:Object.create(null),merge:function(e,t){return u.merge(e,t)},variables:Vr(Vr({},yi(c)),s),fragmentMap:Xr(hi(t)),toReference:a.toReference,getFieldValue:a.getFieldValue}}),a},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,o=e.context,a=e.typename,s=e.out,c=void 0===s?{shouldApplyMerges:!1}:s,u=this.policies,l=Object.create(null),f=u.identify(r,i,o.fragmentMap),p=f[0],d=f[1];if(n=n||p,d&&(l=o.merge(l,d)),"string"==typeof n){var h=o.written[n]||(o.written[n]=[]);if(h.indexOf(i)>=0)return ti(n);h.push(i)}"string"==typeof(a=a||ci(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename"))&&(l.__typename=a);var v=new Set(i.selections);if(v.forEach((function(e){var n;if(go(e,o.variables))if(ui(e)){var i=si(e),s=r[i];if(void 0!==s){var f=u.getStoreFieldName(a,e,o.variables),p=t.processFieldValue(s,e,o,c);u.hasMergeFunction(a,e.name.value)&&(p={__field:e,__typename:a,__value:p},c.shouldApplyMerges=!0),l=o.merge(l,((n={})[f]=p,n))}else if(u.usingPossibleTypes&&!Eo(["defer","client"],e))throw new Hr(52)}else{var d=ei(e,o.fragmentMap);d&&u.fragmentMatches(d,a)&&d.selectionSet.selections.forEach(v.add,v)}})),"string"==typeof n){var y=ti(n);return c.shouldApplyMerges&&(l=u.applyMerges(y,l,o)),o.store.merge(n,l),y}return l},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){return i.processFieldValue(e,t,n,r)})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,out:r}):e},e}(),Wa={dataIdFromObject:Aa,addTypename:!0,resultCaching:!0,typePolicies:{}},Za=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.txCount=0,n.varDep=ma(),n.config=Vr(Vr({},Wa),t),n.addTypename=!!n.config.addTypename,n.policies=new Ca({dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.data=new qa.Root({policies:n.policies,resultCaching:n.config.resultCaching}),n.optimisticData=n.data,n.storeWriter=new Ja({policies:n.policies}),n.storeReader=new za({addTypename:n.addTypename,policies:n.policies});var r=n,i=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=Oa((function(e){return i.call(n,e)}),{makeCacheKey:function(e){var t=e.optimistic?r.optimisticData:r.data;if(Ha(t)){var n=e.optimistic,i=e.rootId,o=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:n,rootId:i,variables:o}))}}}),n}return Ur(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){var t=e.optimistic?this.optimisticData:this.data;return("string"!=typeof e.rootId||t.has(e.rootId))&&this.storeReader.readQueryFromStore({store:t,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config})||null},t.prototype.write=function(e){this.storeWriter.writeQueryToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables}),this.broadcastWatches()},t.prototype.modify=function(e,t,n){return void 0===n&&(n=!1),!!(n?this.optimisticData:this.data).modify(e,t)&&(this.broadcastWatches(),!0)},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return this.policies.identify(e)[0]},t.prototype.evict=function(e,t){var n=this.optimisticData.evict(e,t);return this.broadcastWatches(),n},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var n=this,r=function(t){var r=n,i=r.data,o=r.optimisticData;++n.txCount,t&&(n.data=n.optimisticData=t);try{e(n)}finally{--n.txCount,n.data=i,n.optimisticData=o}};"string"==typeof t?this.optimisticData=this.optimisticData.addLayer(t,r):r(),this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=wo(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.txCount||this.watches.forEach((function(t){return e.maybeBroadcastWatch(t)}))},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic}))},t.prototype.makeVar=function(e){var t=this;return function n(r){return arguments.length>0?e!==r&&(e=r,t.varDep.dirty(n),t.broadcastWatches()):t.varDep(n),e}},t}(Ta),Xa=Ei.split;function es(e,t){if(!Boolean(e))throw new Error(t)}function ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,Bi&&(e.prototype[Bi]=t)}function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rs(e){return"object"==ns(e)&&null!==e}function is(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function os(e){return as(e.source,is(e.source,e.start))}function as(e,t){var n=e.locationOffset.column-1,r=cs(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,c=t.column+s,u="".concat(e.name,":").concat(a,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var p=Math.floor(c/80),d=c%80,h=[],v=0;v<f.length;v+=80)h.push(f.slice(v,v+80));return u+ss([["".concat(a),h[0]]].concat(h.slice(1,p+1).map((function(e){return["",e]})),[[" ",cs(d-1)+"^"],["",h[p+1]]]))}return u+ss([["".concat(a-1),l[i-1]],["".concat(a),f],["",cs(c-1)+"^"],["".concat(a+1),l[i+1]]])}function ss(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return cs(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function cs(e){return Array(e+1).join(" ")}function us(e,t,n,r,i,o,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,c=n;if(!c&&s){var u=s[0];c=u&&u.loc&&u.loc.source}var l,f=r;!f&&s&&(f=s.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),f&&0===f.length&&(f=void 0),r&&n?l=r.map((function(e){return is(n,e)})):s&&(l=s.reduce((function(e,t){return t.loc&&e.push(is(t.loc.source,t.loc.start)),e}),[]));var p=a;if(null==p&&null!=o){var d=o.extensions;rs(d)&&(p=d)}Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:s||void 0},source:{value:c||void 0},positions:{value:f||void 0},originalError:{value:o},extensions:{value:p||void 0,enumerable:Boolean(p)}}),o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,us):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function ls(e,t,n){return new us("Syntax Error: ".concat(n),void 0,e,[t])}us.prototype=Object.create(Error.prototype,{constructor:{value:us},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+os(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+as(e.source,s)}return t}(this)}}});var fs=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function ps(e){"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}})}var ds=function(e,t,n){this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||es(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||es(0,"column in locationOffset is 1-indexed and must be positive")};ps(ds);var hs=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function vs(){return this.lastToken=this.token,this.token=this.lookahead()}function ys(){var e=this.token;if(e.kind!==hs.EOF)do{e=e.next||(e.next=gs(this,e))}while(e.kind===hs.COMMENT);return e}function ms(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}function bs(e){return isNaN(e)?hs.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function gs(e,t){var n=e.source,r=n.body,i=r.length,o=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=e.charCodeAt(i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===e.charCodeAt(i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),a=e.line,s=1+o-e.lineStart;if(o>=i)return new ms(hs.EOF,i,i,a,s,t);var c=r.charCodeAt(o);switch(c){case 33:return new ms(hs.BANG,o,o+1,a,s,t);case 35:return function(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new ms(hs.COMMENT,t,s,n,r,i,a.slice(t+1,s))}(n,o,a,s,t);case 36:return new ms(hs.DOLLAR,o,o+1,a,s,t);case 38:return new ms(hs.AMP,o,o+1,a,s,t);case 40:return new ms(hs.PAREN_L,o,o+1,a,s,t);case 41:return new ms(hs.PAREN_R,o,o+1,a,s,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new ms(hs.SPREAD,o,o+3,a,s,t);break;case 58:return new ms(hs.COLON,o,o+1,a,s,t);case 61:return new ms(hs.EQUALS,o,o+1,a,s,t);case 64:return new ms(hs.AT,o,o+1,a,s,t);case 91:return new ms(hs.BRACKET_L,o,o+1,a,s,t);case 93:return new ms(hs.BRACKET_R,o,o+1,a,s,t);case 123:return new ms(hs.BRACE_L,o,o+1,a,s,t);case 124:return new ms(hs.PIPE,o,o+1,a,s,t);case 125:return new ms(hs.BRACE_R,o,o+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var o=e.body,a=o.length,s=t+1,c=0;for(;s!==a&&!isNaN(c=o.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new ms(hs.NAME,t,s,n,r,i,o.slice(t,s))}(n,o,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,o){var a=e.body,s=n,c=t,u=!1;45===s&&(s=a.charCodeAt(++c));if(48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw ls(e,c,"Invalid number, unexpected digit after 0: ".concat(bs(s),"."))}else c=Es(e,c,s),s=a.charCodeAt(c);46===s&&(u=!0,s=a.charCodeAt(++c),c=Es(e,c,s),s=a.charCodeAt(c));69!==s&&101!==s||(u=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=Es(e,c,s),s=a.charCodeAt(c));if(46===s||69===s||101===s)throw ls(e,c,"Invalid number, expected digit but got: ".concat(bs(s),"."));return new ms(u?hs.FLOAT:hs.INT,t,c,r,i,o,a.slice(t,c))}(n,o,c,a,s,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?function(e,t,n,r,i,o){var a=e.body,s=t+3,c=s,u=0,l="";for(;s<a.length&&!isNaN(u=a.charCodeAt(s));){if(34===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(c,s),new ms(hs.BLOCK_STRING,t,s+3,n,r,i,to(l));if(u<32&&9!==u&&10!==u&&13!==u)throw ls(e,s,"Invalid character within String: ".concat(bs(u),"."));10===u?(++s,++o.line,o.lineStart=s):13===u?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(c,s)+'"""',c=s+=4):++s}throw ls(e,s,"Unterminated string.")}(n,o,a,s,t,e):function(e,t,n,r,i){var o=e.body,a=t+1,s=a,c=0,u="";for(;a<o.length&&!isNaN(c=o.charCodeAt(a))&&10!==c&&13!==c;){if(34===c)return u+=o.slice(s,a),new ms(hs.STRING,t,a+1,n,r,i,u);if(c<32&&9!==c)throw ls(e,a,"Invalid character within String: ".concat(bs(c),"."));if(++a,92===c){switch(u+=o.slice(s,a-1),c=o.charCodeAt(a)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var l=Os(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(l<0){var f=o.slice(a+1,a+5);throw ls(e,a,"Invalid character escape sequence: \\u".concat(f,"."))}u+=String.fromCharCode(l),a+=4;break;default:throw ls(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++a}}throw ls(e,a,"Unterminated string.")}(n,o,a,s,t)}throw ls(n,o,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(bs(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(bs(e),".")}(c))}function Es(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw ls(e,i,"Invalid number, expected digit but got: ".concat(bs(o),"."))}function Os(e,t,n,r){return Ts(e)<<12|Ts(t)<<8|Ts(n)<<4|Ts(r)}function Ts(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}ts(ms,(function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}));var _s=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Is(e,t){return new Ns(e,t).parseDocument()}var Ns=function(){function e(e,t){var n="string"==typeof e?new ds(e):e;n instanceof ds||es(0,"Must provide Source. Received: ".concat(Yi(n))),this._lexer=function(e,t){var n=new ms(hs.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:vs,lookahead:ys}}(n),this._options=t||{}}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(hs.NAME);return{kind:fs.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:fs.DOCUMENT,definitions:this.many(hs.SOF,this.parseDefinition,hs.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(hs.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(hs.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(hs.BRACE_L))return{kind:fs.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(hs.NAME)&&(t=this.parseName()),{kind:fs.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(hs.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(hs.PAREN_L,this.parseVariableDefinition,hs.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:fs.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(hs.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(hs.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(hs.DOLLAR),{kind:fs.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:fs.SELECTION_SET,selections:this.many(hs.BRACE_L,this.parseSelection,hs.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(hs.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(hs.COLON)?(e=r,t=this.parseName()):t=r,{kind:fs.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(hs.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(hs.PAREN_L,t,hs.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(hs.COLON),{kind:fs.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:fs.ARGUMENT,name:this.parseName(),value:(this.expectToken(hs.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(hs.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(hs.NAME)?{kind:fs.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:fs.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e=this._lexer.token;return this.expectKeyword("fragment"),this._options.experimentalFragmentVariables?{kind:fs.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:fs.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case hs.BRACKET_L:return this.parseList(e);case hs.BRACE_L:return this.parseObject(e);case hs.INT:return this._lexer.advance(),{kind:fs.INT,value:t.value,loc:this.loc(t)};case hs.FLOAT:return this._lexer.advance(),{kind:fs.FLOAT,value:t.value,loc:this.loc(t)};case hs.STRING:case hs.BLOCK_STRING:return this.parseStringLiteral();case hs.NAME:return"true"===t.value||"false"===t.value?(this._lexer.advance(),{kind:fs.BOOLEAN,value:"true"===t.value,loc:this.loc(t)}):"null"===t.value?(this._lexer.advance(),{kind:fs.NULL,loc:this.loc(t)}):(this._lexer.advance(),{kind:fs.ENUM,value:t.value,loc:this.loc(t)});case hs.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:fs.STRING,value:e.value,block:e.kind===hs.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:fs.LIST,values:this.any(hs.BRACKET_L,(function(){return t.parseValueLiteral(e)}),hs.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:fs.OBJECT,fields:this.any(hs.BRACE_L,(function(){return t.parseObjectField(e)}),hs.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(hs.COLON),{kind:fs.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(hs.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(hs.AT),{kind:fs.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(hs.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(hs.BRACKET_R),e={kind:fs.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(hs.BANG)?{kind:fs.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:fs.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===hs.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(hs.STRING)||this.peek(hs.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token;this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.many(hs.BRACE_L,this.parseOperationTypeDefinition,hs.BRACE_R);return{kind:fs.SCHEMA_DEFINITION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(hs.COLON);var n=this.parseNamedType();return{kind:fs.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:fs.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:fs.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(hs.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(hs.AMP)||this._options.allowLegacySDLImplementsInterfaces&&this.peek(hs.NAME))}return e},t.parseFieldsDefinition=function(){return this._options.allowLegacySDLEmptyFields&&this.peek(hs.BRACE_L)&&this._lexer.lookahead().kind===hs.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(hs.BRACE_L,this.parseFieldDefinition,hs.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(hs.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:fs.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(hs.PAREN_L,this.parseInputValueDef,hs.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(hs.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(hs.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:fs.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:fs.INTERFACE_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:fs.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){var e=[];if(this.expectOptionalToken(hs.EQUALS)){this.expectOptionalToken(hs.PIPE);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(hs.PIPE))}return e},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:fs.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(hs.BRACE_L,this.parseEnumValueDefinition,hs.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:fs.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:fs.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(hs.BRACE_L,this.parseInputValueDef,hs.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===hs.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(hs.BRACE_L,this.parseOperationTypeDefinition,hs.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:fs.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:fs.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:fs.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:fs.INTERFACE_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:fs.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:fs.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:fs.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(hs.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:fs.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){this.expectOptionalToken(hs.PIPE);var e=[];do{e.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(hs.PIPE));return e},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==_s[t.value])return t;throw this.unexpected(e)},t.loc=function(e){if(!this._options.noLocation)return new Ss(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw ls(this._lexer.source,t.start,"Expected ".concat(e,", found ").concat(ws(t)))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==hs.NAME||t.value!==e)throw ls(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(ws(t)));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===hs.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=e||this._lexer.token;return ls(this._lexer.source,t.start,"Unexpected ".concat(ws(t)))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},e}();function Ss(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function ws(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}ts(Ss,(function(){return{start:this.start,end:this.end}}));var Ds=Xt(Object.freeze({__proto__:null,parse:Is,parseValue:function(e,t){var n=new Ns(e,t);n.expectToken(hs.SOF);var r=n.parseValueLiteral(!1);return n.expectToken(hs.EOF),r},parseType:function(e,t){var n=new Ns(e,t);n.expectToken(hs.SOF);var r=n.parseTypeReference();return n.expectToken(hs.EOF),r}})).parse;function As(e){return e.replace(/[\s,]+/g," ").trim()}var Rs={},Ps={};var Cs=!0;var ks=!1;function xs(e){var t=As(e);if(Rs[t])return Rs[t];var n=Ds(e,{experimentalFragmentVariables:ks});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map((function(t){return e(t,n)}));if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var i,o,a,s=Object.keys(t);for(i in s)s.hasOwnProperty(i)&&(o=t[s[i]],"[object Object]"!==(a=Object.prototype.toString.call(o))&&"[object Array]"!==a||(t[s[i]]=e(o,!0)));return t}(n=function(e){for(var t,n={},r=[],i=0;i<e.definitions.length;i++){var o=e.definitions[i];if("FragmentDefinition"===o.kind){var a=o.name.value,s=As((t=o.loc).source.body.substring(t.start,t.end));Ps.hasOwnProperty(a)&&!Ps[a][s]?(Cs&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),Ps[a][s]=!0):Ps.hasOwnProperty(a)||(Ps[a]={},Ps[a][s]=!0),n[s]||(n[s]=!0,r.push(o))}else r.push(o)}return e.definitions=r,e}(n),!1),Rs[t]=n,n}function js(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return xs(n)}js.default=js,js.resetCaches=function(){Rs={},Ps={}},js.disableFragmentWarnings=function(){Cs=!1},js.enableExperimentalFragmentVariables=function(){ks=!0},js.disableExperimentalFragmentVariables=function(){ks=!1};var Ls,Ms=js;!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(Ls||(Ls={}));var Fs=new Map;function Us(e){var t;switch(e){case Ls.Query:t="Query";break;case Ls.Mutation:t="Mutation";break;case Ls.Subscription:t="Subscription"}return t}var Vs=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!Ci(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;Yr(!!e,46);var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var n=function(e){var t,n,r=Fs.get(e);if(r)return r;Yr(!!e&&!!e.kind,5);var i=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),o=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),a=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),s=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));Yr(!i.length||o.length||a.length||s.length,6),Yr(o.length+a.length+s.length<=1,7),n=o.length?Ls.Query:Ls.Mutation,o.length||a.length||(n=Ls.Subscription);var c=o.length?o:a.length?a:s;Yr(1===c.length,8);var u=c[0];t=u.variableDefinitions||[];var l={name:u.name&&"Name"===u.name.kind?u.name.value:"data",type:n,variables:t};return Fs.set(e,l),l}(e);Us(t),Us(n.type);Yr(n.type===t,47)},e}(),Qs=(function(e){function t(t){var n=t.options,r=t.context,i=t.forceUpdate,o=e.call(this,n,r)||this;return o.previousData={},o.runLazy=!1,o.runLazyQuery=function(e){o.cleanup(),o.runLazy=!0,o.lazyOptions=e,o.forceUpdate()},o.getQueryResult=function(){var e=o.observableQueryFields(),t=o.getOptions();if(t.skip)e=Vr(Vr({},e),{data:void 0,error:void 0,loading:!1,called:!0});else if(o.currentObservable){var n=o.currentObservable.getCurrentResult(),r=n.loading,i=n.partial,a=n.networkStatus,s=n.errors,c=n.error,u=n.data;if(s&&s.length>0&&(c=new Si({graphQLErrors:s})),e=Vr(Vr({},e),{loading:r,networkStatus:a,error:c,called:!0}),r){var l=o.previousData.result&&o.previousData.result.data;e.data=l&&u?Vr(Vr({},l),u):l||u}else if(c)Object.assign(e,{data:(o.currentObservable.getLastResult()||{}).data});else{var f=o.currentObservable.options.fetchPolicy;if(t.partialRefetch&&i&&(!u||0===Object.keys(u).length)&&"cache-only"!==f)return Object.assign(e,{loading:!0,networkStatus:_i.loading}),e.refetch(),e;e.data=u}}return e.client=o.client,o.setOptions(t,!0),o.previousData.loading=o.previousData.result&&o.previousData.result.loading||!1,o.previousData.result=e},o.obsRefetch=function(e){return o.currentObservable.refetch(e)},o.obsFetchMore=function(e){return o.currentObservable.fetchMore(e)},o.obsUpdateQuery=function(e){return o.currentObservable.updateQuery(e)},o.obsStartPolling=function(e){var t;null===(t=o.currentObservable)||void 0===t||t.startPolling(e)},o.obsStopPolling=function(){var e;null===(e=o.currentObservable)||void 0===e||e.stopPolling()},o.obsSubscribeToMore=function(e){return o.currentObservable.subscribeToMore(e)},o.forceUpdate=i,o}Ur(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,n=e.query;return(t||n!==this.previousData.query)&&(this.removeQuerySubscription(),this.previousData.query=n),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:_i.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var e=this,t=this.getOptions();return!t.skip&&!1!==t.ssr&&new Promise((function(t){return e.startQuerySubscription(t)}))},t.prototype.afterExecute=function(e){var t=this,n=e.queryResult,r=e.lazy,i=void 0!==r&&r;return this.isMounted=!0,i&&!this.runLazy||(this.handleErrorOrCompleted(n),setTimeout((function(){var e;null===(e=t.currentObservable)||void 0===e||e.resetQueryStoreErrors()}))),this.previousOptions=this.getOptions(),this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),delete this.currentObservable,delete this.previousData.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this);return this.lazyOptions&&(t.variables=Vr(Vr({},t.variables),this.lazyOptions.variables),t.context=Vr(Vr({},t.context),this.lazyOptions.context)),this.runLazy&&delete t.skip,t},t.prototype.getExecuteResult=function(){var e=this.getQueryResult();return this.startQuerySubscription(),e},t.prototype.getExecuteSsrResult=function(){var e,t=this.context&&this.context.renderPromises,n=!1===this.getOptions().ssr,r=this.refreshClient().client.disableNetworkFetches,i={loading:!0,networkStatus:_i.loading,called:!0,data:void 0};return n&&(t||r)?i:(t&&(e=this.context.renderPromises.addQueryPromise(this,this.getQueryResult)||i),e)},t.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,Ls.Query);var t=e.displayName||"Query";return this.context&&this.context.renderPromises&&("network-only"===e.fetchPolicy||"cache-and-network"===e.fetchPolicy)&&(e.fetchPolicy="cache-first"),Vr(Vr({},e),{displayName:t,context:e.context})},t.prototype.initializeObservableQuery=function(){if(this.context&&this.context.renderPromises&&(this.currentObservable=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable){var e=this.prepareObservableQueryOptions();this.previousData.observableQueryOptions=Vr(Vr({},e),{children:null}),this.currentObservable=this.refreshClient().client.watchQuery(Vr({},e)),this.context&&this.context.renderPromises&&this.context.renderPromises.registerSSRObservable(this.currentObservable,e)}},t.prototype.updateObservableQuery=function(){if(this.currentObservable){var e=Vr(Vr({},this.prepareObservableQueryOptions()),{children:null});Ci(e,this.previousData.observableQueryOptions)||(this.previousData.observableQueryOptions=e,this.currentObservable.setOptions(e).catch((function(){})))}else this.initializeObservableQuery()},t.prototype.startQuerySubscription=function(e){var t=this;void 0===e&&(e=this.forceUpdate),this.currentSubscription||this.getOptions().skip||(this.currentSubscription=this.currentObservable.subscribe({next:function(n){var r=n.loading,i=n.networkStatus,o=n.data,a=t.previousData.result;a&&a.loading===r&&a.networkStatus===i&&Ci(a.data,o)||t.previousOptions.skip||e()},error:function(n){if(t.resubscribeToQuery(),!n.hasOwnProperty("graphQLErrors"))throw n;var r=t.previousData.result;(r&&r.loading||!Ci(n,t.previousData.error))&&(t.previousData.error=n,e())}}))},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable;if(e){var t=e.getLastError(),n=e.getLastResult();e.resetLastResults(),this.startQuerySubscription(),Object.assign(e,{lastError:t,lastResult:n})}},t.prototype.handleErrorOrCompleted=function(e){var t=e.data,n=e.loading,r=e.error;if(!n){var i=this.getOptions(),o=i.query,a=i.variables,s=i.onCompleted,c=i.onError;if(this.previousOptions&&!this.previousData.loading&&Ci(this.previousOptions.query,o)&&Ci(this.previousOptions.variables,a))return;s&&!r?s(t):c&&r&&c(r)}},t.prototype.removeQuerySubscription=function(){this.currentSubscription&&(this.currentSubscription.unsubscribe(),delete this.currentSubscription)},t.prototype.observableQueryFields=function(){var e;return{variables:null===(e=this.currentObservable)||void 0===e?void 0:e.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}}}(Vs),function(e){function t(t){var n=t.options,r=t.context,i=t.result,o=t.setResult,a=e.call(this,n,r)||this;return a.runMutation=function(e){void 0===e&&(e={}),a.onMutationStart();var t=a.generateNewMutationId();return a.mutate(e).then((function(e){return a.onMutationCompleted(e,t),e})).catch((function(e){if(a.onMutationError(e,t),!a.getOptions().onError)throw e}))},a.verifyDocumentType(n.mutation,Ls.Mutation),a.result=i,a.setResult=o,a.mostRecentMutationId=0,a}Ur(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,Ls.Mutation),[this.runMutation,Vr(Vr({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){var t=this.getOptions(),n=t.mutation,r=t.variables,i=t.optimisticResponse,o=t.update,a=t.context,s=void 0===a?{}:a,c=t.awaitRefetchQueries,u=void 0!==c&&c,l=t.fetchPolicy,f=t.errorPolicy,p=Vr({},e),d=Object.assign({},r,p.variables);return delete p.variables,this.refreshClient().client.mutate(Vr({mutation:n,optimisticResponse:i,refetchQueries:p.refetchQueries||this.getOptions().refetchQueries,awaitRefetchQueries:u,update:o,context:s,fetchPolicy:l,errorPolicy:f,variables:d},p))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),r=n.onCompleted,i=n.ignoreResults,o=e.data,a=e.errors,s=a&&a.length>0?new Si({graphQLErrors:a}):void 0;this.isMostRecentMutation(t)&&!i&&this.updateResult({called:!0,loading:!1,data:o,error:s}),r&&r(o)},t.prototype.onMutationError=function(e,t){var n=this.getOptions().onError;this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0}),n&&n(e)},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){!this.isMounted||this.previousResult&&Ci(this.previousResult,e)||(this.setResult(e),this.previousResult=e)}}(Vs),function(e){function t(t){var n=t.options,r=t.context,i=t.setResult,o=e.call(this,n,r)||this;return o.currentObservable={},o.setResult=i,o.initialize(n),o}Ur(t,e),t.prototype.execute=function(e){if(!0===this.getOptions().skip)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var t=e;this.refreshClient().isNew&&(t=this.getLoadingResult());var n=this.getOptions().shouldResubscribe;return"function"==typeof n&&(n=!!n(this.getOptions())),!1!==n&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!Ci(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),t=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),Vr(Vr({},t),{variables:this.getOptions().variables})},t.prototype.afterExecute=function(){this.isMounted=!0},t.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},t.prototype.initialize=function(e){this.currentObservable.query||!0===this.getOptions().skip||(this.currentObservable.query=this.refreshClient().client.subscribe({query:e.subscription,variables:e.variables,fetchPolicy:e.fetchPolicy}))},t.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},t.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},t.prototype.updateResult=function(e){this.isMounted&&this.setResult(e)},t.prototype.updateCurrentData=function(e){var t=this.getOptions().onSubscriptionData;this.updateResult({data:e.data,loading:!1,error:void 0}),t&&t({client:this.refreshClient().client,subscriptionData:e})},t.prototype.updateError=function(e){this.updateResult({error:e,loading:!1})},t.prototype.completeSubscription=function(){var e=this.getOptions().onSubscriptionComplete;e&&e(),this.endSubscription()},t.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)}}(Vs),Object.freeze({major:14,minor:6,patch:0,preReleaseTag:null}),Array.prototype.find?function(e,t){return Array.prototype.find.call(e,t)}:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return r}}),qs=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ks=Object.entries||function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))};function Bs(e,t){return e.reduce((function(e,n){return e[t(n)]=n,e}),Object.create(null))}function Gs(e,t){for(var n=Object.create(null),r=0,i=Ks(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n[a]=t(s,a)}return n}function $s(e){if(null===Object.getPrototypeOf(e))return e;for(var t=Object.create(null),n=0,r=Ks(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1];t[o]=a}return t}function Hs(e,t,n){return e.reduce((function(e,r){return e[t(r)]=n(r),e}),Object.create(null))}var Ys=function(e,t){return e instanceof t};function zs(e){return e}function Js(e,t){if(!Boolean(e))throw new Error(t||"Unexpected invariant triggered")}function Ws(e){return void 0===e||e!=e}function Zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zs(n,!0).forEach((function(t){ec(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zs(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tc(e){return nc(e)||rc(e)||ic(e)||oc(e)||ac(e)||sc(e)||cc(e)||uc(e)}function nc(e){return Ys(e,gc)}function rc(e){return Ys(e,Ec)}function ic(e){return Ys(e,wc)}function oc(e){return Ys(e,Dc)}function ac(e){return Ys(e,Rc)}function sc(e){return Ys(e,Pc)}function cc(e){return Ys(e,dc)}function uc(e){return Ys(e,hc)}function lc(e){return nc(e)||ac(e)}function fc(e){return rc(e)||ic(e)||oc(e)}function pc(e){return ic(e)||oc(e)}function dc(e){if(!(this instanceof dc))return new dc(e);this.ofType=function(e){if(!tc(e))throw new Error("Expected ".concat(Yi(e)," to be a GraphQL type."));return e}(e)}function hc(e){if(!(this instanceof hc))return new hc(e);this.ofType=function(e){if(!function(e){return tc(e)&&!uc(e)}(e))throw new Error("Expected ".concat(Yi(e)," to be a GraphQL nullable type."));return e}(e)}function vc(e){return cc(e)||uc(e)}function yc(e){if(e){for(var t=e;vc(t);)t=t.ofType;return t}}function mc(e){return"function"==typeof e?e():e}function bc(e){return e&&e.length>0?e:void 0}dc.prototype.toString=function(){return"["+String(this.ofType)+"]"},ps(dc),ts(dc),hc.prototype.toString=function(){return String(this.ofType)+"!"},ps(hc),ts(hc);var gc=function(){function e(e){var t=e.parseValue||zs;this.name=e.name,this.description=e.description,this.serialize=e.serialize||zs,this.parseValue=t,this.parseLiteral=e.parseLiteral||function(e){return t(function e(t,n){switch(t.kind){case fs.NULL:return null;case fs.INT:return parseInt(t.value,10);case fs.FLOAT:return parseFloat(t.value);case fs.STRING:case fs.ENUM:case fs.BOOLEAN:return t.value;case fs.LIST:return t.values.map((function(t){return e(t,n)}));case fs.OBJECT:return Hs(t.fields,(function(e){return e.name.value}),(function(t){return e(t.value,n)}));case fs.VARIABLE:var r=t.name.value;return n&&!Ws(n[r])?n[r]:void 0}Js(!1,"Unexpected value node: "+Yi(t))}(e))},this.extensions=e.extensions&&$s(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=bc(e.extensionASTNodes),"string"==typeof e.name||es(0,"Must provide name."),null==e.serialize||"function"==typeof e.serialize||es(0,"".concat(this.name,' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.')),e.parseLiteral&&("function"==typeof e.parseValue&&"function"==typeof e.parseLiteral||es(0,"".concat(this.name,' must provide both "parseValue" and "parseLiteral" functions.')))}var t=e.prototype;return t.toConfig=function(){return{name:this.name,description:this.description,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},t.toString=function(){return this.name},e}();ps(gc),ts(gc);var Ec=function(){function e(e){this.name=e.name,this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=e.extensions&&$s(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=bc(e.extensionASTNodes),this._fields=Tc.bind(void 0,e),this._interfaces=Oc.bind(void 0,e),"string"==typeof e.name||es(0,"Must provide name."),null==e.isTypeOf||"function"==typeof e.isTypeOf||es(0,"".concat(this.name,' must provide "isTypeOf" as a function, ')+"but got: ".concat(Yi(e.isTypeOf),"."))}var t=e.prototype;return t.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},t.getInterfaces=function(){return"function"==typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces},t.toConfig=function(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Ic(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},t.toString=function(){return this.name},e}();function Oc(e){var t=mc(e.interfaces)||[];return Array.isArray(t)||es(0,"".concat(e.name," interfaces must be an Array or a function which returns an Array.")),t}function Tc(e){var t=mc(e.fields)||{};return _c(t)||es(0,"".concat(e.name," fields must be an object with field names as keys or a function which returns such an object.")),Gs(t,(function(t,n){_c(t)||es(0,"".concat(e.name,".").concat(n," field config must be an object")),!("isDeprecated"in t)||es(0,"".concat(e.name,".").concat(n,' should provide "deprecationReason" instead of "isDeprecated".')),null==t.resolve||"function"==typeof t.resolve||es(0,"".concat(e.name,".").concat(n," field resolver must be a function if ")+"provided, but got: ".concat(Yi(t.resolve),"."));var r=t.args||{};_c(r)||es(0,"".concat(e.name,".").concat(n," args must be an object with argument names as keys."));var i=Ks(r).map((function(e){var t=e[0],n=e[1];return{name:t,description:void 0===n.description?null:n.description,type:n.type,defaultValue:n.defaultValue,extensions:n.extensions&&$s(n.extensions),astNode:n.astNode}}));return Xs({},t,{name:n,description:t.description,type:t.type,args:i,resolve:t.resolve,subscribe:t.subscribe,isDeprecated:Boolean(t.deprecationReason),deprecationReason:t.deprecationReason,extensions:t.extensions&&$s(t.extensions),astNode:t.astNode})}))}function _c(e){return rs(e)&&!Array.isArray(e)}function Ic(e){return Gs(e,(function(e){return{description:e.description,type:e.type,args:Nc(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}}))}function Nc(e){return Hs(e,(function(e){return e.name}),(function(e){return{description:e.description,type:e.type,defaultValue:e.defaultValue,extensions:e.extensions,astNode:e.astNode}}))}function Sc(e){return uc(e.type)&&void 0===e.defaultValue}ps(Ec),ts(Ec);var wc=function(){function e(e){this.name=e.name,this.description=e.description,this.resolveType=e.resolveType,this.extensions=e.extensions&&$s(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=bc(e.extensionASTNodes),this._fields=Tc.bind(void 0,e),"string"==typeof e.name||es(0,"Must provide name."),null==e.resolveType||"function"==typeof e.resolveType||es(0,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat(Yi(e.resolveType),"."))}var t=e.prototype;return t.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},t.toConfig=function(){return{name:this.name,description:this.description,fields:Ic(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},t.toString=function(){return this.name},e}();ps(wc),ts(wc);var Dc=function(){function e(e){this.name=e.name,this.description=e.description,this.resolveType=e.resolveType,this.extensions=e.extensions&&$s(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=bc(e.extensionASTNodes),this._types=Ac.bind(void 0,e),"string"==typeof e.name||es(0,"Must provide name."),null==e.resolveType||"function"==typeof e.resolveType||es(0,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat(Yi(e.resolveType),"."))}var t=e.prototype;return t.getTypes=function(){return"function"==typeof this._types&&(this._types=this._types()),this._types},t.toConfig=function(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},t.toString=function(){return this.name},e}();function Ac(e){var t=mc(e.types)||[];return Array.isArray(t)||es(0,"Must provide Array of types or a function which returns such an array for Union ".concat(e.name,".")),t}ps(Dc),ts(Dc);var Rc=function(){function e(e){var t,n;this.name=e.name,this.description=e.description,this.extensions=e.extensions&&$s(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=bc(e.extensionASTNodes),this._values=(t=this.name,_c(n=e.values)||es(0,"".concat(t," values must be an object with value names as keys.")),Ks(n).map((function(e){var n=e[0],r=e[1];return _c(r)||es(0,"".concat(t,".").concat(n,' must refer to an object with a "value" key ')+"representing an internal value but got: ".concat(Yi(r),".")),!("isDeprecated"in r)||es(0,"".concat(t,".").concat(n,' should provide "deprecationReason" instead of "isDeprecated".')),{name:n,description:r.description,value:"value"in r?r.value:n,isDeprecated:Boolean(r.deprecationReason),deprecationReason:r.deprecationReason,extensions:r.extensions&&$s(r.extensions),astNode:r.astNode}}))),this._valueLookup=new Map(this._values.map((function(e){return[e.value,e]}))),this._nameLookup=Bs(this._values,(function(e){return e.name})),"string"==typeof e.name||es(0,"Must provide name.")}var t=e.prototype;return t.getValues=function(){return this._values},t.getValue=function(e){return this._nameLookup[e]},t.serialize=function(e){var t=this._valueLookup.get(e);if(t)return t.name},t.parseValue=function(e){if("string"==typeof e){var t=this.getValue(e);if(t)return t.value}},t.parseLiteral=function(e,t){if(e.kind===fs.ENUM){var n=this.getValue(e.value);if(n)return n.value}},t.toConfig=function(){var e=Hs(this.getValues(),(function(e){return e.name}),(function(e){return{description:e.description,value:e.value,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}}));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},t.toString=function(){return this.name},e}();ps(Rc),ts(Rc);var Pc=function(){function e(e){this.name=e.name,this.description=e.description,this.extensions=e.extensions&&$s(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=bc(e.extensionASTNodes),this._fields=Cc.bind(void 0,e),"string"==typeof e.name||es(0,"Must provide name.")}var t=e.prototype;return t.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},t.toConfig=function(){var e=Gs(this.getFields(),(function(e){return{description:e.description,type:e.type,defaultValue:e.defaultValue,extensions:e.extensions,astNode:e.astNode}}));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[]}},t.toString=function(){return this.name},e}();function Cc(e){var t=mc(e.fields)||{};return _c(t)||es(0,"".concat(e.name," fields must be an object with field names as keys or a function which returns such an object.")),Gs(t,(function(t,n){return!("resolve"in t)||es(0,"".concat(e.name,".").concat(n," field has a resolve property, but Input Types cannot define resolvers.")),Xs({},t,{name:n,description:t.description,type:t.type,defaultValue:t.defaultValue,extensions:t.extensions&&$s(t.extensions),astNode:t.astNode})}))}function kc(e,t,n){return t===n||(uc(n)?!!uc(t)&&kc(e,t.ofType,n.ofType):uc(t)?kc(e,t.ofType,n):cc(n)?!!cc(t)&&kc(e,t.ofType,n.ofType):!cc(t)&&!!(pc(n)&&rc(t)&&e.isPossibleType(n,t)))}function xc(e,t,n){return t===n||(pc(t)?pc(n)?e.getPossibleTypes(t).some((function(t){return e.isPossibleType(n,t)})):e.isPossibleType(t,n):!!pc(n)&&e.isPossibleType(n,t))}ps(Pc),ts(Pc);var jc=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Lc=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Mc=2147483647,Fc=-2147483648;var Uc=new gc({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize:function(e){if("boolean"==typeof e)return e?1:0;var t=e;if("string"==typeof e&&""!==e&&(t=Number(e)),!Lc(t))throw new TypeError("Int cannot represent non-integer value: ".concat(Yi(e)));if(t>Mc||t<Fc)throw new TypeError("Int cannot represent non 32-bit signed integer value: ".concat(Yi(e)));return t},parseValue:function(e){if(!Lc(e))throw new TypeError("Int cannot represent non-integer value: ".concat(Yi(e)));if(e>Mc||e<Fc)throw new TypeError("Int cannot represent non 32-bit signed integer value: ".concat(Yi(e)));return e},parseLiteral:function(e){if(e.kind===fs.INT){var t=parseInt(e.value,10);if(t<=Mc&&t>=Fc)return t}}});var Vc=new gc({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize:function(e){if("boolean"==typeof e)return e?1:0;var t=e;if("string"==typeof e&&""!==e&&(t=Number(e)),!jc(t))throw new TypeError("Float cannot represent non numeric value: ".concat(Yi(e)));return t},parseValue:function(e){if(!jc(e))throw new TypeError("Float cannot represent non numeric value: ".concat(Yi(e)));return e},parseLiteral:function(e){return e.kind===fs.FLOAT||e.kind===fs.INT?parseFloat(e.value):void 0}});function Qc(e){if(rs(e)){if("function"==typeof e.valueOf){var t=e.valueOf();if(!rs(t))return t}if("function"==typeof e.toJSON)return e.toJSON()}return e}var qc=new gc({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:function(e){var t=Qc(e);if("string"==typeof t)return t;if("boolean"==typeof t)return t?"true":"false";if(jc(t))return t.toString();throw new TypeError("String cannot represent value: ".concat(Yi(e)))},parseValue:function(e){if("string"!=typeof e)throw new TypeError("String cannot represent a non string value: ".concat(Yi(e)));return e},parseLiteral:function(e){return e.kind===fs.STRING?e.value:void 0}});var Kc=new gc({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:function(e){if("boolean"==typeof e)return e;if(jc(e))return 0!==e;throw new TypeError("Boolean cannot represent a non boolean value: ".concat(Yi(e)))},parseValue:function(e){if("boolean"!=typeof e)throw new TypeError("Boolean cannot represent a non boolean value: ".concat(Yi(e)));return e},parseLiteral:function(e){return e.kind===fs.BOOLEAN?e.value:void 0}});var Bc=new gc({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:function(e){var t=Qc(e);if("string"==typeof t)return t;if(Lc(t))return String(t);throw new TypeError("ID cannot represent value: ".concat(Yi(e)))},parseValue:function(e){if("string"==typeof e)return e;if(Lc(e))return e.toString();throw new TypeError("ID cannot represent value: ".concat(Yi(e)))},parseLiteral:function(e){return e.kind===fs.STRING||e.kind===fs.INT?e.value:void 0}}),Gc=Object.freeze([qc,Uc,Vc,Kc,Bc]);var $c=function(){function e(e){this.name=e.name,this.description=e.description,this.locations=e.locations,this.isRepeatable=null!=e.isRepeatable&&e.isRepeatable,this.extensions=e.extensions&&$s(e.extensions),this.astNode=e.astNode,e.name||es(0,"Directive must be named."),Array.isArray(e.locations)||es(0,"@".concat(e.name," locations must be an Array."));var t=e.args||{};rs(t)&&!Array.isArray(t)||es(0,"@".concat(e.name," args must be an object with argument names as keys.")),this.args=Ks(t).map((function(e){var t=e[0],n=e[1];return{name:t,description:void 0===n.description?null:n.description,type:n.type,defaultValue:n.defaultValue,extensions:n.extensions&&$s(n.extensions),astNode:n.astNode}}))}var t=e.prototype;return t.toString=function(){return"@"+this.name},t.toConfig=function(){return{name:this.name,description:this.description,locations:this.locations,args:Nc(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}},e}();ps($c),ts($c);var Hc=new $c({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[_s.FIELD,_s.FRAGMENT_SPREAD,_s.INLINE_FRAGMENT],args:{if:{type:hc(Kc),description:"Included when true."}}}),Yc=new $c({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[_s.FIELD,_s.FRAGMENT_SPREAD,_s.INLINE_FRAGMENT],args:{if:{type:hc(Kc),description:"Skipped when true."}}}),zc=new $c({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[_s.FIELD_DEFINITION,_s.ENUM_VALUE],args:{reason:{type:qc,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax (as specified by [CommonMark](https://commonmark.org/).",defaultValue:"No longer supported"}}}),Jc=Object.freeze([Hc,Yc,zc]),Wc="function"==typeof Symbol?Symbol:void 0,Zc=Wc&&Wc.iterator;function Xc(e){var t=null!=e&&e.length;return"number"==typeof t&&t>=0&&t%1==0}function eu(e){return Object(e)===e&&(Xc(e)||function(e){return!!tu(e)}(e))}function tu(e){if(null!=e){var t=Zc&&e[Zc]||e["@@iterator"];if("function"==typeof t)return t}}function nu(e,t,n){if(null!=e){if("function"==typeof e.forEach)return e.forEach(t,n);var r=0,i=function(e){var t=tu(e);if(t)return t.call(e)}(e);if(i){for(var o;!(o=i.next()).done;)if(t.call(n,o.value,r++,e),r>9999999)throw new TypeError("Near-infinite iteration.")}else if(Xc(e))for(;r<e.length;r++)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}}Wc&&Wc.asyncIterator;var ru=/^-?(?:0|[1-9][0-9]*)$/,iu=new Ec({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:hc(dc(hc(su))),resolve:function(e){return qs(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:hc(su),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:su,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:su,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:hc(dc(hc(ou))),resolve:function(e){return e.getDirectives()}}}}}),ou=new Ec({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:hc(qc),resolve:function(e){return e.name}},description:{type:qc,resolve:function(e){return e.description}},locations:{type:hc(dc(hc(au))),resolve:function(e){return e.locations}},args:{type:hc(dc(hc(uu))),resolve:function(e){return e.args}}}}}),au=new Rc({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:_s.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:_s.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:_s.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:_s.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:_s.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:_s.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:_s.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:_s.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:_s.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:_s.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:_s.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:_s.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:_s.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:_s.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:_s.UNION,description:"Location adjacent to a union definition."},ENUM:{value:_s.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:_s.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:_s.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:_s.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),su=new Ec({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:hc(pu),resolve:function(e){return nc(e)?fu.SCALAR:rc(e)?fu.OBJECT:ic(e)?fu.INTERFACE:oc(e)?fu.UNION:ac(e)?fu.ENUM:sc(e)?fu.INPUT_OBJECT:cc(e)?fu.LIST:uc(e)?fu.NON_NULL:void Js(!1,'Unexpected type: "'.concat(Yi(e),'".'))}},name:{type:qc,resolve:function(e){return void 0!==e.name?e.name:void 0}},description:{type:qc,resolve:function(e){return void 0!==e.description?e.description:void 0}},fields:{type:dc(hc(cu)),args:{includeDeprecated:{type:Kc,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if(rc(e)||ic(e)){var r=qs(e.getFields());return n||(r=r.filter((function(e){return!e.deprecationReason}))),r}return null}},interfaces:{type:dc(hc(su)),resolve:function(e){if(rc(e))return e.getInterfaces()}},possibleTypes:{type:dc(hc(su)),resolve:function(e,t,n,r){var i=r.schema;if(pc(e))return i.getPossibleTypes(e)}},enumValues:{type:dc(hc(lu)),args:{includeDeprecated:{type:Kc,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if(ac(e)){var r=e.getValues();return n||(r=r.filter((function(e){return!e.deprecationReason}))),r}}},inputFields:{type:dc(hc(uu)),resolve:function(e){if(sc(e))return qs(e.getFields())}},ofType:{type:su,resolve:function(e){return void 0!==e.ofType?e.ofType:void 0}}}}}),cu=new Ec({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:hc(qc),resolve:function(e){return e.name}},description:{type:qc,resolve:function(e){return e.description}},args:{type:hc(dc(hc(uu))),resolve:function(e){return e.args}},type:{type:hc(su),resolve:function(e){return e.type}},isDeprecated:{type:hc(Kc),resolve:function(e){return e.isDeprecated}},deprecationReason:{type:qc,resolve:function(e){return e.deprecationReason}}}}}),uu=new Ec({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:hc(qc),resolve:function(e){return e.name}},description:{type:qc,resolve:function(e){return e.description}},type:{type:hc(su),resolve:function(e){return e.type}},defaultValue:{type:qc,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){var t=function e(t,n){if(uc(n)){var r=e(t,n.ofType);return r&&r.kind===fs.NULL?null:r}if(null===t)return{kind:fs.NULL};if(Ws(t))return null;if(cc(n)){var i=n.ofType;if(eu(t)){var o=[];return nu(t,(function(t){var n=e(t,i);n&&o.push(n)})),{kind:fs.LIST,values:o}}return e(t,i)}if(sc(n)){if(!rs(t))return null;for(var a=[],s=0,c=qs(n.getFields());s<c.length;s++){var u=c[s],l=e(t[u.name],u.type);l&&a.push({kind:fs.OBJECT_FIELD,name:{kind:fs.NAME,value:u.name},value:l})}return{kind:fs.OBJECT,fields:a}}if(lc(n)){var f=n.serialize(t);if(function(e){return null==e||e!=e}(f))return null;if("boolean"==typeof f)return{kind:fs.BOOLEAN,value:f};if("number"==typeof f){var p=String(f);return ru.test(p)?{kind:fs.INT,value:p}:{kind:fs.FLOAT,value:p}}if("string"==typeof f)return ac(n)?{kind:fs.ENUM,value:f}:n===Bc&&ru.test(f)?{kind:fs.INT,value:f}:{kind:fs.STRING,value:f};throw new TypeError("Cannot convert value to AST: ".concat(Yi(f)))}Js(!1,"Unexpected input type: "+Yi(n))}(e.defaultValue,e.type);return t?io(t):null}}}}}),lu=new Ec({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:hc(qc),resolve:function(e){return e.name}},description:{type:qc,resolve:function(e){return e.description}},isDeprecated:{type:hc(Kc),resolve:function(e){return e.isDeprecated}},deprecationReason:{type:qc,resolve:function(e){return e.deprecationReason}}}}}),fu=Object.freeze({SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"}),pu=new Rc({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:fu.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:fu.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:fu.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:fu.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:fu.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:fu.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:fu.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:fu.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),du=(hc(iu),hc(qc),hc(qc),Object.freeze([iu,ou,au,su,cu,uu,lu,pu]));function hu(e,t){if(!t)return e;var n=yc(t),r=e[n.name];if(r){if(r!==n)throw new Error('Schema must contain uniquely named types but contains multiple types named "'.concat(n.name,'".'));return e}e[n.name]=n;var i=e;if(oc(n)&&(i=n.getTypes().reduce(hu,i)),rc(n)&&(i=n.getInterfaces().reduce(hu,i)),rc(n)||ic(n))for(var o=0,a=qs(n.getFields());o<a.length;o++){var s=a[o];i=hu(i=s.args.map((function(e){return e.type})).reduce(hu,i),s.type)}if(sc(n))for(var c=0,u=qs(n.getFields());c<u.length;c++){i=hu(i,u[c].type)}return i}function vu(e,t){return function(e){return Ys(e,$c)}(t)?t.args.reduce((function(e,t){return hu(e,t.type)}),e):e}function yu(e,t){var n;return t.kind===fs.LIST_TYPE?(n=yu(e,t.type))&&dc(n):t.kind===fs.NON_NULL_TYPE?(n=yu(e,t.type))&&hc(n):t.kind===fs.NAMED_TYPE?e.getType(t.name.value):void Js(!1,"Unexpected type node: "+Yi(t))}function mu(e){return e.kind===fs.OPERATION_DEFINITION||e.kind===fs.FRAGMENT_DEFINITION}function bu(e){return e.kind===fs.SCALAR_TYPE_DEFINITION||e.kind===fs.OBJECT_TYPE_DEFINITION||e.kind===fs.INTERFACE_TYPE_DEFINITION||e.kind===fs.UNION_TYPE_DEFINITION||e.kind===fs.ENUM_TYPE_DEFINITION||e.kind===fs.INPUT_OBJECT_TYPE_DEFINITION}function gu(e){return e.kind===fs.SCHEMA_EXTENSION||function(e){return e.kind===fs.SCALAR_TYPE_EXTENSION||e.kind===fs.OBJECT_TYPE_EXTENSION||e.kind===fs.INTERFACE_TYPE_EXTENSION||e.kind===fs.UNION_TYPE_EXTENSION||e.kind===fs.ENUM_TYPE_EXTENSION||e.kind===fs.INPUT_OBJECT_TYPE_EXTENSION}(e)}ps(function(){function e(e){e&&e.assumeValid?this.__validationErrors=[]:(this.__validationErrors=void 0,rs(e)||es(0,"Must provide configuration object."),!e.types||Array.isArray(e.types)||es(0,'"types" must be Array if provided but got: '.concat(Yi(e.types),".")),!e.directives||Array.isArray(e.directives)||es(0,'"directives" must be Array if provided but got: '+"".concat(Yi(e.directives),".")),!e.allowedLegacyNames||Array.isArray(e.allowedLegacyNames)||es(0,'"allowedLegacyNames" must be Array if provided but got: '+"".concat(Yi(e.allowedLegacyNames),"."))),this.extensions=e.extensions&&$s(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes,this.__allowedLegacyNames=e.allowedLegacyNames||[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=e.directives||Jc;var t=[this._queryType,this._mutationType,this._subscriptionType,iu].concat(e.types),n=Object.create(null);n=t.reduce(hu,n),n=this._directives.reduce(vu,n),this._typeMap=n,this._possibleTypeMap=Object.create(null),this._implementations=Object.create(null);for(var r=0,i=qs(this._typeMap);r<i.length;r++){var o=i[r];if(rc(o))for(var a=0,s=o.getInterfaces();a<s.length;a++){var c=s[a];if(ic(c)){var u=this._implementations[c.name];u?u.push(o):this._implementations[c.name]=[o]}}}}var t=e.prototype;return t.getQueryType=function(){return this._queryType},t.getMutationType=function(){return this._mutationType},t.getSubscriptionType=function(){return this._subscriptionType},t.getTypeMap=function(){return this._typeMap},t.getType=function(e){return this.getTypeMap()[e]},t.getPossibleTypes=function(e){return oc(e)?e.getTypes():this._implementations[e.name]||[]},t.isPossibleType=function(e,t){if(null==this._possibleTypeMap[e.name]){for(var n=Object.create(null),r=0,i=this.getPossibleTypes(e);r<i.length;r++){n[i[r].name]=!0}this._possibleTypeMap[e.name]=n}return Boolean(this._possibleTypeMap[e.name][t.name])},t.getDirectives=function(){return this._directives},t.getDirective=function(e){return Qs(this.getDirectives(),(function(t){return t.name===e}))},t.toConfig=function(){return{query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:qs(this.getTypeMap()),directives:this.getDirectives().slice(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes||[],assumeValid:void 0!==this.__validationErrors,allowedLegacyNames:this.__allowedLegacyNames}},e}());var Eu=5;function Ou(e,t){var n="string"==typeof e?[e,t]:[void 0,e],r=n[0],i=n[1],o=" Did you mean ";switch(r&&(o+=r+" "),i.length){case 0:return"";case 1:return o+i[0]+"?";case 2:return o+i[0]+" or "+i[1]+"?"}var a=i.slice(0,Eu),s=a.pop();return o+a.join(", ")+", or "+s+"?"}function Tu(e,t){for(var n=Object.create(null),r=e.length/2,i=0;i<t.length;i++){var o=t[i],a=_u(e,o);a<=Math.max(r,o.length/2,1)&&(n[o]=a)}return Object.keys(n).sort((function(e,t){return n[e]-n[t]}))}function _u(e,t){if(e===t)return 0;var n=[],r=e.toLowerCase(),i=t.toLowerCase(),o=r.length,a=i.length;if(r===i)return 1;for(var s=0;s<=o;s++)n[s]=[s];for(var c=1;c<=a;c++)n[0][c]=c;for(var u=1;u<=o;u++)for(var l=1;l<=a;l++){var f=r[u-1]===i[l-1]?0:1;n[u][l]=Math.min(n[u-1][l]+1,n[u][l-1]+1,n[u-1][l-1]+f),u>1&&l>1&&r[u-1]===i[l-2]&&r[u-2]===i[l-1]&&(n[u][l]=Math.min(n[u][l],n[u-2][l-2]+f))}return n[o][a]}function Iu(e){for(var t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null),i=0,o=e.getDocument().definitions;i<o.length;i++){var a=o[i];bu(a)&&(r[a.name.value]=!0)}var s=Object.keys(n).concat(Object.keys(r));return{NamedType:function(t,i,o,a,c){var u=t.name.value;if(!n[u]&&!r[u]){var l=function(e){return Boolean(e&&!Array.isArray(e)&&(t=e,t.kind===fs.SCHEMA_DEFINITION||bu(t)||t.kind===fs.DIRECTIVE_DEFINITION||gu(e)));var t}(c[2]||o);if(l&&function(e){return-1!==Nu.indexOf(e)}(u))return;var f=Tu(u,l?Nu.concat(s):s);e.reportError(new us(function(e,t){return'Unknown type "'.concat(e,'".')+Ou(t.map((function(e){return'"'.concat(e,'"')})))}(u,f),t))}}}}var Nu=Gc.map((function(e){return e.name}));function Su(e){return'Fragment "'.concat(e,'" is never used.')}function wu(e,t){return t?'Variable "$'.concat(e,'" is not defined by operation "').concat(t,'".'):'Variable "$'.concat(e,'" is not defined.')}function Du(e,t){return t?'Variable "$'.concat(e,'" is never used in operation "').concat(t,'".'):'Variable "$'.concat(e,'" is never used.')}function Au(e){for(var t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():Jc,i=0;i<r.length;i++){var o=r[i];t[o.name]=o.locations}for(var a=e.getDocument().definitions,s=0;s<a.length;s++){var c=a[s];c.kind===fs.DIRECTIVE_DEFINITION&&(t[c.name.value]=c.locations.map((function(e){return e.value})))}return{Directive:function(n,r,i,o,a){var s=n.name.value,c=t[s];if(c){var u=function(e){var t=e[e.length-1];if(!Array.isArray(t))switch(t.kind){case fs.OPERATION_DEFINITION:switch(t.operation){case"query":return _s.QUERY;case"mutation":return _s.MUTATION;case"subscription":return _s.SUBSCRIPTION}break;case fs.FIELD:return _s.FIELD;case fs.FRAGMENT_SPREAD:return _s.FRAGMENT_SPREAD;case fs.INLINE_FRAGMENT:return _s.INLINE_FRAGMENT;case fs.FRAGMENT_DEFINITION:return _s.FRAGMENT_DEFINITION;case fs.VARIABLE_DEFINITION:return _s.VARIABLE_DEFINITION;case fs.SCHEMA_DEFINITION:case fs.SCHEMA_EXTENSION:return _s.SCHEMA;case fs.SCALAR_TYPE_DEFINITION:case fs.SCALAR_TYPE_EXTENSION:return _s.SCALAR;case fs.OBJECT_TYPE_DEFINITION:case fs.OBJECT_TYPE_EXTENSION:return _s.OBJECT;case fs.FIELD_DEFINITION:return _s.FIELD_DEFINITION;case fs.INTERFACE_TYPE_DEFINITION:case fs.INTERFACE_TYPE_EXTENSION:return _s.INTERFACE;case fs.UNION_TYPE_DEFINITION:case fs.UNION_TYPE_EXTENSION:return _s.UNION;case fs.ENUM_TYPE_DEFINITION:case fs.ENUM_TYPE_EXTENSION:return _s.ENUM;case fs.ENUM_VALUE_DEFINITION:return _s.ENUM_VALUE;case fs.INPUT_OBJECT_TYPE_DEFINITION:case fs.INPUT_OBJECT_TYPE_EXTENSION:return _s.INPUT_OBJECT;case fs.INPUT_VALUE_DEFINITION:return e[e.length-3].kind===fs.INPUT_OBJECT_TYPE_DEFINITION?_s.INPUT_FIELD_DEFINITION:_s.ARGUMENT_DEFINITION}}(a);u&&-1===c.indexOf(u)&&e.reportError(new us(function(e,t){return'Directive "'.concat(e,'" may not be used on ').concat(t,".")}(s,u),n))}else e.reportError(new us('Unknown directive "'.concat(s,'".'),n))}}}function Ru(e){return'The directive "'.concat(e,'" can only be used once at this location.')}function Pu(e){for(var t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():Jc,i=0;i<r.length;i++){var o=r[i];t[o.name]=!o.isRepeatable}for(var a=e.getDocument().definitions,s=0;s<a.length;s++){var c=a[s];c.kind===fs.DIRECTIVE_DEFINITION&&(t[c.name.value]=!c.repeatable)}return{enter:function(n){var r=n.directives;if(r)for(var i=Object.create(null),o=0;o<r.length;o++){var a=r[o],s=a.name.value;t[s]&&(i[s]?e.reportError(new us(Ru(s),[i[s],a])):i[s]=a)}}}}function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xu(e,t,n){return'Unknown argument "'.concat(e,'" on directive "@').concat(t,'".')+Ou(n.map((function(e){return'"'.concat(e,'"')})))}function ju(e){for(var t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():Jc,i=0;i<r.length;i++){var o=r[i];t[o.name]=o.args.map((function(e){return e.name}))}for(var a=e.getDocument().definitions,s=0;s<a.length;s++){var c=a[s];c.kind===fs.DIRECTIVE_DEFINITION&&(t[c.name.value]=c.arguments?c.arguments.map((function(e){return e.name.value})):[])}return{Directive:function(n){var r=n.name.value,i=t[r];if(n.arguments&&i)for(var o=0,a=n.arguments;o<a.length;o++){var s=a[o],c=s.name.value;if(-1===i.indexOf(c)){var u=Tu(c,i);e.reportError(new us(xu(c,r,u),s))}}return!1}}}function Lu(e){var t=Object.create(null);return{Field:function(){t=Object.create(null)},Directive:function(){t=Object.create(null)},Argument:function(n){var r=n.name.value;return t[r]?e.reportError(new us(function(e){return'There can be only one argument named "'.concat(e,'".')}(r),[t[r],n.name])):t[r]=n.name,!1}}}function Mu(e,t,n){return"Expected type ".concat(e,", found ").concat(t)+(n?"; ".concat(n):".")}function Fu(e,t,n){return"Expected type ".concat(e,", found ").concat(t,".")+Ou("the enum value",n)}function Uu(e,t){var n=e.getInputType();if(n){var r=yc(n);if(nc(r))try{Ws(r.parseLiteral(t,void 0))&&e.reportError(new us(Mu(Yi(n),io(t)),t))}catch(r){e.reportError(new us(Mu(Yi(n),io(t),r.message),t,void 0,void 0,void 0,r))}else{var i=ac(r)?Fu(Yi(n),io(t),Vu(r,t)):Mu(Yi(n),io(t));e.reportError(new us(i,t))}}}function Vu(e,t){var n=e.getValues().map((function(e){return e.name}));return Tu(io(t),n)}function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ku(e,t,n){return'Directive "@'.concat(e,'" argument "').concat(t,'" of type "').concat(n,'" is required, but it was not provided.')}function Bu(e){for(var t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():Jc,i=0;i<r.length;i++){var o=r[i];t[o.name]=Bs(o.args.filter(Sc),(function(e){return e.name}))}for(var a=e.getDocument().definitions,s=0;s<a.length;s++){var c=a[s];c.kind===fs.DIRECTIVE_DEFINITION&&(t[c.name.value]=Bs(c.arguments?c.arguments.filter(Gu):[],(function(e){return e.name.value})))}return{Directive:{leave:function(n){var r=n.name.value,i=t[r];if(i)for(var o=Bs(n.arguments||[],(function(e){return e.name.value})),a=0,s=Object.keys(i);a<s.length;a++){var c=s[a];if(!o[c]){var u=i[c].type;e.reportError(new us(Ku(r,c,tc(u)?Yi(u):io(u)),n))}}}}}}function Gu(e){return e.type.kind===fs.NON_NULL_TYPE&&null==e.defaultValue}function $u(e,t,n){return'Variable "$'.concat(e,'" of type "').concat(t,'" used in position expecting type "').concat(n,'".')}function Hu(e,t,n,r,i){return uc(r)&&!uc(t)?(null!=n&&n.kind!==fs.NULL||void 0!==i)&&kc(e,t,r.ofType):kc(e,t,r)}function Yu(e,t){return'Fields "'.concat(e,'" conflict because ').concat(function e(t){if(Array.isArray(t))return t.map((function(t){var n=t[0],r=t[1];return'subfields "'.concat(n,'" conflict because ').concat(e(r))})).join(" and ");return t}(t),". ")+"Use different aliases on the fields to fetch both if this was intentional."}function zu(e,t,n,r,i,o,a,s){if(!r[s]){r[s]=!0;var c=e.getFragment(s);if(c){var u=el(e,n,c),l=u[0],f=u[1];if(a!==l){Wu(e,t,n,i,o,a,l);for(var p=0;p<f.length;p++)zu(e,t,n,r,i,o,a,f[p])}}}}function Ju(e,t,n,r,i,o,a){if(o!==a&&!r.has(o,a,i)){r.add(o,a,i);var s=e.getFragment(o),c=e.getFragment(a);if(s&&c){var u=el(e,n,s),l=u[0],f=u[1],p=el(e,n,c),d=p[0],h=p[1];Wu(e,t,n,r,i,l,d);for(var v=0;v<h.length;v++)Ju(e,t,n,r,i,o,h[v]);for(var y=0;y<f.length;y++)Ju(e,t,n,r,i,f[y],a)}}}function Wu(e,t,n,r,i,o,a){for(var s=0,c=Object.keys(o);s<c.length;s++){var u=c[s],l=a[u];if(l)for(var f=o[u],p=0;p<f.length;p++)for(var d=0;d<l.length;d++){var h=Zu(e,n,r,i,u,f[p],l[d]);h&&t.push(h)}}}function Zu(e,t,n,r,i,o,a){var s=o[0],c=o[1],u=o[2],l=a[0],f=a[1],p=a[2],d=r||s!==l&&rc(s)&&rc(l),h=u&&u.type,v=p&&p.type;if(!d){var y=c.name.value,m=f.name.value;if(y!==m)return[[i,"".concat(y," and ").concat(m," are different fields")],[c],[f]];if(!function(e,t){if(e.length!==t.length)return!1;return e.every((function(e){var n,r,i=Qs(t,(function(t){return t.name.value===e.name.value}));return!!i&&(n=e.value,r=i.value,!n&&!r||io(n)===io(r))}))}(c.arguments||[],f.arguments||[]))return[[i,"they have differing arguments"],[c],[f]]}if(h&&v&&function e(t,n){if(cc(t))return!cc(n)||e(t.ofType,n.ofType);if(cc(n))return!0;if(uc(t))return!uc(n)||e(t.ofType,n.ofType);if(uc(n))return!0;if(lc(t)||lc(n))return t!==n;return!1}(h,v))return[[i,"they return conflicting types ".concat(Yi(h)," and ").concat(Yi(v))],[c],[f]];var b=c.selectionSet,g=f.selectionSet;return b&&g?function(e,t,n,r){if(e.length>0)return[[t,e.map((function(e){return e[0]}))],e.reduce((function(e,t){var n=t[1];return e.concat(n)}),[n]),e.reduce((function(e,t){var n=t[2];return e.concat(n)}),[r])]}(function(e,t,n,r,i,o,a,s){var c=[],u=Xu(e,t,i,o),l=u[0],f=u[1],p=Xu(e,t,a,s),d=p[0],h=p[1];if(Wu(e,c,t,n,r,l,d),0!==h.length)for(var v=Object.create(null),y=0;y<h.length;y++)zu(e,c,t,v,n,r,l,h[y]);if(0!==f.length)for(var m=Object.create(null),b=0;b<f.length;b++)zu(e,c,t,m,n,r,d,f[b]);for(var g=0;g<f.length;g++)for(var E=0;E<h.length;E++)Ju(e,c,t,n,r,f[g],h[E]);return c}(e,t,n,d,yc(h),b,yc(v),g),i,c,f):void 0}function Xu(e,t,n,r){var i=t.get(r);if(!i){var o=Object.create(null),a=Object.create(null);!function e(t,n,r,i,o){for(var a=0,s=r.selections;a<s.length;a++){var c=s[a];switch(c.kind){case fs.FIELD:var u=c.name.value,l=void 0;(rc(n)||ic(n))&&(l=n.getFields()[u]);var f=c.alias?c.alias.value:u;i[f]||(i[f]=[]),i[f].push([n,c,l]);break;case fs.FRAGMENT_SPREAD:o[c.name.value]=!0;break;case fs.INLINE_FRAGMENT:var p=c.typeCondition,d=p?yu(t.getSchema(),p):n;e(t,d,c.selectionSet,i,o)}}}(e,n,r,o,a),i=[o,Object.keys(a)],t.set(r,i)}return i}function el(e,t,n){var r=t.get(n.selectionSet);if(r)return r;var i=yu(e.getSchema(),n.typeCondition);return Xu(e,t,i,n.selectionSet)}var tl,nl=function(){function e(){this._data=Object.create(null)}var t=e.prototype;return t.has=function(e,t,n){var r=this._data[e],i=r&&r[t];return void 0!==i&&(!1!==n||!1===i)},t.add=function(e,t,n){rl(this._data,e,t,n),rl(this._data,t,e,n)},e}();function rl(e,t,n,r){var i=e[t];i||(i=Object.create(null),e[t]=i),i[n]=r}function il(e){var t=[],n=Object.create(null);return{ObjectValue:{enter:function(){t.push(n),n=Object.create(null)},leave:function(){n=t.pop()}},ObjectField:function(t){var r=t.name.value;n[r]?e.reportError(new us(function(e){return'There can be only one input field named "'.concat(e,'".')}(r),[n[r],t.name])):n[r]=t.name}}}function ol(e){return"There can be only one ".concat(e," type in schema.")}function al(e){return"Type for ".concat(e," already defined in the schema. It cannot be redefined.")}function sl(e,t){return'Enum value "'.concat(e,".").concat(t,'" can only be defined once.')}function cl(e,t){return'Enum value "'.concat(e,".").concat(t,'" already exists in the schema. It cannot also be defined in this type extension.')}function ul(e,t){return'Field "'.concat(e,".").concat(t,'" can only be defined once.')}function ll(e,t){return'Field "'.concat(e,".").concat(t,'" already exists in the schema. It cannot also be defined in this type extension.')}function fl(e,t){return!!(rc(e)||ic(e)||sc(e))&&e.getFields()[t]}function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dl(e,t){return"Cannot extend non-".concat(t,' type "').concat(e,'".')}var hl=(pl(tl={},fs.SCALAR_TYPE_DEFINITION,fs.SCALAR_TYPE_EXTENSION),pl(tl,fs.OBJECT_TYPE_DEFINITION,fs.OBJECT_TYPE_EXTENSION),pl(tl,fs.INTERFACE_TYPE_DEFINITION,fs.INTERFACE_TYPE_EXTENSION),pl(tl,fs.UNION_TYPE_DEFINITION,fs.UNION_TYPE_EXTENSION),pl(tl,fs.ENUM_TYPE_DEFINITION,fs.ENUM_TYPE_EXTENSION),pl(tl,fs.INPUT_OBJECT_TYPE_DEFINITION,fs.INPUT_OBJECT_TYPE_EXTENSION),tl);function vl(e){switch(e){case fs.SCALAR_TYPE_EXTENSION:return"scalar";case fs.OBJECT_TYPE_EXTENSION:return"object";case fs.INTERFACE_TYPE_EXTENSION:return"interface";case fs.UNION_TYPE_EXTENSION:return"union";case fs.ENUM_TYPE_EXTENSION:return"enum";case fs.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:return"unknown type"}}Object.freeze([function(e){return{Document:function(t){for(var n=0,r=t.definitions;n<r.length;n++){var i=r[n];mu(i)||e.reportError(new us((o=i.kind===fs.SCHEMA_DEFINITION||i.kind===fs.SCHEMA_EXTENSION?"schema":i.name.value,"The ".concat(o," definition is not executable.")),i))}var o;return!1}}},function(e){var t=Object.create(null);return{OperationDefinition:function(n){var r=n.name;return r&&(t[r.value]?e.reportError(new us(function(e){return'There can be only one operation named "'.concat(e,'".')}(r.value),[t[r.value],r])):t[r.value]=r),!1},FragmentDefinition:function(){return!1}}},function(e){var t=0;return{Document:function(e){t=e.definitions.filter((function(e){return e.kind===fs.OPERATION_DEFINITION})).length},OperationDefinition:function(n){!n.name&&t>1&&e.reportError(new us("This anonymous operation must be the only defined operation.",n))}}},function(e){return{OperationDefinition:function(t){var n;"subscription"===t.operation&&1!==t.selectionSet.selections.length&&e.reportError(new us((n=t.name&&t.name.value)?'Subscription "'.concat(n,'" must select only one top level field.'):"Anonymous Subscription must select only one top level field.",t.selectionSet.selections.slice(1)))}}},Iu,function(e){return{InlineFragment:function(t){var n=t.typeCondition;if(n){var r=yu(e.getSchema(),n);r&&!fc(r)&&e.reportError(new us(function(e){return'Fragment cannot condition on non composite type "'.concat(e,'".')}(io(n)),n))}},FragmentDefinition:function(t){var n=yu(e.getSchema(),t.typeCondition);n&&!fc(n)&&e.reportError(new us(function(e,t){return'Fragment "'.concat(e,'" cannot condition on non composite type "').concat(t,'".')}(t.name.value,io(t.typeCondition)),t.typeCondition))}}},function(e){return{VariableDefinition:function(t){var n=yu(e.getSchema(),t.type);if(n&&!function e(t){return nc(t)||ac(t)||sc(t)||vc(t)&&e(t.ofType)}(n)){var r=t.variable.name.value;e.reportError(new us(function(e,t){return'Variable "$'.concat(e,'" cannot be non-input type "').concat(t,'".')}(r,io(t.type)),t.type))}}}},function(e){return{Field:function(t){var n=e.getType(),r=t.selectionSet;n&&(lc(yc(n))?r&&e.reportError(new us(function(e,t){return'Field "'.concat(e,'" must not have a selection since type "').concat(t,'" has no subfields.')}(t.name.value,Yi(n)),r)):r||e.reportError(new us(function(e,t){return'Field "'.concat(e,'" of type "').concat(t,'" must have a selection of subfields. Did you mean "').concat(e,' { ... }"?')}(t.name.value,Yi(n)),t)))}}},function(e){return{Field:function(t){var n=e.getParentType();if(n&&!e.getFieldDef()){var r=e.getSchema(),i=t.name.value,o=function(e,t,n){if(pc(t)){for(var r=[],i=Object.create(null),o=0,a=e.getPossibleTypes(t);o<a.length;o++){var s=a[o];if(s.getFields()[n]){r.push(s.name);for(var c=0,u=s.getInterfaces();c<u.length;c++){var l=u[c];l.getFields()[n]&&(i[l.name]=(i[l.name]||0)+1)}}}return Object.keys(i).sort((function(e,t){return i[t]-i[e]})).concat(r)}return[]}(r,n,i),a=0!==o.length?[]:function(e,t,n){if(rc(t)||ic(t)){var r=Object.keys(t.getFields());return Tu(n,r)}return[]}(0,n,i);e.reportError(new us(function(e,t,n,r){var i=n.map((function(e){return'"'.concat(e,'"')})),o=r.map((function(e){return'"'.concat(e,'"')}));return'Cannot query field "'.concat(e,'" on type "').concat(t,'".')+(Ou("to use an inline fragment on",i)||Ou(o))}(i,n.name,o,a),t))}}}},function(e){var t=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(n){var r=n.name.value;return t[r]?e.reportError(new us('There can be only one fragment named "'.concat(r,'".'),[t[r],n.name])):t[r]=n.name,!1}}},function(e){return{FragmentSpread:function(t){var n=t.name.value;e.getFragment(n)||e.reportError(new us('Unknown fragment "'.concat(n,'".'),t.name))}}},function(e){var t=[],n=[];return{OperationDefinition:function(e){return t.push(e),!1},FragmentDefinition:function(e){return n.push(e),!1},Document:{leave:function(){for(var r=Object.create(null),i=0;i<t.length;i++)for(var o=t[i],a=0,s=e.getRecursivelyReferencedFragments(o);a<s.length;a++){r[s[a].name.value]=!0}for(var c=0;c<n.length;c++){var u=n[c],l=u.name.value;!0!==r[l]&&e.reportError(new us(Su(l),u))}}}}},function(e){return{InlineFragment:function(t){var n=e.getType(),r=e.getParentType();fc(n)&&fc(r)&&!xc(e.getSchema(),n,r)&&e.reportError(new us(function(e,t){return'Fragment cannot be spread here as objects of type "'.concat(e,'" can never be of type "').concat(t,'".')}(Yi(r),Yi(n)),t))},FragmentSpread:function(t){var n=t.name.value,r=function(e,t){var n=e.getFragment(t);if(n){var r=yu(e.getSchema(),n.typeCondition);if(fc(r))return r}}(e,n),i=e.getParentType();r&&i&&!xc(e.getSchema(),r,i)&&e.reportError(new us(function(e,t,n){return'Fragment "'.concat(e,'" cannot be spread here as objects of type "').concat(t,'" can never be of type "').concat(n,'".')}(n,Yi(i),Yi(r)),t))}}},function(e){var t=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(i){return function i(o){if(t[o.name.value])return;var a=o.name.value;t[a]=!0;var s=e.getFragmentSpreads(o.selectionSet);if(0===s.length)return;r[a]=n.length;for(var c=0;c<s.length;c++){var u=s[c],l=u.name.value,f=r[l];if(n.push(u),void 0===f){var p=e.getFragment(l);p&&i(p)}else{var d=n.slice(f),h=d.slice(0,-1).map((function(e){return e.name.value}));e.reportError(new us((v=l,m=void 0,m=(y=h).length?" via "+y.join(", "):"",'Cannot spread fragment "'.concat(v,'" within itself').concat(m,".")),d))}n.pop()}var v,y,m;r[a]=void 0}(i),!1}}},function(e){var t=Object.create(null);return{OperationDefinition:function(){t=Object.create(null)},VariableDefinition:function(n){var r=n.variable.name.value;t[r]?e.reportError(new us(function(e){return'There can be only one variable named "'.concat(e,'".')}(r),[t[r],n.variable.name])):t[r]=n.variable.name}}},function(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){for(var r=e.getRecursiveVariableUsages(n),i=0;i<r.length;i++){var o=r[i].node,a=o.name.value;!0!==t[a]&&e.reportError(new us(wu(a,n.name&&n.name.value),[o,n]))}}},VariableDefinition:function(e){t[e.variable.name.value]=!0}}},function(e){var t=[];return{OperationDefinition:{enter:function(){t=[]},leave:function(n){for(var r=Object.create(null),i=e.getRecursiveVariableUsages(n),o=n.name?n.name.value:null,a=0;a<i.length;a++){r[i[a].node.name.value]=!0}for(var s=0,c=t;s<c.length;s++){var u=c[s],l=u.variable.name.value;!0!==r[l]&&e.reportError(new us(Du(l,o),u))}}},VariableDefinition:function(e){t.push(e)}}},Au,Pu,function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(n,!0).forEach((function(t){ku(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ju(e),{Argument:function(t){var n=e.getArgument(),r=e.getFieldDef(),i=e.getParentType();if(!n&&r&&i){var o=t.name.value,a=r.args.map((function(e){return e.name}));e.reportError(new us(function(e,t,n,r){return'Unknown argument "'.concat(e,'" on field "').concat(t,'" of type "').concat(n,'".')+Ou(r.map((function(e){return'"'.concat(e,'"')})))}(o,r.name,i.name,Tu(o,a)),t))}}})},Lu,function(e){return{NullValue:function(t){var n=e.getInputType();uc(n)&&e.reportError(new us(Mu(Yi(n),io(t)),t))},ListValue:function(t){if(!cc(function(e){if(e)return uc(e)?e.ofType:e}(e.getParentInputType())))return Uu(e,t),!1},ObjectValue:function(t){var n=yc(e.getInputType());if(!sc(n))return Uu(e,t),!1;for(var r,i,o,a,s=Bs(t.fields,(function(e){return e.name.value})),c=0,u=qs(n.getFields());c<u.length;c++){var l=u[c];if(!s[l.name]&&(uc((a=l).type)&&void 0===a.defaultValue)){var f=Yi(l.type);e.reportError(new us((r=n.name,i=l.name,o=f,"Field ".concat(r,".").concat(i," of required type ").concat(o," was not provided.")),t))}}},ObjectField:function(t){var n,r,i,o=yc(e.getParentInputType());if(!e.getInputType()&&sc(o)){var a=Tu(t.name.value,Object.keys(o.getFields()));e.reportError(new us((n=o.name,r=t.name.value,i=a,'Field "'.concat(r,'" is not defined by type ').concat(n,".")+Ou(i)),t))}},EnumValue:function(t){var n=yc(e.getInputType());ac(n)?n.getValue(t.value)||e.reportError(new us(Fu(n.name,io(t),Vu(n,t)),t)):Uu(e,t)},IntValue:function(t){return Uu(e,t)},FloatValue:function(t){return Uu(e,t)},StringValue:function(t){return Uu(e,t)},BooleanValue:function(t){return Uu(e,t)}}},function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(n,!0).forEach((function(t){qu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Bu(e),{Field:{leave:function(t){var n=e.getFieldDef();if(!n)return!1;for(var r,i,o,a=Bs(t.arguments||[],(function(e){return e.name.value})),s=0,c=n.args;s<c.length;s++){var u=c[s];!a[u.name]&&Sc(u)&&e.reportError(new us((r=n.name,i=u.name,o=Yi(u.type),'Field "'.concat(r,'" argument "').concat(i,'" of type "').concat(o,'" is required, but it was not provided.')),t))}}}})},function(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){for(var r=e.getRecursiveVariableUsages(n),i=0;i<r.length;i++){var o=r[i],a=o.node,s=o.type,c=o.defaultValue,u=a.name.value,l=t[u];if(l&&s){var f=e.getSchema(),p=yu(f,l.type);p&&!Hu(f,p,l.defaultValue,s,c)&&e.reportError(new us($u(u,Yi(p),Yi(s)),[l,a]))}}}},VariableDefinition:function(e){t[e.variable.name.value]=e}}},function(e){var t=new nl,n=new Map;return{SelectionSet:function(r){for(var i=function(e,t,n,r,i){var o=[],a=Xu(e,t,r,i),s=a[0],c=a[1];if(function(e,t,n,r,i){for(var o=0,a=Ks(i);o<a.length;o++){var s=a[o],c=s[0],u=s[1];if(u.length>1)for(var l=0;l<u.length;l++)for(var f=l+1;f<u.length;f++){var p=Zu(e,n,r,!1,c,u[l],u[f]);p&&t.push(p)}}}(e,o,t,n,s),0!==c.length)for(var u=Object.create(null),l=0;l<c.length;l++){zu(e,o,t,u,n,!1,s,c[l]);for(var f=l+1;f<c.length;f++)Ju(e,o,t,n,!1,c[l],c[f])}return o}(e,n,t,e.getParentType(),r),o=0;o<i.length;o++){var a=i[o],s=a[0],c=s[0],u=s[1],l=a[1],f=a[2];e.reportError(new us(Yu(c,u),l.concat(f)))}}}},il]),Object.freeze([function(e){var t=e.getSchema(),n=t&&(t.astNode||t.getQueryType()||t.getMutationType()||t.getSubscriptionType()),r=0;return{SchemaDefinition:function(t){n?e.reportError(new us("Cannot define a new schema within a schema extension.",t)):(r>0&&e.reportError(new us("Must provide only one schema definition.",t)),++r)}}},function(e){var t=e.getSchema(),n=Object.create(null),r=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(t){if(t.operationTypes)for(var i=0,o=t.operationTypes||[];i<o.length;i++){var a=o[i],s=a.operation,c=n[s];r[s]?e.reportError(new us(al(s),a)):c?e.reportError(new us(ol(s),[c,a])):n[s]=a}return!1}},function(e){var t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(r){var i=r.name.value;if(!n||!n.getType(i))return t[i]?e.reportError(new us(function(e){return'There can be only one type named "'.concat(e,'".')}(i),[t[i],r.name])):t[i]=r.name,!1;e.reportError(new us(function(e){return'Type "'.concat(e,'" already exists in the schema. It cannot also be defined in this type definition.')}(i),r.name))}},function(e){var t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:i,EnumTypeExtension:i};function i(t){var i=t.name.value;if(r[i]||(r[i]=Object.create(null)),t.values)for(var o=r[i],a=0,s=t.values;a<s.length;a++){var c=s[a],u=c.name.value,l=n[i];ac(l)&&l.getValue(u)?e.reportError(new us(cl(i,u),c.name)):o[u]?e.reportError(new us(sl(i,u),[o[u],c.name])):o[u]=c.name}return!1}},function(e){var t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(t){var i=t.name.value;if(r[i]||(r[i]=Object.create(null)),t.fields)for(var o=r[i],a=0,s=t.fields;a<s.length;a++){var c=s[a],u=c.name.value;fl(n[i],u)?e.reportError(new us(ll(i,u),c.name)):o[u]?e.reportError(new us(ul(i,u),[o[u],c.name])):o[u]=c.name}return!1}},function(e){var t=Object.create(null),n=e.getSchema();return{DirectiveDefinition:function(r){var i=r.name.value;if(!n||!n.getDirective(i))return t[i]?e.reportError(new us(function(e){return'There can be only one directive named "'.concat(e,'".')}(i),[t[i],r.name])):t[i]=r.name,!1;e.reportError(new us(function(e){return'Directive "'.concat(e,'" already exists in the schema. It cannot be redefined.')}(i),r.name))}}},Iu,Au,Pu,function(e){for(var t=e.getSchema(),n=Object.create(null),r=0,i=e.getDocument().definitions;r<i.length;r++){var o=i[r];bu(o)&&(n[o.name.value]=o)}return{ScalarTypeExtension:a,ObjectTypeExtension:a,InterfaceTypeExtension:a,UnionTypeExtension:a,EnumTypeExtension:a,InputObjectTypeExtension:a};function a(r){var i=r.name.value,o=n[i],a=t&&t.getType(i);if(o){var s=hl[o.kind];s!==r.kind&&e.reportError(new us(dl(i,vl(s)),[o,r]))}else if(a){var c=function(e){if(nc(e))return fs.SCALAR_TYPE_EXTENSION;if(rc(e))return fs.OBJECT_TYPE_EXTENSION;if(ic(e))return fs.INTERFACE_TYPE_EXTENSION;if(oc(e))return fs.UNION_TYPE_EXTENSION;if(ac(e))return fs.ENUM_TYPE_EXTENSION;if(sc(e))return fs.INPUT_OBJECT_TYPE_EXTENSION}(a);c!==r.kind&&e.reportError(new us(dl(i,vl(c)),r))}else{var u=Object.keys(n);t&&(u=u.concat(Object.keys(t.getTypeMap())));var l=Tu(i,u);e.reportError(new us(function(e,t){return'Cannot extend type "'.concat(e,'" because it is not defined.')+Ou(t.map((function(e){return'"'.concat(e,'"')})))}(i,l),r.name))}}},ju,Lu,il,Bu]),Object.freeze({});var yl,ml;ml=!(yl&&!1===yl.descriptions),"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ".concat(ml?"description":"","\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ").concat(ml?"description":"","\n      fields(includeDeprecated: true) {\n        name\n        ").concat(ml?"description":"","\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ").concat(ml?"description":"","\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ").concat(ml?"description":"","\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ");var bl=Object.freeze({__proto__:null,getOperationAST:function(e,t){for(var n=null,r=0,i=e.definitions;r<i.length;r++){var o=i[r];if(o.kind===fs.OPERATION_DEFINITION)if(t){if(o.name&&o.name.value===t)return o}else{if(n)return null;n=o}}return n}});Bs(Gc.concat(du),(function(e){return e.name})),Object.freeze({TYPE_REMOVED:"TYPE_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM",REQUIRED_INPUT_FIELD_ADDED:"REQUIRED_INPUT_FIELD_ADDED",INTERFACE_REMOVED_FROM_OBJECT:"INTERFACE_REMOVED_FROM_OBJECT",FIELD_REMOVED:"FIELD_REMOVED",FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",REQUIRED_ARG_ADDED:"REQUIRED_ARG_ADDED",ARG_REMOVED:"ARG_REMOVED",ARG_CHANGED_KIND:"ARG_CHANGED_KIND",DIRECTIVE_REMOVED:"DIRECTIVE_REMOVED",DIRECTIVE_ARG_REMOVED:"DIRECTIVE_ARG_REMOVED",REQUIRED_DIRECTIVE_ARG_ADDED:"REQUIRED_DIRECTIVE_ARG_ADDED",DIRECTIVE_LOCATION_REMOVED:"DIRECTIVE_LOCATION_REMOVED"}),Object.freeze({VALUE_ADDED_TO_ENUM:"VALUE_ADDED_TO_ENUM",TYPE_ADDED_TO_UNION:"TYPE_ADDED_TO_UNION",OPTIONAL_INPUT_FIELD_ADDED:"OPTIONAL_INPUT_FIELD_ADDED",OPTIONAL_ARG_ADDED:"OPTIONAL_ARG_ADDED",INTERFACE_ADDED_TO_OBJECT:"INTERFACE_ADDED_TO_OBJECT",ARG_DEFAULT_VALUE_CHANGE:"ARG_DEFAULT_VALUE_CHANGE"});function gl(){return(gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var El={i:"we",me:"us",he:"they",she:"they",them:"them",myself:"ourselves",yourself:"yourselves",itself:"themselves",herself:"themselves",himself:"themselves",themself:"themselves",is:"are",was:"were",has:"have",this:"these",that:"those",echo:"echoes",dingo:"dingoes",volcano:"volcanoes",tornado:"tornadoes",torpedo:"torpedoes",genus:"genera",viscus:"viscera",stigma:"stigmata",stoma:"stomata",dogma:"dogmata",lemma:"lemmata",schema:"schemata",anathema:"anathemata",ox:"oxen",axe:"axes",die:"dice",yes:"yeses",foot:"feet",eave:"eaves",goose:"geese",buffalo:"buffaloes",tooth:"teeth",quiz:"quizzes",human:"humans",proof:"proofs",carve:"carves",valve:"valves",looey:"looies",thief:"thieves",groove:"grooves",pickaxe:"pickaxes",whiskey:"whiskies",vita:"vitae"},Ol={adulthood:!0,advice:!0,agenda:!0,aid:!0,alcohol:!0,ammo:!0,anime:!0,athletics:!0,audio:!0,bison:!0,blood:!0,bream:!0,buffalo:!0,butter:!0,carp:!0,cash:!0,chassis:!0,chess:!0,clothing:!0,cod:!0,commerce:!0,cooperation:!0,corps:!0,debris:!0,diabetes:!0,digestion:!0,elk:!0,energy:!0,equipment:!0,excretion:!0,expertise:!0,flounder:!0,fun:!0,gallows:!0,garbage:!0,graffiti:!0,headquarters:!0,health:!0,herpes:!0,highjinks:!0,homework:!0,housework:!0,information:!0,jeans:!0,justice:!0,kudos:!0,labour:!0,literature:!0,machinery:!0,mackerel:!0,mail:!0,media:!0,mews:!0,moose:!0,music:!0,mud:!0,manga:!0,news:!0,pike:!0,plankton:!0,pliers:!0,police:!0,pollution:!0,premises:!0,rain:!0,research:!0,rice:!0,salmon:!0,scissors:!0,series:!0,sewage:!0,shambles:!0,shrimp:!0,species:!0,staff:!0,swine:!0,tennis:!0,traffic:!0,transportation:!0,trout:!0,tuna:!0,wealth:!0,welfare:!0,whiting:!0,wildebeest:!0,wildlife:!0,you:!0},Tl=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],[/thou/,"you"],[/[^aeiou]ese$/i,"$0"],[/deer/i,"$0"],[/fish$/i,"$0"],[/measles$/i,"$0"],[/o[iu]s$/i,"$0"],[/pox$/i,"$0"],[/sheep$/i,"$0"]];function _l(e,t){return e===t?t:e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function Il(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,n){return t[n]||""}))}function Nl(e,t){return e.replace(t[0],(function(n,r){var i=Il(t[1],arguments);return _l(""===n?e[r-1]:n,i)}))}var Sl=function(e){var t=e.toLowerCase();return El.hasOwnProperty(t)?_l(e,El[t]):function(e,t,n,r){var i=t;if(!e.length||r.hasOwnProperty(e))return i;var o=[].concat(n).reverse(),a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var c;if(a){if(s>=o.length)break;c=o[s++]}else{if((s=o.next()).done)break;c=s.value}var u=c;if(u[0].test(t)){i=Nl(t,u);break}}return i}(t,e,Tl,Ol)},wl=function(e){return'[GraphQLNormalizr]: No "__typename" field found on node '+JSON.stringify(e)},Dl=function(e){return function(t){return t.some((function(t){var n=t.alias,r=t.name;return(n||r).value===e}))}},Al=function(e){return{kind:"Field",alias:void 0,name:{kind:"Name",value:e},arguments:[],directives:[],selectionSet:void 0}},Rl=function(e){return void 0===e&&(e={}),Object.entries(e).reduce((function(e,t){var n,r=t[0],i=t[1];return gl({},e,((n={})[r]=Object.values(i),n))}),{})},Pl=function(e,t,n){for(var r=e,i=0;i<t.length&&null!=r;)r=r[t[i]],i+=1;return t.length===i&&void 0!==r?r:n},Cl=function(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t},kl=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()};function xl(e){return function(t){return null===t?"null"===e.toLowerCase():void 0===t?"undefined"===e.toLowerCase():e.toLowerCase()===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(t).toLowerCase()}}function jl(e){return xl("array")(e)}function Ll(e){return xl("object")(e)}function Ml(e){return"string"==typeof e?!e:xl("object")(e)?!Object.values(e).length:xl("array")(e)?!e.length:xl("Map")(e)?!e.size:!!xl("Set")(e)&&!e.size}function Fl(e){return null==e}function Ul(e){return!Fl(e)}function Vl(e){return!Ll(e)&&!Fl(e)}var Ql={lower:function(e){return e.toLowerCase()},upper:function(e){return e.toUpperCase()},kebab:function(e){return kl(e).replace(/_/g,"-")},camel:Cl,pascal:function(e){var t=Cl(e);return t.substr(0,1).toUpperCase()+t.substr(1)},snake:kl};var ql=Kl;function Kl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Kl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Kl.prototype.reset=function(){this.attempts=0},Kl.prototype.setMin=function(e){this.ms=e},Kl.prototype.setMax=function(e){this.max=e},Kl.prototype.setJitter=function(e){this.jitter=e};var Bl=Zt((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(p=1,c=new Array(f-1);p<f;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||i&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})),Gl=Zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}}));Wt(Gl);var $l=Zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!==e&&"object"==typeof e}}));Wt($l);var Hl=Zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.GRAPHQL_WS="graphql-ws";t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"}));Wt(Hl);Hl.GRAPHQL_WS,Hl.GRAPHQL_SUBSCRIPTIONS;var Yl=Zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.WS_TIMEOUT=3e4}));Wt(Yl);Yl.WS_TIMEOUT;var zl=Zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}();t.default=n}));Wt(zl);var Jl=Xt(ho),Wl=Xt(bl),Zl=Zt((function(e,t){var n=Jt&&Jt.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r=Jt&&Jt.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=Jt&&Jt.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=void 0!==Jt?Jt:"undefined"!=typeof window?window:{},a=o.WebSocket||o.MozWebSocket,s=function(){function e(e,t,n,r){var i=t||{},o=i.connectionCallback,s=void 0===o?void 0:o,c=i.connectionParams,u=void 0===c?{}:c,l=i.timeout,f=void 0===l?Yl.WS_TIMEOUT:l,p=i.reconnect,d=void 0!==p&&p,h=i.reconnectionAttempts,v=void 0===h?1/0:h,y=i.lazy,m=void 0!==y&&y,b=i.inactivityTimeout,g=void 0===b?0:b;if(this.wsImpl=n||a,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=r||Hl.GRAPHQL_WS,this.connectionCallback=s,this.url=e,this.operations={},this.nextOperationId=0,this.wsTimeout=f,this.unsentMessagesQueue=[],this.reconnect=d,this.reconnecting=!1,this.reconnectionAttempts=v,this.lazy=!!m,this.inactivityTimeout=g,this.closedByUser=!1,this.backoff=new ql({jitter:.5}),this.eventEmitter=new Bl.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(u),this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,zl.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,n,r=this.getObserver.bind(this),i=this.executeOperation.bind(this),o=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(t={})[$.default]=function(){return this},t.subscribe=function(t,a,s){var c=r(t,a,s);return n=i(e,(function(e,t){null===e&&null===t?c.complete&&c.complete():e?c.error&&c.error(e[0]):c.next&&c.next(t)})),{unsubscribe:function(){n&&(o(n),n=null)}}},t},e.prototype.on=function(e,t,n){var r=this.eventEmitter.on(e,t,n);return function(){r.off(e,t,n)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.onError=function(e,t){return this.on("error",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach((function(t){e.unsubscribe(t)}))},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise((function(n,r){var i,o,a;i=t.middlewares.slice(),o=t,(a=function(t){if(t)r(t);else if(i.length>0){var s=i.shift();s&&s.applyMiddleware.apply(o,[e,a])}else n(e)})()}))},e.prototype.use=function(e){var t=this;return e.map((function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)})),this},e.prototype.getConnectionParams=function(e){return function(){return new Promise((function(t,n){if("function"==typeof e)try{return t(e.call(null))}catch(e){return n(e)}t(e)}))}},e.prototype.executeOperation=function(e,t){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:e,handler:t},this.applyMiddlewares(e).then((function(e){n.checkOperationOptions(e,t),n.operations[r]&&(n.operations[r]={options:e,handler:t},n.sendMessage(r,zl.default.GQL_START,e))})).catch((function(e){n.unsubscribe(r),t(n.formatErrors(e))})),r},e.prototype.getObserver=function(e,t,n){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return n&&n()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){var e=this.wsTimeout;return new ql({min:1e3,max:e,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},e.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout((function(){0===Object.keys(e.operations).length&&e.close()}),this.inactivityTimeout))},e.prototype.checkOperationOptions=function(e,t){var n=e.query,r=e.variables,i=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!Gl.default(n)&&!Wl.getOperationAST(n,i)||i&&!Gl.default(i)||r&&!$l.default(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,r){return{id:e,type:t,payload:r&&r.query?n({},r,{query:"string"==typeof r.query?r.query:Jl.print(r.query)}):r}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach((function(t){e.unsentMessagesQueue.push(e.buildMessage(t,zl.default.GQL_START,e.operations[t].options))})),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout((function(){e.connect()}),t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach((function(t){e.sendMessageRaw(t)})),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout((function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))}),this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e=this;this.client=new this.wsImpl(this.url,this.wsProtocols),this.checkMaxConnectTimeout(),this.client.onopen=function(){return r(e,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return e=n.sent(),this.sendMessage(void 0,zl.default.GQL_CONNECTION_INIT,e),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=n.sent(),this.sendMessage(void 0,zl.default.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}}))}))},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(t){e.eventEmitter.emit("error",t)},this.client.onmessage=function(t){var n=t.data;e.processReceivedData(n)}},e.prototype.processReceivedData=function(e){var t,r;try{r=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[zl.default.GQL_DATA,zl.default.GQL_COMPLETE,zl.default.GQL_ERROR].indexOf(t.type)||this.operations[r])switch(t.type){case zl.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case zl.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case zl.default.GQL_COMPLETE:this.operations[r].handler(null,null),delete this.operations[r];break;case zl.default.GQL_ERROR:this.operations[r].handler(this.formatErrors(t.payload),null),delete this.operations[r];break;case zl.default.GQL_DATA:var i=t.payload.errors?n({},t.payload,{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[r].handler(null,i);break;case zl.default.GQL_CONNECTION_KEEP_ALIVE:var o=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,o&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(r)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,zl.default.GQL_STOP,void 0))},e}();t.SubscriptionClient=s}));Wt(Zl);var Xl=Zl.SubscriptionClient,ef=function(e){function t(t){var n=e.call(this)||this;return n.subscriptionClient=t instanceof Xl?t:new Xl(t.uri,t.options,t.webSocketImpl),n}return Ur(t,e),t.prototype.request=function(e){return this.subscriptionClient.request(e)},t}(Ei);const tf=new bo({uri:"http://localhost:3000/"}),nf=Xa(({query:e})=>{const t=vi(e);return"OperationDefinition"===t.kind&&"subscription"===t.operation},new ef({uri:"ws://localhost:5000/",options:{reconnect:!0}}),tf),rf=e=>{const{user:t}=e;return!(!t||!t.authKey)||(console.error("SDK listPlans error: No userKey!"),!1)},of=(e=>new Go({link:nf,cache:new Za}))(),{normalize:af}=new function(e){var t=void 0===e?{}:e,n=t.idKey,r=void 0===n?"id":n,i=t.typeMap,o=void 0===i?{}:i,a=t.caching,s=void 0!==a&&a,c=t.lists,u=void 0!==c&&c,l=t.typenames,f=void 0!==l&&l,p=t.plural,d=void 0===p||p,h=t.casing,v=void 0===h?"camel":h,y=t.useConnections,m=void 0!==y&&y,b=t.typePointers,g=void 0!==b&&b,E=t.exclude,O=void 0===E?{}:E,T=Dl(r),_=Dl("__typename"),I=Dl("edges"),N=Al(r),S=Al("__typename"),w=new Map;function D(e,t){return o[e]||t[e]||function(e){var t=e;return t=d?Sl(t):t,t=Ql[v](t)}(e)}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={};return g?function(e){var n,o=Pl(e,t,{}),a=o.__typename,s=o[r];return i[a]=D(a,i),(n={collection:D(a,i)})[r]=s,n}:function(e){return Pl(e,t,{})[r]}}function R(e){var t=gl({},e);return!f&&delete t.__typename,Object.entries(t).reduce((function(e,t){var n,i,o,a,s,c=t[0],u=t[1];return gl({},e,((n={})[c]=Ll(u)?m&&u.hasOwnProperty("edges")?u.edges.map(A("node")).filter(Ul):(a=(o=r,function(e){return o.split(".").reduce((function(e,t){try{return void 0!==e[t]?e[t]:void 0}catch(e){return}}),e)})(u),u.__typename,s=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(u,["__typename"]),null==a?f?u:s:a):jl(u)&&!u.every(Vl)?(i=A(),function(e){return e.map(i)})(u):u,n))}),{})}function P(e,t,n){if(Fl(e))throw new Error(wl(t));var i=t[r];if(!Fl(i)){var o=n[e];n[e]=o||{};var a=n[e][i]||{};n[e][i]=gl({},a,{},t)}}var C=function(e){return e.kind===fs.INLINE_FRAGMENT},k=["edges","pageInfo"],x=m?function(e,t,n,r){return e.selections.some(C)||I(e.selections)||!C(n)&&k.includes(n.name.value)}:function(){return!1};function j(e){return Zi(e,{SelectionSet:function(e,t,n,r){if(n.kind!==fs.OPERATION_DEFINITION&&!x(e,t,n,r))return!T(e.selections)&&e.selections.unshift(N),!_(e.selections)&&e.selections.unshift(S),e}})}return{normalize:function(e){var t=e.data,n={},r={},i={},o={};try{var a;if(s&&(a=w.get(JSON.stringify(t))),a)return a}catch(e){}!function e(t,a){void 0===a&&(a=""),t&&Object.prototype.hasOwnProperty.call(t,"pageInfo");for(var s=0,c=Object.entries(t);s<c.length;s++){var u=c[s],l=u[0],f=u[1];if(m&&!Fl(f)&&f.hasOwnProperty("edges"))e(f.edges,(a?a+".":"")+l+".edges");else if((Ll(f)||jl(f))&&Ml(f))n[a]={done:!0};else if(Ll(f)||jl(f)&&!f.every(Vl))if(O[i.entity]&&O[i.entity].includes(l))n[a]={done:!0};else{var p=f.__typename;p&&(r[p]=D(p,r)),i.value=f,i.entity=r[p],e(f,(a?a+".":"")+l)}else!n[a]&&Ul(f)&&(P(i.entity,R(i.value),o),n[a]={done:!0})}}(t);try{s&&w.set(JSON.stringify(t),o)}catch(e){}return o=u?Rl(o):o},addRequiredFields:j,parse:function(e){return j(Is(e,{noLocation:!0}))}}}({idKey:"uid",exclude:{t_plan_document_node:["data"]},typeMap:{t_plan:"plans",t_plan_document:"documents",t_plan_document_nodes:"nodes"}}),sf=Ms`
  query ListPlans {
    t_plan {
      uid
      name
      created_at
      changed_at
    }
  }
`,cf=(Ms`
  subscription SubsPlans {
     t_plan {
      uid
      name
      created_at
      changed_at
    }
  }
`,Ms`
  query ListPlansDocumentAndNodes {
    t_plan {
      uid
      name
      created_at
      changed_at
      documents {
        uid
        plan_id
        changed_at
        created_at
        device_types
        scene_types
        template_types
        room_types
        rule_types
        nodes {
          uid
          data
          parent_id
          child {
            uid
            parent_id
          }
        }
      }
    }
  }
`,Ms`
  mutation InsertPlanWithDocumentNode($object: t_plan_insert_input!) {
    insert_t_plan_one(object: $object) {
      changed_at
      created_at
      uid
      documents {
        uid
        changed_at
        created_at
        nodes {
          changed_at
          created_at
          data
        }
      }
    }
  }
`,Ms`
  mutation UpdatePlan($uid: String, $changes: t_plan_set_input) {
    update_t_plan(where: {uid: {_eq: $uid}}, _set: $changes) {
      affected_rows
      returning {
        uid
        name
        created_at
        changed_at
      }
    }
  }
`),uf=Ms`
  query ListDocuments($plan_id: String) {
    t_plan_document(where: {plan_id: {_eq: $plan_id}}) {
      uid
      created_at
      changed_at
      plan_id
    }
  }
`;const lf=we("plans/fetchPlans",async(e,t)=>{if(rf(t.getState()))return await async function(){return new Promise((e,t)=>{of.query({query:sf}).then(t=>{const n=af(t);console.debug("SDK fetchPlans ok",n),e(n.plans)}).catch(e=>{console.error("SDK fetchPlans error:",e),t(e)})})}()});const ff=we("plans/modifyPlan",async(e,t)=>{if(rf(t.getState())){const{uid:t,name:n}=e;return await async function(e,t){return new Promise((n,r)=>{of.mutate({variables:{uid:e,changes:{name:t}},mutation:cf}).then(e=>{const t=af(e);console.debug("SDK setPlanName ok",t),n(t.plans)}).catch(e=>{console.error("SDK setPlanName error:",e),r(e)})})}(t,n)}}),pf=Oe({selectId:e=>e.uid,sortComparer:(e,t)=>e.name.localeCompare(t.name)}),df=ye({name:"plans",initialState:pf.getInitialState(),reducers:{setPlansState(e,t){const n=e,r=t.payload;n.plansState;pf.setAll(e,r)}},extraReducers:{[lf.fulfilled]:(e,t)=>{pf.upsertMany(e,t.payload)},[lf.rejected]:(e,t)=>{console.error("SDK reactFetchPlans rejected")},[ff.fulfilled]:(e,t)=>{pf.updateOne(e,t.payload)},[ff.rejected]:(e,t)=>{console.error("SDK reactFetchPlans rejected")}}});df.selectors=pf.getSelectors(e=>e.plans),df.selectors.getPlans=df.selectors.selectEntities;const{actions:hf,reducer:vf}=df,{selectById:yf,selectIds:mf,selectEntities:bf,selectAll:gf,selectTotal:Ef}=pf.getSelectors(e=>e.plans);const Of=we("document/fetchPlanDocuments",async(e,t)=>{if(rf(t.getState()))return await async function(e){return new Promise((t,n)=>{of.query({variables:{plan_id:e},query:uf}).then(e=>{const n=af(e);console.debug("SDK fetchPlanDocuments ok",n),t(n.documents)}).catch(e=>{console.error("SDK fetchPlanDocuments error:",e),n(e)})})}(e)}),Tf=Oe({selectId:e=>e.uid,sortComparer:(e,t)=>e.plan_id.localeCompare(t.plan_id)}),_f=ye({name:"documents",initialState:Tf.getInitialState(),reducers:{setPlanDocumentsState(e,t){const n=e,r=t.payload;Tf.setAll(n,r)}},extraReducers:{[Of.fulfilled]:(e,t)=>{Tf.upsertMany(e,t.payload)},[Of.rejected]:(e,t)=>{console.error("SDK fetchPlanDocuments rejected")}}});_f.selectors=Tf.getSelectors(e=>e.documents),_f.selectors.selectPlanDocuments=ae([e=>e.documents,(e,t)=>t],(e,t)=>{const n=e.ids.filter(n=>e.entities[n].plan_id===t),r=[];return n.forEach(t=>{r.push(e.entities[t])}),r});const{selectById:If,selectIds:Nf,selectEntities:Sf,selectAll:wf,selectTotal:Df}=Tf.getSelectors(e=>e.documents),Af=_f.selectors.selectPlanDocuments,{actions:Rf,reducer:Pf}=_f,Cf={alarms:Fe,connections:at,pairings:mt,devices:Dt,hubs:Vt,user:Ir,rooms:jr,plans:vf,documents:Pf};
/*!
   * isobject <https://github.com/jonschlinkert/isobject>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
var kf=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},xf=function(e,t,n){if(kf(n)||(n={default:n}),!Mf(e))return void 0!==n.default?n.default:e;"number"==typeof t&&(t=String(t));const r=Array.isArray(t),i="string"==typeof t,o=n.separator||".",a=n.joinChar||("string"==typeof o?o:".");if(!i&&!r)return e;if(i&&t in e)return Lf(t,e,n)?e[t]:n.default;let s=r?t:function(e,t,n){if("function"==typeof n.split)return n.split(e);return e.split(t)}(t,o,n),c=s.length,u=0;do{let t=s[u];for("number"==typeof t&&(t=String(t));t&&"\\"===t.slice(-1);)t=jf([t.slice(0,-1),s[++u]||""],a,n);if(t in e){if(!Lf(t,e,n))return n.default;e=e[t]}else{let r=!1,i=u+1;for(;i<c;)if(r=(t=jf([t,s[i++]],a,n))in e){if(!Lf(t,e,n))return n.default;e=e[t],u=i-1;break}if(!r)return n.default}}while(++u<c&&Mf(e));return u===c?e:n.default};
/*!
   * get-value <https://github.com/jonschlinkert/get-value>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   */function jf(e,t,n){return"function"==typeof n.join?n.join(e):e[0]+t+e[1]}function Lf(e,t,n){return"function"!=typeof n.isValid||n.isValid(e,t)}function Mf(e){return kf(e)||Array.isArray(e)||"function"==typeof e}console.log("Store rootReducer: ",Cf);const Ff=function(e){var t,n=e||{},r=n.reducer,i=void 0===r?void 0:r,o=n.middleware,a=void 0===o?function(e){void 0===e&&(e={});var t=e,n=t.thunk,r=void 0===n||n,i=(t.immutableCheck,t.serializableCheck,[]);return r&&(!function(e){return"boolean"==typeof e}(r)?i.push(ce.withExtraArgument(r.extraArgument)):i.push(ce)),i}():o,s=n.devTools,c=void 0===s||s,u=n.preloadedState,l=void 0===u?void 0:u,f=n.enhancers,p=void 0===f?void 0:f;if("function"==typeof i)t=i;else{if(!fe(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=W(i)}var d=ne.apply(void 0,a),h=te;c&&(h=le(ue({trace:!pe},"object"==typeof c&&c)));var v=[d];return Array.isArray(p)?v=[d].concat(p):"function"==typeof p&&(v=p(v)),z(t,l,h.apply(void 0,v))}({reducer:Cf});function Uf(e,t,n){const r=n||Ff,i=function(e,t){let n=xf(e(),t);return function(r){return()=>{const i=xf(e(),t);if(n!==i){const e=n;n=i,r(i,e)}}}}(r.getState,e);r.subscribe(i(t))}console.log("Store Initial State: ",Ff.getState());const Vf=Object.freeze({UNCLAIMED:"unclaimed",CLAIMED:"claimed",TOO_NEW_VERSION:"new version",NO_ACCESS:"no access",CONNECTED:"connected"}),Qf=Object.freeze({NOT_PAIRING:"NOT_PAIRING",IDLE:"IDLE",RUNNING:"RUNNING",TIMEOUT:"TIMEOUT",SUCCESS:"SUCCESS",CANCEL:"CANCEL",NO_ZWAVE:"NO_ZWAVE",ERROR:"ERROR"}),qf=Object.freeze({IDLE:"IDLE",RUNNING:"RUNNING",TIMEOUT:"TIMEOUT",SUCCESS:"SUCCESS",CANCEL:"CANCEL",NO_ZWAVE:"NO_ZWAVE",ERROR:"ERROR"}),Kf=45e3,Bf=1e3,Gf=3e3,$f=3e3,Hf=3e3,Yf="http://",zf="8893";function Jf(e){Ff.dispatch(Ze.actions.setCloudConnectionState(e))}function Wf(e){const t=Ff.getState(),n=Ct.selectors.getHubs(t),r=e;r.state===We.UNCONNECTED&&n[r.hubId]&&n[r.hubId].connectionState===We.REMOTE&&(r.state=We.LOCAL),Ff.dispatch(Ct.actions.setHubConnectionState(r))}var Zf="[object String]";var Xf=function(e){return"string"==typeof e||!nr(e)&&zn(e)&&vn(e)==Zf},ep=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE","EHOSTUNREACH","EAI_AGAIN"],tp=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"],np=function(e){return!e||!e.code||(-1!==ep.indexOf(e.code)||-1===tp.indexOf(e.code))},rp=Zt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNetworkError=o,t.isRetryableError=c,t.isSafeRequestError=u,t.isIdempotentRequestError=l,t.isNetworkOrIdempotentRequestError=f,t.exponentialDelay=d,t.default=v;var n,r=(n=np)&&n.__esModule?n:{default:n};var i="axios-retry";function o(e){return!e.response&&Boolean(e.code)&&"ECONNABORTED"!==e.code&&(0,r.default)(e)}var a=["get","head","options"],s=a.concat(["put","delete"]);function c(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function u(e){return!!e.config&&(c(e)&&-1!==a.indexOf(e.config.method))}function l(e){return!!e.config&&(c(e)&&-1!==s.indexOf(e.config.method))}function f(e){return o(e)||l(e)}function p(){return 0}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e);return t+.2*t*Math.random()}function h(e){var t=e[i]||{};return t.retryCount=t.retryCount||0,e[i]=t,t}function v(e,t){e.interceptors.request.use((function(e){return h(e).lastRequestTime=Date.now(),e})),e.interceptors.response.use(null,(function(n){var r=n.config;if(!r)return Promise.reject(n);var o=function(e,t){return Object.assign({},t,e[i])}(r,t),a=o.retries,s=void 0===a?3:a,c=o.retryCondition,u=void 0===c?f:c,l=o.retryDelay,d=void 0===l?p:l,v=o.shouldResetTimeout,y=void 0!==v&&v,m=h(r);if(u(n)&&m.retryCount<s){m.retryCount+=1;var b=d(m.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!y&&r.timeout&&m.lastRequestTime){var g=Date.now()-m.lastRequestTime;r.timeout=Math.max(r.timeout-g-b,1)}return r.transformRequest=[function(e){return e}],new Promise((function(t){return setTimeout((function(){return t(e(r))}),b)}))}return Promise.reject(n)}))}v.isNetworkError=o,v.isSafeRequestError=u,v.isIdempotentRequestError=l,v.isNetworkOrIdempotentRequestError=f,v.exponentialDelay=d,v.isRetryableError=c}));Wt(rp);rp.isNetworkError,rp.isRetryableError,rp.isSafeRequestError,rp.isIdempotentRequestError,rp.isNetworkOrIdempotentRequestError,rp.exponentialDelay;var ip=rp.default;const op=36e5;function ap(e,t){let n="0.0";const r=e.indexOf(".");let i=-1;return-1!==r&&(i=e.indexOf(".",r+1)),-1!==i&&(n=e.substring(0,i)),function(e,t){const n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);if(i>0)for(let e=0;e<i-1;e+=1){const t=Number(n[e])-Number(r[e]);if(0!==t)return t}return n.length-r.length}(n,t)>0&&(n=t),n}function sp(e){let t=Je.UNCONNECTED;return e&&e.response&&401===e.response.status?(t=Je.UNAUTHENTICATED,console.error("send: authentication error ",e)):e&&e.response&&403===e.response.status?(t=Je.LATE_PAYMENT,console.error("send: unauhorized error ",e)):e&&e.response&&403===e.response.status?(t=Je.UNAUTHORIZED,console.error("send: unauhorized error ",e)):e&&e.response&&410===e.response.status&&(t=Je.OBSOLETE_API_VERSION,console.error("send: version error ",e)),t}function cp(e){let t=We.UNCONNECTED;return e&&e.response&&400===e.response.status?console.log("send: no-connection error ",e):e&&e.response&&401===e.response.status?(t=We.UNAUTHENTICATED,console.error("send: authentication error ",e)):e&&e.response&&403===e.response.status?(t=We.UNAUTHORIZED,console.error("send: unauhorized error ",e)):e&&e.response&&410===e.response.status&&(t=We.OBSOLETE_API_VERSION,console.error("send: version error ",e)),t}let up=!1,lp=null;function fp(e){return new Promise(t=>{if(!e)return void t(!0);const n=(new Date).getTime();up||lp&&!(n-lp>op)?t(!0):(up=!0,lp=n,!Ve&&window&&window.plugins&&window.plugins.sslCertificateChecker?window.plugins.sslCertificateChecker.check(()=>{up=!1,t(!0)},e=>{"CONNECTION_NOT_SECURE"===e?(up=!1,t(!1)):(up=!1,lp=void 0,t(!0))},$e,Ke):(setTimeout(()=>{up=!1},op),t(!0)))})}const pp=["get","head","options"].concat(["put","delete"]),dp=pp.concat(["post"]);function hp(e){return!!e.config&&(function(e){return!e.response||e.response.status>=500&&e.response.status<=599}(e)&&-1!==dp.indexOf(e.config.method))}const vp={},yp=2;let mp=!1;function bp(e){let t=null,n={},r={},i=null;if(e){const t=e.split(".");n=JSON.parse(qe(t[0])),r=JSON.parse(qe(t[1]))}var o;(n&&n.exp||null!=r&&r.exp)&&(t=n.exp?n.exp:r.exp),t&&(i=t-Math.round((new Date).getTime()/1e3)),!i||i<0?Jf(Je.UNAUTHENTICATED):i&&i<432e3&&(o=e,mp||(mp=!0,Op({command:ze.REFRESH_AUTHKEY,authKey:o}).then(e=>{setTimeout(()=>{mp=!1},6e5),e.length>10&&Ff.dispatch(Or.actions.setAuthKey(e))}).catch(()=>{mp=!1})))}function gp(e){return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(()=>{t()})})}ip(t,{retryCondition:function(e){if(!(e&&e.config&&e.config.url))return console.error("retryCondition unknown",e),!1;if(vp[e.config.url]){if(vp[e.config.url]>=yp)return vp[e.config.url]=0,console.error("retryCondition count >",yp),!1;vp[e.config.url]+=vp[e.config.url],console.info("retryCondition count set ",vp[e.config.url])}else vp[e.config.url]=1,console.info("retryCondition count set to 1");hp(e)&&-1!==pp.indexOf(e.config.method)?console.info("retryCondition condition true",e.config):(console.info("retryCondition condition false",e.config),vp[e.config.url]=0);const t=hp(e)&&-1!==pp.indexOf(e.config.method);return console.info("retryCondition return ",t),t},shouldResetTimeout:!0,retryDelay:(e,t)=>(console.error("axiosRetry ",t),5e3)});let Ep=!1;function Op({command:e,localUrl:n,url:r,timeout:i,method:o,authKey:a,hubKey:s,type:c,config:u,data:l,hubId:f}){let p=o,d=r,h=i,v=a,y=s,m=u,b=c;null==p&&(p="GET"),null==b&&(b="application/json;charset=UTF-8");const g=l;let E=!1;const O=!mr(f),T=Ff.getState(),_=Or.selectors.getUser(T);if(void 0!==e&&e){if(e.method&&(p=e.method),mr(d)&&e.url)if(-1!==e.url.indexOf("$API_VER")){const t=Ct.selectors.getHubs(T);if(!t[f]||!t[f].hubKey)return new Promise((e,t)=>{t(new Error("SDK Error: Send - Hub or hubKey not found error"))});const n=t[f];if(!n.version||n.connectionState===We.UNCONNECTED&&-1===e.url.indexOf("hub/remote/hub"))return new Promise((e,t)=>{t(new Error("SDK Error: Send - No Hub connection error"))});const r=ap(n.version,Ye);d=He().concat(e.url.replace("$API_VER",r))}else d=He().concat(e.url);if(d){const e=d.split("hub/remote");e&&e[1]&&n&&(d=n+e[1],y&&(v=y,y=null))}if(d&&d.indexOf(He())>-1&&(E=!0),e.type&&g&&(nr(g)?g[0]?g[0].type=e.type:g.push({type:e.type}):g&&(g.type=e.type)),e.params&&(e.params.includes("type")||e.params.push("type"),e.params.forEach(e=>{nr(l)?g&&g[0]&&l&&l[0]&&(g[0][e]=l[0][e]):g&&l&&(g[e]=l[e])})),e.urlParams){const t=[];e.urlParams.forEach(e=>{l&&void 0!==l[e]&&t.push(`${encodeURIComponent(e)}=${encodeURIComponent(l[e])}`)}),d&&t.length>0&&(d=`${d}?${t.join("&")}`)}e.timeout&&(h=e.timeout),e.config&&(m=e.config)}const I=JSON.stringify(g),N={timeout:h||15e3,method:p,headers:{Accept:"application/json, application/binary, text/plain, */*","Content-Type":b,Authorization:v||null,"X-Hub-Key":y||null,"Accept-Language":null},crossDomain:!0,responseType:"application/json",url:d,data:mr(I)?null:I};return _.language&&_.language!==br.NONE?N.headers["Accept-Language"]=_.language:delete N.headers["Accept-Language"],Object.assign(N,m),new Promise((n,r)=>{e||d?(t.interceptors.response.use(e=>e.headers["content-type"].includes("application/json")||e.headers["content-type"].includes("application/binary")?(function(e){vp[e]&&(console.warn("resetRetry to 0"),vp[e]=0,delete vp[e])}(d),e):(console.error("send: unknown response type"),e),e=>Promise.reject(e)),fp(E).then(i=>{!i||Ep?(Ep=!0,r(new Error("SDK Error: SSL failure."))):(v&&bp(v),t(N).then(e=>{E?Jf(Je.CONNECTED):f&&Wf({hubId:f,state:We.LOCAL}),n(e.data)}).catch(t=>{let n="SDK Send error:";t&&t.response?(t.response.data&&t.response.data.message&&(n=n.concat(t.response.data.message)),t.response.status&&(n=n.concat(`Status: ${t.response.status}`)),E?(e!==ze.CLOUD_META&&Jf(sp(t)),O&&f&&Wf({hubId:f,state:cp(t)})):(t&&t.response&&401===t.response.status&&Jf(sp(t)),O&&f&&Wf({hubId:f,state:cp(t)}))):t.request?E?(Jf(Je.UNCONNECTED),O&&f&&Wf({hubId:f,state:We.UNCONNECTED}),n=n.concat(`Cloud unconnected in remote. Status ${t.request.status}`)):O&&f&&(Wf({hubId:f,state:We.UNCONNECTED}),n=n.concat(`Hub unconnected. Status ${t.request.status}`)):E?(Jf(Je.UNCONNECTED),n=n.concat("Cloud unconnected in remote"),O&&f&&(Wf({hubId:f,state:We.UNCONNECTED}),n=n.concat("Hub unconnected in remote"))):O&&f&&(Wf({hubId:f,state:We.UNCONNECTED}),n=n.concat("Hub unconnected")),console.error(n),r(t)}))})):r(new Error("SDK Error: Command or Command API URL not found."))})}function Tp(){return Or.selectors.getUser(Ff.getState())}function _p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_p(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Np(){const e=Ff.getState();return Et.selectors.getDevices(e)}function Sp(){const e=Ff.getState();return ut.selectors.getPairings(e)}function wp(e,t,n){let r={};const i=Sp();i&&i[e]&&(r=i[e]);const o={hubId:e,devices:{}};n.map(e=>{const t=Ip({},e.status);return delete e.status,e=Ip({},e,{},t),o.devices[e.id]=e,!0}),t?Ff.dispatch(ut.actions.setPairingDevices(o)):Object.entries(o.devices).forEach(([t,n])=>{const i={hubId:e,device:n};t&&n?Ff.dispatch(ut.actions.setPairingDevice(i)):t&&r[t]&&Ff.dispatch(ut.actions.deletePairingDevice(t))})}function Dp(){const e=Ff.getState();return wr.selectors.getRooms(e)}function Ap(e,t,n){return new Promise((r,i)=>{const o=Ff.getState(),a=Or.selectors.getUser(o);if(!a||!a.authKey)return console.error("SDK sendRoomCmd error: No userKey!"),void i(new Error("Room command error: No userKey!"));const s=Ct.selectors.getHubs(o),c=s[e],{hubKey:u}=s[e];if(!c||!u)return console.error("SDK sendRoomCmd error: No hubKey!"),void i(new Error("Room command error: No hubKey!"));if(c.connectionState!==We.LOCAL&&c.connectionState!==We.REMOTE)return console.error("SDK sendRoomCmd error: No Hub connection"),void i(new Error("Room command error: No hub connection"));const{authKey:l}=a;if(!l)return console.error("SDK sendRoomCmd error: No authKey!"),void i(new Error("Room command error: No authKey!"));t&&Op({command:t,authKey:l,hubId:e,localUrl:c.url,hubKey:u,data:n}).then(t=>{console.debug("SDK sendRoomCmd ok",t),Op({command:ze.CMD_GET_ROOMS,authKey:l,hubId:e,localUrl:c.url,hubKey:u}).then(t=>{console.debug("SDK sendRoomCmd refresh rooms ok",t),Ff.dispatch(wr.actions.setRooms({hubId:e,rooms:t})),r(t)}).catch(e=>{console.error("SDK Room command error:",e),i(e)})}).catch(e=>{console.error("SDK Room command error:",e),i(e)})})}const Rp=e=>{const t=e;return e.message&&(t.messageHTML=function(e){try{return decodeURIComponent(Array.prototype.map.call(Qe(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).name(-2)})).join(""))}catch(e){return console.error("b64DecodeUnicode: trying atob failed"),"b64DecodeUnicode error"}}(e.message),t.messageTxt=function(e){let t=e;return(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/<\/div>/gi,"")).replace(/<\/li>/gi,"")).replace(/<li>/gi,"")).replace(/<\/ul>/gi,"")).replace(/<\/p>/gi,"")).replace(/<br\s*[\/]?>/gi,"")).replace(/<[^>]+>/gi,"")).replace(/\s\s+/g," ")).trim()}(t.message)),t};function Pp(){const e=Ff.getState();return Re.selectors.getAlarms(e)}function Cp(e,t,n){return new Promise((r,i)=>{const o=Ff.getState(),a=Or.selectors.getUser(o);if(!a||!a.authKey)return console.error("SDK closeAlarm error: No userKey!"),void i(new Error("Alarm command error: No userKey!"));const s=Ct.selectors.getHubs(o),c=s[e],{hubKey:u}=s[e];if(!c||!u)return console.error("SDK closeAlarm error: No hubKey!"),void i(new Error("Alarm command error: No hubKey!"));if(c.connectionState!==We.LOCAL&&c.connectionState!==We.REMOTE)return console.error("SDK closeAlarm error: No Hub connection"),void i(new Error("Alarm command error: No hub connection"));const{authKey:l}=a;if(!l)return console.error("SDK closeAlarm error: No authKey!"),void i(new Error("Alarm command error: No authKey!"));Op({command:t,authKey:l,hubId:e,localUrl:c.url,hubKey:u,data:n}).then(t=>{console.debug("SDK sendAlarmCmd ok",t),Op({command:ze.CMD_GET_ALARMS,authKey:l,hubId:e,localUrl:c.url,hubKey:u}).then(t=>{console.debug("SDK sendAlarmCmd refresh alarms ok",t),Ff.dispatch(Re.actions.setRooms({hubId:e,alarms:t})),r(t)}).catch(e=>{console.error("SDK Alarm command error:",e),i(e)})}).catch(e=>{i(e)})})}let kp,xp={};function jp(e,t){const n=t;n.hubId&&(n.id=n.hubId,delete n.hubId),n.id&&(xp[n.id]||(xp[n.id]={id:n.id,name:n.name||""}),xp[n.id].connected=n.connected,xp[n.id].features=n.features,xp[n.id].state=n.state,xp[n.id].version=n.version,xp[n.id].connectionState=n.connected?We.REMOTE:We.UNCONNECTED,e?(xp[n.id].connectionState=We.LOCAL,xp[n.id].url=e):xp[n.id].url=void 0)}function Lp(e,t,n){return new Promise((r,i)=>{Op({command:ze.CLOUD_META,authKey:t,hubKey:n,hubId:e}).then(e=>{jp(void 0,e),r(e)}).catch(t=>{console.log(`doRemoteIdQuery ${e} error `,t.message),i(e)})})}function Mp(){return Ct.selectors.getHubs(Ff.getState())}function Fp(){return new Promise(e=>{Op({command:ze.CLOUD_IP}).then(t=>{const n=[];t&&!mr(t)&&t.forEach(e=>{n.push(function(e){return new Promise(t=>{if(e){const n=`${Yf+e}:${zf}`;Op({url:`${n}/hub`,timeout:500}).then(r=>{jp(n,r),t(e)}).catch(n=>{console.log(`doLocalIdQuery ${e} error `,n.message),t(e)})}else t()})}(e))}),gp(n).finally(()=>{!function(e){const t=Mp();Object.values(t).forEach(t=>{if(t.selected){const n=e[t.id];n&&(n.selected=!0)}})}(xp),Ff.dispatch(Ct.actions.updateHubs(xp)),e("ok")})}).catch(t=>{console.error("doCloudDiscovery error: ",t.message),Ff.dispatch(Ct.actions.updateHubs(xp)),e("error")})})}function Up(){return Or.selectors.getUser(Ff.getState())}function Vp(e,t=!0,n=!1){const{authKey:r}=Up();return new Promise(i=>{xp=function(e){const t={};return e&&Object.keys(e).forEach(n=>{const r=qe(e[n].split(".")[1]),i=JSON.parse(r),o={};o.id=i.hubId||i.hub_id,o.name=i.hubName||i.hub_name,o.hubKey=e[n],o.connectionState=We.UNCONNECTED,i.role&&(o.role=i.role,o.roleString="",Object.keys(Er).forEach(e=>{Er[e]===o.role&&(o.roleString=e)})),t[o.id]=o}),t}(e),Ff.dispatch(Ct.actions.updateHubs(xp)),function(e,t){return new Promise(n=>{const r=[];Object.values(e).forEach(e=>{e.hubKey&&r.push(Lp(e.id,t,e.hubKey))}),gp(r).then(e=>{console.debug("fetchCloudMetaData values",e)}).catch(e=>{console.error("fetchCloudMetaData error",e)}).finally(()=>{n()})})}(xp,r).finally(()=>{Ff.dispatch(Ct.actions.updateHubs(xp)),n?t?Fp().then(()=>{i(Mp())}).catch(()=>{i(Mp())}):i(Mp()):(t&&Fp(),i(Mp()))})})}function Qp(){const{authKey:e}=Up();return new Promise((t,n)=>{e?Op({command:ze.HUB_KEYS,authKey:e}).then(e=>{e?Vp(e).then(e=>t(e)):t(Mp())}).catch(e=>{console.error("fetchHubTokens error: ",e.message),n(e)}):n(new Error("No userKey!"))})}function qp(){kp||(Qp(),kp=setInterval(Qp,Kf))}const Kp={},Bp={},Gp={},$p={};function Hp(e,t=!1){return new Promise((n,r)=>{let i=t;if(Bp[e])return console.debug("doPairing: pairing stopped"),void r(new Error("pairing stopped"));Gp[e]||(Gp[e]=0);const o=Mp()[e],{authKey:a}=Up(),{hubKey:s}=o;if(console.debug("doPairing connection state: ",o.connectionState),o.connectionState!==We.LOCAL&&o.connectionState!==We.REMOTE)return console.warn("SDK doPairing: no Hub connection"),void r(new Error("no hub connection"));$p[e]?r(new Error("pairing already in action")):($p[e]=!0,i&&(Gp[e]=0),i=0===Gp[e],Op({command:ze.PAIR_START,hubId:e,authKey:a,hubKey:s,localUrl:o.url,data:{ts:Gp[e]}}).then(t=>{if(t)switch(Gp[e]=t.timestamp,t.type){case"SCAN_DELTA":wp(e,i,t.devices)}$p[e]=!1,n("ok")}).catch(t=>{console.error("SDK: doPairing error: ",t.message),$p[e]=!1,r(t)}))})}const Yp={};function zp(e){return new Promise((t,n)=>{if(Yp[e])return void n(new Error("already stopping"));Yp[e]=!0;const{authKey:r}=Up(),i=Mp()[e],{hubKey:o}=i;clearInterval(Kp[e]),Op({command:ze.PAIR_STOP,hubId:e,authKey:r,hubKey:o,localUrl:i.url}).then(n=>{console.debug("SDK: pairingStopped: Ok , data: ",n),Bp[e]=!0,Yp[e]=!1,wp(e,!0,[]),t("ok")}).catch(t=>{console.error("SDK: pairingStopped error: ",t.message),Yp[e]=!1,n(t)})})}const Jp={},Wp={},Zp={},Xp={},ed={};function td(e,t=!1){return new Promise((n,r)=>{let i=t;if(i&&(Zp[e]=0),i=0===Zp[e],Wp[e])return console.debug("doPolling: polling stopped"),void n("stopped");Zp[e]||(Zp[e]=0);const o=Mp()[e];if(!o||o.connectionState!==We.LOCAL&&o.connectionState!==We.REMOTE)return console.warn("SDK doPoll: No Hub connection"),void r(new Error("doPoll error: No Hub connection"));if(console.debug("doPoll connection state: ",o.connectionState),o.connectionState===We.REMOTE&&!i){if(ed[e])return ed[e]=!1,void n("skipped");ed[e]=!0}const{authKey:a}=Up(),{hubKey:s}=o;Xp[e]?r(new Error("doPoll error: Already polling")):(Xp[e]=!0,Op({command:ze.POLL,hubId:e,authKey:a,hubKey:s,localUrl:o.url,data:{ts:Zp[e]}}).then(t=>{t&&((0===Zp[e]||t.full)&&(i=!0),Zp[e]=t.timestamp,t.polls.forEach(t=>{switch(t.type){case"DEVICE_DELTA":!function(e,t,n){let r={};const i=Np();if(i&&i[e]&&(r=i[e]),t){const t={hubId:e,devices:n};Ff.dispatch(Et.actions.setDevices(t))}else Object.entries(n).forEach(([t,n])=>{const i={hubId:e,device:n};t&&n?Ff.dispatch(Et.actions.setDevice(i)):t&&r[t]&&Ff.dispatch(Et.actions.deleteDevice(t))})}(e,i,t.devices);break;case"GROUP_DELTA":case"SCENE_DELTA":case"RULE_DELTA":case"USERS_DELTA":break;case"ROOM_DELTA":!function(e,t,n){let r={};const i=Dp();if(i&&i[e]&&(r=i[e]),t){const t={hubId:e,rooms:n};Ff.dispatch(wr.actions.setRooms(t))}else mr(n)||Object.entries(n).forEach(([t,n])=>{const i={hubId:e,room:n};t&&n?Ff.dispatch(wr.actions.setRoom(i)):t&&r[t]&&Ff.dispatch(wr.actions.removeRoom({hubId:e,roomId:t}))})}(e,i,t.rooms);break;case"ZONE_DELTA":case"USER_ALERTS":break;case"ALARM_DELTA":!function(e,t,n){let r={};const i=Pp();if(i&&i[e]&&(r=i[e]),t){const t={};mr(n)||Object.entries(n).forEach(([e,n])=>{t[e]=Rp(n)});const r={hubId:e,alarms:t};Ff.dispatch(Re.actions.setAlarms(r))}else mr(n)||Object.entries(n).forEach(([t,n])=>{if(t&&n){const t={hubId:e,alarm:Rp(n)};Ff.dispatch(Re.actions.setAlarm(t))}else t&&r[t]&&Ff.dispatch(Re.actions.removeAlarm({hubId:e,alarmId:t}))})}(e,i,t.alarms)}})),Xp[e]=!1,n(t)}).catch(t=>{console.error("SDK doPoll error: ",t.message),Xp[e]=!1,r(t)}))})}function nd(e){Wp[e]=!1;const t=Bf,n=e=>td(e).then(()=>{}).catch(()=>{});try{Jp[e]=setInterval(n,t,e)}catch(e){console.error("Catch startPollingById: ",e)}return td(e)}function rd(e){Wp[e]=!0,clearInterval(Jp[e])}function id(e,t=!1){return new Promise((n,r)=>{const i=Mp();if(!mr(i)){let o=null,a=null;return Object.values(i).every(n=>e!==n.id||(Ff.dispatch(Ct.actions.selectHub({hubId:n.id})),n.hubKey&&t?(o=nd(n.id),!1):n.hubKey?(console.debug("SDK selectHubById: Ready to start polling"),!1):(console.error("SDK selectHubById: No hub key error"),a=new Error("no hubKey"),!1))),o?o.then(e=>n(e)).catch(()=>n("polling started")):(a?r(a):!o&&t?r(new Error("hub not found")):n("ready to poll"),!0)}return r(new Error("no hubs")),!0})}function od(){return Or.selectors.getUser(Ff.getState())}function ad(){return Ct.selectors.getHubs(Ff.getState())}Uf("user.state",e=>{e===gr.AUTHENTICATED&&qp()});const sd={},cd={},ud={};function ld(e,t,n){(function(e){return new Promise((t,n)=>{if(sd[e])return console.debug("askZwaveInclusionStatus: inclusion stopped"),void n(new Error("inclusion stopped"));const r=ad()[e],{authKey:i}=od(),{hubKey:o}=r;if(console.debug("askZwaveInclusionStatus connection state: ",r.connectionState),r.connectionState!==We.LOCAL&&r.connectionState!==We.REMOTE)return console.warn("SDK askZwaveInclusionStatus: no Hub connection"),void n(new Error("no hub connection"));cd[e]?n(new Error("inclusion already in action")):(cd[e]=!0,Op({command:ze.ZWAVE_INCLUSION_STATUS,hubId:e,authKey:i,hubKey:o,localUrl:r.url,data:[]}).then(n=>{cd[e]=!1,t(n)}).catch(t=>{console.error("SDK: askZwaveInclusionStatus error: ",t.message),cd[e]=!1,n(t)}))})})(e).then(r=>{if(r&&r.status)switch(r.status){case Qf.RUNNING:setTimeout(()=>{ld(e,t,n)},$f);break;case Qf.SUCCESS:t(!0);break;case Qf.TIMEOUT:case Qf.CANCEL:t(!1);break;default:n(new Error("Invalid inclusion state"))}else n(new Error("Invalid inclusion state"))}).catch(e=>{console.error("Error in askZwaveInclusionStatusPromise: ",e),n(e)})}const fd={},pd={},dd={};function hd(e){return new Promise((t,n)=>{if(fd[e])return console.debug("askZwaveExclusionStatus: exclusion stopped"),void n(new Error("exclusion stopped"));const r=ad()[e],{authKey:i}=od(),{hubKey:o}=r;if(console.debug("askZwaveExclusionStatus connection state: ",r.connectionState),r.connectionState!==We.LOCAL&&r.connectionState!==We.REMOTE)return console.warn("SDK askZwaveExclusionStatus: no Hub connection"),void n(new Error("no hub connection"));pd[e]?n(new Error("exclusion already in action")):(pd[e]=!0,Op({command:ze.ZWAVE_EXCLUSION_STATUS,hubId:e,authKey:i,hubKey:o,localUrl:r.url,data:[]}).then(n=>{pd[e]=!1,t(n)}).catch(t=>{console.error("SDK: askZwaveExclusionStatus error: ",t.message),pd[e]=!1,n(t)}))})}const vd={};function yd(){return Or.selectors.getUser(Ff.getState())}function md(){return Ct.selectors.getHubs(Ff.getState())}var bd="[object Symbol]";var gd=function(e){return"symbol"==typeof e||zn(e)&&vn(e)==bd},Ed=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Od=/^\w*$/;var Td=function(e,t){if(nr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!gd(e))||(Od.test(e)||!Ed.test(e)||null!=t&&e in Object(t))},_d=Ln(Object,"create");var Id=function(){this.__data__=_d?_d(null):{},this.size=0};var Nd=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Sd="__lodash_hash_undefined__",wd=Object.prototype.hasOwnProperty;var Dd=function(e){var t=this.__data__;if(_d){var n=t[e];return n===Sd?void 0:n}return wd.call(t,e)?t[e]:void 0},Ad=Object.prototype.hasOwnProperty;var Rd=function(e){var t=this.__data__;return _d?void 0!==t[e]:Ad.call(t,e)},Pd="__lodash_hash_undefined__";var Cd=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_d&&void 0===t?Pd:t,this};function kd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kd.prototype.clear=Id,kd.prototype.delete=Nd,kd.prototype.get=Dd,kd.prototype.has=Rd,kd.prototype.set=Cd;var xd=kd;var jd=function(){this.__data__=[],this.size=0};var Ld=function(e,t){return e===t||e!=e&&t!=t};var Md=function(e,t){for(var n=e.length;n--;)if(Ld(e[n][0],t))return n;return-1},Fd=Array.prototype.splice;var Ud=function(e){var t=this.__data__,n=Md(t,e);return!(n<0)&&(n==t.length-1?t.pop():Fd.call(t,n,1),--this.size,!0)};var Vd=function(e){var t=this.__data__,n=Md(t,e);return n<0?void 0:t[n][1]};var Qd=function(e){return Md(this.__data__,e)>-1};var qd=function(e,t){var n=this.__data__,r=Md(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Kd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kd.prototype.clear=jd,Kd.prototype.delete=Ud,Kd.prototype.get=Vd,Kd.prototype.has=Qd,Kd.prototype.set=qd;var Bd=Kd;var Gd=function(){this.size=0,this.__data__={hash:new xd,map:new(Fn||Bd),string:new xd}};var $d=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Hd=function(e,t){var n=e.__data__;return $d(t)?n["string"==typeof t?"string":"hash"]:n.map};var Yd=function(e){var t=Hd(this,e).delete(e);return this.size-=t?1:0,t};var zd=function(e){return Hd(this,e).get(e)};var Jd=function(e){return Hd(this,e).has(e)};var Wd=function(e,t){var n=Hd(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Zd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zd.prototype.clear=Gd,Zd.prototype.delete=Yd,Zd.prototype.get=zd,Zd.prototype.has=Jd,Zd.prototype.set=Wd;var Xd=Zd,eh="Expected a function";function th(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(eh);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(th.Cache||Xd),n}th.Cache=Xd;var nh=th,rh=500;var ih=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oh=/\\(\\)?/g,ah=function(e){var t=nh(e,(function(e){return n.size===rh&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ih,(function(e,n,r,i){t.push(r?i.replace(oh,"$1"):n||e)})),t}));var sh=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ch=1/0,uh=rn?rn.prototype:void 0,lh=uh?uh.toString:void 0;var fh=function e(t){if("string"==typeof t)return t;if(nr(t))return sh(t,e)+"";if(gd(t))return lh?lh.call(t):"";var n=t+"";return"0"==n&&1/t==-ch?"-0":n};var ph=function(e){return null==e?"":fh(e)};var dh=function(e,t){return nr(e)?e:Td(e,t)?[e]:ah(ph(e))},hh=1/0;var vh=function(e){if("string"==typeof e||gd(e))return e;var t=e+"";return"0"==t&&1/e==-hh?"-0":t};var yh=function(e,t){for(var n=0,r=(t=dh(t,e)).length;null!=e&&n<r;)e=e[vh(t[n++])];return n&&n==r?e:void 0},mh=function(){try{var e=Ln(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var bh=function(e,t,n){"__proto__"==t&&mh?mh(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},gh=Object.prototype.hasOwnProperty;var Eh=function(e,t,n){var r=e[t];gh.call(e,t)&&Ld(r,n)&&(void 0!==n||t in e)||bh(e,t,n)},Oh=9007199254740991,Th=/^(?:0|[1-9]\d*)$/;var _h=function(e,t){var n=typeof e;return!!(t=null==t?Oh:t)&&("number"==n||"symbol"!=n&&Th.test(e))&&e>-1&&e%1==0&&e<t};var Ih=function(e,t,n,r){if(!yn(e))return e;for(var i=-1,o=(t=dh(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=vh(t[i]),u=n;if(i!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=yn(l)?l:_h(t[i+1])?[]:{})}Eh(s,c,u),s=s[c]}return e};var Nh=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=yh(e,a);n(s,a)&&Ih(o,dh(a,e),s)}return o};var Sh=function(e,t){return null!=e&&t in Object(e)};var wh=function(e,t,n){for(var r=-1,i=(t=dh(t,e)).length,o=!1;++r<i;){var a=vh(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ir(i)&&_h(a,i)&&(nr(e)||tr(e))};var Dh=function(e,t){return null!=e&&wh(e,t,Sh)};var Ah=function(e,t){return Nh(e,t,(function(t,n){return Dh(e,n)}))};var Rh=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ph=rn?rn.isConcatSpreadable:void 0;var Ch=function(e){return nr(e)||tr(e)||!!(Ph&&e&&e[Ph])};var kh=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=Ch),o||(o=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,i,o):Rh(o,c):i||(o[o.length]=c)}return o};var xh=function(e){return(null==e?0:e.length)?kh(e,1):[]};var jh=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Lh=Math.max;var Mh=function(e,t,n){return t=Lh(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Lh(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),jh(e,this,s)}};var Fh=function(e){return function(){return e}};var Uh=mh?function(e,t){return mh(e,"toString",{configurable:!0,enumerable:!1,value:Fh(t),writable:!0})}:function(e){return e},Vh=800,Qh=16,qh=Date.now;var Kh=function(e){var t=0,n=0;return function(){var r=qh(),i=Qh-(r-n);if(n=r,i>0){if(++t>=Vh)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Uh);var Bh=function(e){return Kh(Mh(e,void 0,xh),e+"")}((function(e,t){return null==e?{}:Ah(e,t)}));function Gh(e,t,n,r,i){return new Promise((t,o)=>{const a=Ff.getState(),s=Or.selectors.getUser(a);if(!s||!s.authKey)return console.error("SDK sendDeviceCmd error: No userKey!"),void o(new Error("Device command error: No userKey!"));const c=Ct.selectors.getHubs(a),u=c[e],{hubKey:l}=c[e];if(!u||!l)return console.error("SDK sendDeviceCmd error: No hubKey!"),void o(new Error("Device command error: No hubKey!"));if(u.connectionState!==We.LOCAL&&u.connectionState!==We.REMOTE)return console.error("SDK sendDeviceCmd error: No Hub connection"),void o(new Error("Device command error: No hub connection"));const{authKey:f}=s;if(!f)return console.error("SDK sendDeviceCmd error: No authKey!"),void o(new Error("Device command error: No hubKey!"));let p=r;mr(i)||(p=Bh(p,i)),n&&Op({command:n,method:void 0,authKey:f,hubId:e,localUrl:u.url,hubKey:l,data:[p]}).then(e=>{console.debug("SDK sendDeviceCmd ok",e),t(e)}).catch(e=>{console.error("SDK sendDeviceCmd error:",e),o(new Error("Device command error!"))})})}function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$h(r,!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yh(){const e=Ff.getState();return df.selectors.getPlans(e)}const zh=Object.freeze({LOCATION:"LOCATION",TEMPLATE:"TEMPLATE",HUB:"HUB"});Object.freeze({DUMMY:"DUMMY"});e.CLOUD_CONNECTION_STATES=Je,e.HUB_CONNECTION_STATES=We,e.HUB_STATES=Vf,e.LANGUAGES=br,e.PLAN_NODES=zh,e.ROLES=Er,e.USER_STATES=gr,e.ZWAVE_EXCLUSION_STATUS=qf,e.ZWAVE_INCLUSION_STATUS=Qf,e.acceptEula=function(){return Ff.dispatch(Or.actions.setEula(!0)),Tp().state===gr.WAITING_EULA&&Ff.dispatch(Or.actions.changeState(gr.EULA_ACCEPTED)),!0},e.addDeviceType=function(e){Ff.dispatch(df.actions.addDeviceType(e))},e.addLocationNode=function(e,t){Ff.dispatch(df.actions.addLocationNode({parentId:e,newNode:t}))},e.addRoom=async function(e,t){return new Promise((n,r)=>{Ap(e,ze.CMD_SET_ROOM,[t]).then(e=>{n(e)}).catch(e=>{r(e)})})},e.addRoomName=function(e){Ff.dispatch(df.actions.addRoomName(e))},e.addRuleType=function(e){Ff.dispatch(df.actions.addRuleType(e))},e.addSceneType=function(e){Ff.dispatch(df.actions.addSceneType(e))},e.addTemplate=function(e){Ff.dispatch(df.actions.addTemplate(e))},e.changeLanguage=function(e){let t=!1;return Object.values(br).indexOf(e)>-1&&(Ff.dispatch(Or.actions.setLanguage(e)),t=!0,Tp().state===gr.WAITING_LANGUAGE&&Ff.dispatch(Or.actions.changeState(gr.LANGUAGE_SET))),t},e.closeAlarm=async function(e,t){const n=t;return new Promise((t,r)=>{Cp(e,ze.CMD_CLOSE_ALARM,{alarmId:n.id}).then(e=>{t(e)}).catch(e=>{r(e)})})},e.connectHubByTokens=function(e,t,n=!1,r=!0){return new Promise((i,o)=>{const{authKey:a}=Up();e||o(new Error("No Hub Id")),t||o(new Error("No hubKey")),a||o(new Error("No AuthKey"));const s={};s[e]=t,Vp(s,n,r).then(()=>{id(e,!1).then(()=>{i(Mp())}).catch(e=>o(e))}).catch(e=>o(e))})},e.cozifyReducer=Cf,e.deleteDevice=Rt,e.devicesState=Et,e.doPoll=td,e.doPwLogin=function(e,t){return new Promise((n,r)=>{Op({command:ze.USER_LOGIN,data:{email:e,password:t}}).then(e=>{e&&Xf(e)&&(Ff.dispatch(Or.actions.setAuthKey(e)),Tp().state===gr.WAITING_LOGIN&&Ff.dispatch(Or.actions.changeState(gr.LOGIN_DONE))),n(e)}).catch(e=>{console.debug("doPwLogin error",e),r(new Error("Login failure"))})})},e.doRemoteIdQuery=Lp,e.doZwaveExclusion=async function(e){return new Promise((t,n)=>{fd[e]=!1,function(e){return new Promise((t,n)=>{if(fd[e])return console.debug("startZwaveExclusion: exclusion stopped"),void n(new Error("exclusion stopped"));const r=ad()[e],{authKey:i}=od(),{hubKey:o}=r;if(console.debug("startZwaveExclusion connection state: ",r.connectionState),r.connectionState!==We.LOCAL&&r.connectionState!==We.REMOTE)return console.warn("SDK startZwaveExclusion: no Hub connection"),void n(new Error("no hub connection"));pd[e]?n(new Error("exclusion already in action")):(pd[e]=!0,Op({command:ze.ZWAVE_START_EXCLUSION,hubId:e,authKey:i,hubKey:o,localUrl:r.url,data:[]}).then(r=>{pd[e]=!1,r.status===qf.RUNNING?t(r):(console.error("SDK: doExclusionById - wrong state: ",r),n(r))}).catch(t=>{console.error("SDK: doExclusionById error: ",t.message),pd[e]=!1,n(t)}))})}(e).then(r=>{r&&r.status===qf.RUNNING?new Promise((t,n)=>{!function e(t,n,r){hd(t).then(i=>{if(i&&i.status)switch(i.status){case qf.RUNNING:setTimeout(()=>{e(t,n,r)},Hf);break;case qf.SUCCESS:n(!0);break;case qf.TIMEOUT:case qf.CANCEL:n(!1);break;default:r(new Error("Wrong exclusion status"))}else r(new Error("Wrong exclusion status"))}).catch(e=>{console.error("Error in askZwaveExclusionStatusPromise: ",e),r(e)})}(e,t,n)}).then(e=>{t(e)}).catch(e=>{n(e)}):n(new Error("Wrong exclusion status"))}).catch(e=>{console.error("Error in doZwaveExclusion: ",e),n(e)})})},e.doZwaveInclusion=async function(e){return new Promise((t,n)=>{sd[e]=!1,function(e){return new Promise((t,n)=>{if(sd[e])return console.debug("startZwaveInclusion: inclusion stopped"),void n(new Error("inclusion stopped"));const r=ad()[e],{authKey:i}=od(),{hubKey:o}=r;if(console.debug("startZwaveInclusion connection state: ",r.connectionState),r.connectionState!==We.LOCAL&&r.connectionState!==We.REMOTE)return console.warn("SDK startZwaveInclusion: no Hub connection"),void n(new Error("no hub connection"));cd[e]?n(new Error("inclusion already in action")):(cd[e]=!0,Op({command:ze.ZWAVE_START_INCLUSION,hubId:e,authKey:i,hubKey:o,localUrl:r.url,data:[]}).then(r=>{cd[e]=!1,r?r.status===Qf.RUNNING?t(r):n(r):n(new Error("No inclusion state received"))}).catch(t=>{console.error("SDK: startZwaveInclusion error: ",t.message),cd[e]=!1,n(t)}))})}(e).then(r=>{r&&r.status===Qf.RUNNING?new Promise((t,n)=>{ld(e,t,n)}).then(e=>{t(e)}).catch(e=>{n(e)}):n(new Error("Wrong inclusion status"))}).catch(e=>{console.error("Error in doZwavePairing: ",e),n(e)})})},e.editRoom=async function(e,t){return new Promise((n,r)=>{Ap(e,ze.CMD_SET_ROOM,[t]).then(e=>{n(e)}).catch(e=>{r(e)})})},e.fetchPlanDocuments=async function(e){return new Promise((t,n)=>{try{Ff.dispatch(reactFetchDocuments(e));Ff.getState();t(function(e){const t=Ff.getState();return _f.selectors.selectByPlanId(t,e)}())}catch(e){n(error)}})},e.fetchPlans=async function(){return new Promise((e,t)=>{try{Ff.dispatch(lf());Ff.getState();e(Yh())}catch(e){t(error)}})},e.getAlarms=Pp,e.getCloudConnectionState=function(){const e=Ff.getState();return Ze.selectors.getConnections(e).cloudState},e.getDevices=Np,e.getHubAlarms=function(e){let t;const n=Pp();return n&&n[e]&&(t=n[e]),t},e.getHubConnectionState=function(e){const t=Ff.getState();return Ct.selectors.getHubs(t)[e]?Ct.selectors.getHubs(t)[e].connectionState:We.UNCONNECTED},e.getHubDevices=function(e){let t;const n=Np();return n&&n[e]&&(t=n[e]),t},e.getHubPairingDevices=function(e){let t;const n=Sp();return n&&n[e]&&(t=n[e]),t},e.getHubRooms=function(e){let t;const n=Dp();return n&&n[e]&&(t=n[e]),t},e.getHubs=Mp,e.getModbusDevicePairings=async function(e){return new Promise((t,n)=>{const r=md()[e],{authKey:i}=yd(),{hubKey:o}=r;if(console.debug("getModbusDevices connection state: ",r.connectionState),r.connectionState!==We.LOCAL&&r.connectionState!==We.REMOTE)return console.warn("SDK getModbusDevices: no Hub connection"),void n(new Error("no hub connection"));Op({command:ze.GET_MODBUS_DEVICE_PAIRINGS,hubId:e,authKey:i,hubKey:o,localUrl:r.url,data:[]}).then(e=>(console.info("SDK: getModbusDevicePairings success: ",e),t(e))).catch(e=>{console.error("SDK: getModbusDevicePairings error: ",e.message),n(e)})})},e.getPairingDevices=Sp,e.getRooms=Dp,e.getUserState=function(){return Tp().state},e.healZwave=async function(e){return new Promise((t,n)=>{if(vd[e])return void n(new Error("healingInAction already in action"));vd[e]=!0;const{authKey:r}=od(),i=ad()[e],{hubKey:o}=i;Op({command:ze.ZWAVE_HEAL,hubId:e,authKey:r,hubKey:o,localUrl:i.url,data:[]}).then(n=>{console.debug("SDK: healZwave: Ok , status: ",n),vd[e]=!1,t("ok")}).catch(t=>{console.error("SDK: healZwave error: ",t.message),vd[e]=!1,n(t)})})},e.hubsState=Ct,e.identifyDevice=function(e,t){return Gh(e,0,ze.CMD_DEVICE_IDENTIFY,{id:t})},e.ignorePairingByIds=function(e,t,n){const{authKey:r}=Up(),i=Mp()[e],{hubKey:o}=i;return Op({command:ze.PAIR_IGNORE,hubId:e,authKey:r,hubKey:o,localUrl:i.url,data:{id:t,ignored:n}})},e.isZwaveEnabled=async function(e){return new Promise((t,n)=>{hd(e).then(e=>{e&&e.status!==qf.NO_ZWAVE?t(!0):t(!1)}).catch(e=>{console.error("Error in isZwaveEnabled: ",e),n(e)})})},e.lockAndBackup=function(e,t,n){return new Promise((r,i)=>{Op({command:ze.HUB_LOCK_BACKUP,authKey:t,hubKey:n,hubId:e}).then(e=>{r(e)}).catch(t=>{console.log(`doRemoteIdQuery ${e} error `,t.message),i(t)})})},e.reactFetchPlanDocuments=Of,e.reactFetchPlans=lf,e.reactSelectAllDocuments=wf,e.reactSelectAllPlans=gf,e.reactSelectPlanDocuments=Af,e.reactSetPlan=ff,e.removeAlarm=async function(e,t){const n=t;return new Promise((t,r)=>{Cp(e,ze.CMD_REMOVE_ALARM,{alarmId:n.id}).then(e=>{t(e)}).catch(e=>{r(e)})})},e.removeDeviceType=function(e){Ff.dispatch(df.actions.removeDeviceType(e))},e.removeLocationNode=function(e){Ff.dispatch(df.actions.removeLocationNode(e))},e.removeRoom=async function(e,t){return new Promise((n,r)=>{Ap(e,ze.CMD_REMOVE_ROOM,{roomId:t.id}).then(e=>{n(e)}).catch(t=>{if(t.response&&t.response.status&&404===t.response.status){const t=Dp();n(t[e])}r(t)})})},e.removeRoomName=function(e){Ff.dispatch(df.actions.removeRoomName(e))},e.removeRuleType=function(e){Ff.dispatch(df.actions.removeRuleType(e))},e.removeSceneType=function(e){Ff.dispatch(df.actions.removeSceneType(e))},e.removeTemplate=function(e){Ff.dispatch(df.actions.removeTemplate(e))},e.selectHubById=id,e.sendDeviceCmd=Gh,e.sendDeviceStateCmd=function(e,t,n,r){return new Promise((i,o)=>{const a=Ff.getState(),s=Or.selectors.getUser(a);if(!s||!s.authKey)return console.error("SDK sendDeviceStateCmd error: No userKey!"),void o(new Error("Device command error: No userKey!"));const c=Ct.selectors.getHubs(a);if(!c[e]||!c[e].hubKey)return console.error("SDK sendDeviceStateCmd error: No hubKey!"),void o(new Error("Device command error: No hubKey!"));const{authKey:u}=s,{hubKey:l}=c[e];let f=n;mr(r)||(f=Bh(f,r)),Op({command:ze.CMD_DEVICE_STATE,authKey:u,hubId:e,hubKey:l,data:[{id:t,state:f}]}).then(e=>{console.debug("SDK sendDeviceCmd ok",e),i(e)}).catch(e=>{console.error(e),console.error("SDK sendDeviceStateCmd error:",e),o(new Error("Device state command error!"))})})},e.setAuthenticated=function(e){return Ff.dispatch(Or.actions.setAuthenticated(e)),Tp()},e.setDeviceMeta=function(e,t,n,r){return Gh(e,0,ze.CMD_DEVICE_META,{id:t,name:n,room:r})},e.setDevices=At,e.setLocationNode=function(e){Ff.dispatch(df.actions.setLocationNode(e))},e.setModbusDevicePairings=async function(e,t){return new Promise((n,r)=>{const i=md()[e],{authKey:o}=yd(),{hubKey:a}=i;if(console.debug("setModbusDevices connection state: ",i.connectionState),i.connectionState!==We.LOCAL&&i.connectionState!==We.REMOTE)return console.warn("SDK setModbusDevices: no Hub connection"),void r(new Error("no hub connection"));let s=!1;const c=[];t.map(e=>{e.address||(s=!0,r(new Error("Invalid address"))),e.deviceType||(s=!0,r(new Error("Invalid device type")));const t={address:Number(e.address),deviceType:e.deviceType,name:e.name||"",readDeviceIdSupported:e.readDeviceIdSupported,registerRequired:e.registerRequired,register:void 0,registerType:void 0,normallyOff:!1,type:"PAIR_MODBUS"};return"RELAY"!==e.deviceType&&"SIGNAL"!==e.deviceType||(t.normallyOff=!!e.normallyOff),null!=e.name&&e.name.length>0&&null!=e.address&&e.address<=247&&e.address>0?e.registerRequired?null!=e.register&&e.register>=0&&e.register<=65535&&e.registerType?(t.registerRequired=!0,t.register=Number(e.register),t.registerType=Number(e.registerType)):(s=!0,r(new Error("Invalid register data"))):t.registerRequired=!1:(s=!0,r(new Error("Invalid name or address data"))),c.push(t),!0}),!s&&c.length>0?Op({command:ze.SET_MODBUS_DEVICE_PAIRINGS,hubId:e,authKey:o,hubKey:a,localUrl:i.url,data:c}).then(e=>(console.info("SDK: setModbusDevicePairings success: ",e),e&&!0===e?n(e):r(new Error(e?e.message:"unknown error")))).catch(e=>{console.error("SDK: setModbusDevicePairings error: ",e.message),r(e)}):r(new Error("Invalid data"))})},e.setTemplate=function(e){Ff.dispatch(df.actions.setTemplate(e))},e.simplifyPlans=function(){const e=Yh(),t={};return t.locations=function t(n){console.log("simply id",n.id),console.log("simply data",n.data);const r=[];for(let i=0;i<n.childIds.length;i+=1){const{childIds:o}=n,a=void 0!==o&&o.length>0;e.locations[n.childIds[i]]&&e.locations[n.childIds[i]].data&&(r[i]=Hh({},e.locations[n.childIds[i]].data),r[i].id=n.childIds[i],r[i].child=a?t(e.locations[n.childIds[i]]):void 0)}return console.log(`simply ${n.id} return`,r),r}(e.locations.root),t},e.startDiscoveringHubs=qp,e.startPairingById=function(e,t){const n=Gf;Bp[e]=!1;const r=(e,t)=>Hp(e,t).then(()=>{}).catch(()=>{});try{Kp[e]=setInterval(r,n,e,t)}catch(e){console.error("Catch startPairingById: ",e)}return Hp(e,t)},e.startPollingById=nd,e.stopDiscoveringHubs=function(){clearInterval(kp)},e.stopPairingById=zp,e.stopPairings=function(){const e=Mp();Object.values(e).forEach(e=>{zp(e.id).then(()=>console.debug("SDK: pairingStopped: ",e.id)).catch(()=>console.log("SDK: pairingStopped error: ",e.id))})},e.stopPollingById=rd,e.stopZwaveExclusion=async function(e){return new Promise((t,n)=>{if(dd[e])return void n(new Error("stopExclusionById already stopping"));dd[e]=!0;const{authKey:r}=od(),i=ad()[e],{hubKey:o}=i;Op({command:ze.ZWAVE_STOP_EXCLUSION,hubId:e,authKey:r,hubKey:o,localUrl:i.url,data:[]}).then(n=>{console.debug("SDK: stopZwaveExclusion: Ok , status: ",n),fd[e]=!0,dd[e]=!1,t("ok")}).catch(t=>{console.error("SDK: stopZwaveExclusion error: ",t.message),dd[e]=!1,n(t)})})},e.stopZwaveInclusion=async function(e){return new Promise((t,n)=>{if(ud[e])return void n(new Error("stopInclusionById already stopping"));ud[e]=!0;const{authKey:r}=od(),i=ad()[e],{hubKey:o}=i;Op({command:ze.ZWAVE_STOP_INCLUSION,hubId:e,authKey:r,hubKey:o,localUrl:i.url,data:[]}).then(n=>{console.debug("SDK: stopZwavePairing: Ok , status: ",n),sd[e]=!0,ud[e]=!1,t("ok")}).catch(t=>{console.error("SDK: stopZwavePairing error: ",t.message),ud[e]=!1,n(t)})})},e.store=Ff,e.unSelectHubById=function(e){const t=Mp();Object.values(t).forEach(t=>{e===t.id&&(Ff.dispatch(Ct.actions.unSelectHub({hubId:t.id})),rd(t.id))})},e.unSelectHubs=function(){const e=Mp();Object.values(e).forEach(e=>{Ff.dispatch(Ct.actions.unSelectHub({hubId:e.id})),rd(e.id)})},e.unpairDevice=function(e,t){return Gh(e,0,ze.CMD_DEVICE_IGNORE,{id:t})},e.updateHubs=Qt,e.urlBase64Decode=qe,e.useTestcloud=function(){$e=Be},e.watchChanges=Uf,Object.defineProperty(e,"__esModule",{value:!0})}));
